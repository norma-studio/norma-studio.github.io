
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Изменение размера и манипулирование изображениями в PHP (с примерами)... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Изменение размера и манипулирование изображениями в PHP (с примерами)... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Изменение размера и манипулирование изображениями в PHP (с примерами)... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Изменение размера и манипулирование изображениями в PHP (с примерами)... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В предыдущем уроке мы обсудили основные манипуляции с изображениями с помощью библиотеки PHP GD. В этом уроке я дал краткое введение в библиотеку и показал вам, как загружать изображения из файла или создавать их с нуля в PHP. После этого мы научились кадрировать, вращать, масштабировать и переворачивать изображение с помощью GD. Я применил функцию...">
<meta property="og:description" content="В предыдущем уроке мы обсудили основные манипуляции с изображениями с помощью библиотеки PHP GD. В этом уроке я дал краткое введение в библиотеку и показал вам, как загружать изображения из файла или создавать их с нуля в PHP. После этого мы научились кадрировать, вращать, масштабировать и переворачивать изображение с помощью GD. Я применил функцию...">
<meta name="twitter:description" content="В предыдущем уроке мы обсудили основные манипуляции с изображениями с помощью библиотеки PHP GD. В этом уроке я дал краткое введение в библиотеку и показал вам, как загружать изображения из файла или создавать их с нуля в PHP. После этого мы научились кадрировать, вращать, масштабировать и переворачивать изображение с помощью GD. Я применил функцию...">
<meta property="aiturec:description" content="В предыдущем уроке мы обсудили основные манипуляции с изображениями с помощью библиотеки PHP GD. В этом уроке я дал краткое введение в библиотеку и показал вам, как загружать изображения из файла или создавать их с нуля в PHP. После этого мы научились кадрировать, вращать, масштабировать и переворачивать изображение с помощью GD. Я применил функцию...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1251/posts/31766/image/convolution-matrix.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1251/posts/31766/image/convolution-matrix.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1251/posts/31766/image/convolution-matrix.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1251/posts/31766/image/convolution-matrix.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1251/posts/31766/image/convolution-matrix.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami.html" title="Изменение размера и манипулирование изображениями в PHP (с примерами)... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Изменение размера и манипулирование изображениями в PHP (с примерами)... | envatomarket.ru | norma-studio.github.io" title="Изменение размера и манипулирование изображениями в PHP (с примерами)... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64533ghhjgjj.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami.html" class="tm-user-info__username" title="
С. Парфенов" aria-label="
С. Парфенов">
С. Парфенов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Изменение размера и манипулирование изображениями в PHP (с примерами)...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="PHP" href="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami" class="tm-article-snippet__hubs-item-link"><span>PHP</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1251/posts/31766/image/convolution-matrix.jpg">
    <meta itemprop="headline name" content="Изменение размера и манипулирование изображениями в PHP (с примерами)... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В предыдущем уроке мы обсудили основные манипуляции с изображениями с помощью библиотеки PHP GD. В этом уроке я дал краткое введение в библиотеку и показал вам, как загружать изображения из файла или создавать их с нуля в PHP. После этого мы научились кадрировать, вращать, масштабировать и переворачивать изображение с помощью GD. Я применил функцию...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В предыдущем уроке мы обсудили основные манипуляции с изображениями с помощью библиотеки PHP GD. В этом уроке я дал краткое введение в библиотеку и показал вам, как загружать изображения из файла или создавать их с нуля в PHP. После этого мы научились кадрировать, вращать, масштабировать и переворачивать изображение с помощью GD. Я применил функцию...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>В предыдущем уроке мы обсудили основные <span>манипуляции с изображениями с помощью библиотеки PHP GD</span>. В этом уроке я дал краткое введение в библиотеку и показал вам, как загружать изображения из файла или создавать их с нуля в PHP. После этого мы научились кадрировать, вращать, масштабировать и переворачивать изображение с помощью GD. Я применил функцию <code class="inline">imagefilter()</code>, чтобы применить различные фильтры к ресурсам изображений, загруженным в сценарий. Я также упомянул о некоторых полезных функциях в GD, таких как <code class="inline">imagesx()</code> и <code class="inline">imagesy()</code>, чтобы получить ширину и высоту загруженного изображения.</p><p>К концу моего последнего учебника GD вы узнали, как использовать библиотеку для автоматизации основных задач, таких как изменение размера всех изображений в каталоге или применение на них фильтров, таких как оттенки серого, прежде чем сохранять окончательный результат. Если вы никогда раньше не использовали библиотеку PHP GD, я бы посоветовал вам перейти к этой <span>вводной статье GD</span>, прежде чем читать эту.</p><p>В этом уроке мы узнаем о многих других полезных функциях в GD и о том, как их можно использовать для автоматизации наших задач манипулирования изображениями.</p><h2>Манипулирование изображениями с использованием матрицы свертки</h2><p>За исключением пикселей на краях, каждый пиксель в изображении окружен восемью другими пикселями. Эффекты, такие как размытие или обнаружение края, вычисляются для каждого пикселя в зависимости от значения этого пикселя и значений окружающих пикселей. Например, при обнаружении краев резкое изменение цвета означает, что мы достигли края какого-либо объекта на изображении. Например, внезапное изменение от белого до коричневого на изображении ниже означает границу чашки и стола.</p><p>Легкий способ указать такой фильтр - это так называемая «матрица свертки». GD предоставляет функцию <code class="inline">imageconvolution($image, $matrix, $div, $offset)</code> для применения матрицы свертки 3x3 к изображению ресурса <code class="inline">$image</code>. </p><p>Параметр <code class="inline">$matrix</code> представляет собой массив из трех массивов, каждый из которых содержит три значения с плавающей точкой - то есть это матрица 3х3. Первый элемент первого массива умножается на значение цвета верхнего левого пикселя. Аналогично, второй элемент первого массива умножается на значение цвета пикселя непосредственно поверх центрального пикселя. Конечный цвет пикселя получается путем добавления результата всех этих умножений, а затем деления его на <code class="inline">$div</code> для нормализации. Обычно нормализация сохраняет окончательное значение цвета ниже 255.<br></p><p>Как мы видели, параметр <code class="inline">$div</code> используется как делитель для результата свертки для нормализации его значения. С другой стороны, параметр <code class="inline">$offset</code> используется для указания значения смещения для всех цветов. Вы увидите, как это влияет на конечный результат в приведенных ниже примерах.<br></p><h3>Примеры свертки</h3><p>Вот список некоторых различных матриц свертки, которые мы применили к изображению чашки на столе.</p><h4>Размытие Blur</h4><pre class="brush: php noskimlinks noskimwords">$box_blur = array([1, 1, 1], [1, 1, 1], [1, 1, 1]);imageconvolution($im_php, $box_blur, 9, 0);</pre><p>Размытие Blur работает, просто усредняя каждый пиксель со своими соседями. Мы устанавливаем значение делителя на 9, потому что сумма всех элементов в трех массивах равна 9.</p><h4>Резкость Sharpen </h4><pre class="brush: php noskimlinks noskimwords">$sharpen = array([0, -1, 0], [-1, 5, -1], [0, -1, 0]);imageconvolution($im_php, $sharpen, 1, 0);</pre><p>Sharpen работает, преувеличивая различия между каждым пикселем и его соседями. Это делает края немного яснее. В случае резкости делитель равен 1, так как сумма всех элементов в трех массивах равна 1. </p><h4>Тиснение Emboss</h4><pre class="brush: php noskimlinks noskimwords">$emboss = array([-2, -1, 0], [-1, 1, 1], [0, 1, 2]);imageconvolution($im_php, $emboss, 1, 0);</pre><p>Матрица тиснения аналогична матрице резкости, за исключением того, что значения отрицательны в верхнем левом и положительном в нижнем правом - вот что создает эффект тиснения. Сумма всех элементов в случае матрицы свертки тиснения равна 1, поэтому нам не нужно беспокоиться о нормализации или смещении цвета.</p><h4>Обнаружение краев</h4><pre class="brush: php noskimlinks noskimwords">$edge_detect = array([-1, -1, -1], [-1, 8, -1], [-1, -1, -1]);imageconvolution($im_php, $edge_detect, 1, 0);imageconvolution($im_php, $edge_detect, 1, 255);</pre><p>Обнаружение кромок похоже на резкость, но эффект еще сильнее. Кроме того, исходное значение изображения дается не больше, чем у соседей - это значит, что мы заботимся только о краях, а не о оригинальных сплошных цветных областях. </p><p>При обнаружении края сумма всех элементов массива равна 0. Это означает, что изображение, которое мы получим, будет в основном черным, если не произойдет резкого изменения цвета, что обычно происходит на краях объектов. В основном черное изображение может быть повернуто на белый, установив параметр смещения на 255.</p><p>На следующем рисунке показан результат всех этих сверточных матриц.<br></p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1251/posts/31766/image/convolution-matrix.jpg" alt="Изменение размера и манипулирование изображениями в PHP (с примерами)..." title="Изменение размера и манипулирование изображениями в PHP (с примерами)..." width="50" height="50"></figure><h2>Функции копирования изображений</h2><p>PHP GD имеет множество функций для копирования части изображения, а затем изменения размера или слияния. При использовании этих функций важно помнить, что PHP рассматривает верхний левый угол ресурса изображения как его источник. Положительное значение <strong>x</strong> приведет вас вправо от изображения, а положительное значение <strong>y</strong> приведет вас к дальнейшему снижению.</p><p>Простейшей из этих функций является <code class="inline">imagecopy($dst_im, $src_im, $dst_x, $dst_y, $src_x, $src_y, $src_w, $src_h)</code>. Она скопирует исходное изображение на изображение назначения. Параметры <code class="inline">$dst_x</code> и <code class="inline">$dst_y</code> определяют верхний левый угол, в который будет вставлено скопированное изображение. Параметры <code class="inline">$src_x</code>, <code class="inline">$src_y</code>, <code class="inline">$src_w</code> и <code class="inline">$src_h</code> определяют прямоугольную часть исходного изображения, которая будет скопирована в пункт назначения.</p><p>Вы можете использовать эту функцию для обрезки изображений, создавая изображение с нуля с помощью <code class="inline">imagecreatetruecolor()</code> и копируя в него прямоугольник обрезки исходного изображения. Вы также можете использовать его для добавления водяных знаков на изображениях, но вы должны помнить, что с помощью этого метода размер водяного знака не может быть изменен в зависимости от размера наших изображений.</p><p>Одним из решений этой проблемы является использование функций <code class="inline">imagecopyresized($dst_im, $src_im, $dst_x, $dst_y, $src_x, $src_y, $dst_w, $dst_h, $src_w, $src_h)</code>. Он принимает все параметры <code class="inline">imagecopy()</code> и два дополнительных параметра для определения размера области назначения, в которой будет скопировано исходное изображение.</p><p>Функция <code class="inline">imagecopyresized()</code> не идеальна, так как она масштабирует изображение вверх и вниз не очень хорошо. Однако, вы можете получить более качественное изменение размера с помощью функции <code class="inline">imagecopyresampled()</code>, которая принимает все те же параметры.</p><h3>Копирование с прозрачностью</h3><p>Есть еще две функции, связанные с копированием изображений, которые вы найдете очень полезными: <code class="inline">imagecopymerge()</code> и <code class="inline">imagecopymergegray()</code>.</p><p>Функция <code class="inline">imagecopymerge($dst_im, $src_im, $dst_x, $dst_y, $src_x, $src_y, $src_w, $src_h, $pct)</code> похожа на <code class="inline">imagecopy()</code>, где дополнительный параметр <code class="inline">$pct</code> определяет прозрачность скопированного образ. Значение 0 означает отсутствие прозрачности, а значение 100 означает полную прозрачность. Это будет очень полезно, если вы не хотите полностью скрывать содержимое основного изображения за вашим водяным знаком.</p><p>С другой стороны, функция <code class="inline">imagecopymergegray()</code> использует последний параметр для преобразования исходного изображения в оттенки серого. Если он установлен в 0, исходное изображение потеряет весь его цвет. Если установлено значение 100, исходное изображение останется неизменным.</p><h3>Пример копирования изображения</h3><p>Следующий пример использует функцию <code class="inline">imagecopy()</code>, чтобы превратить правую половину изображения в негатив. Мы уже обсуждали другие функции, такие как <code class="inline">imagefilter()</code> и <code class="inline">imagescale()</code>, используемые в этом фрагменте кода в <span>предыдущем уроке</span>.</p><pre class="brush: php noskimlinks noskimwords">$im_php = imagecreatefromjpeg("fish-mosaic.jpg");$im_php = imagescale($im_php, 800);$im_php_inv = imagescale($im_php, 800);$im_width = imagesx($im_php);$im_height = imagesy($im_php);imagefilter($im_php_inv, IMG_FILTER_NEGATE);imagecopy($im_php, $im_php_inv, $im_width/2, 0, $im_width/2, 0, $im_width/2, $im_height);$new_name = "fish-mosaic-half-negate.jpg"; imagejpeg($im_php, $new_name);</pre><p>Здесь мы создаем две копии исходного изображения, каждая из которых была уменьшена до ширины 800 пикселей. После этого мы используем функцию <code class="inline">imagefilter()</code> для создания негатива ресурса изображения <code class="inline">$img_php_inv</code>. Правая половина этого негатива затем копируется на исходное изображение с помощью функции <code class="inline">imagecopy()</code>.</p><p>Это было очень простое использование функции <code class="inline">imagecopy()</code>. Вы можете увидеть результаты ниже. Вы также можете разделить изображение на более мелкие секции или полосы, чтобы создавать более интересные эффекты изображения. Мы будем использовать функцию <code class="inline">imagecopymergegray()</code> в фрагменте кода ниже, чтобы создать намного больше полос в исходном изображении рыбы.</p><pre class="brush: php noskimlinks noskimwords">$im_php = imagecreatefromjpeg("fish-mosaic.jpg");$im_php = imagescale($im_php, 800);$im_php_bw = imagescale($im_php, 800);$im_width = imagesx($im_php);$im_height = imagesy($im_php);$stripes = 200;for($i = 0; $i &lt; $stripes; $i++) {    if($i%2 == 0) {        imagecopymergegray($im_php, $im_php_bw, $i*$im_width/$stripes, 0, $i*$im_width/$stripes, 0, $im_width/$stripes, $im_height, 0);    } else {        imagecopymergegray($im_php, $im_php_bw, $i*$im_width/$stripes, 0, $i*$im_width/$stripes, 0, $im_width/$stripes, $im_height, 100);    }}imagefilter($im_php, IMG_FILTER_CONTRAST, -255);imagefilter($im_php, IMG_FILTER_COLORIZE, 250, 0, 0, 100);$new_name = "fish-mosaic-stripes.jpg"; imagejpeg($im_php, $new_name);</pre><p>Вышеприведенный пример кода использует аналогичную стратегию для предыдущего примера, но на этот раз мы разделили изображение на более мелкие полосы, которые переводятся в оттенки серого или сохраняются неизменными на основе значения переменной <code class="inline">$i</code>. После завершения всех операций слияния копий мы применяем два фильтра на изображении, чтобы выделить полосы.</p><p>На следующем рисунке показан конечный результат этих двух функций в сочетании с различными фильтрами изображений.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1251/posts/31766/image/fish-mosaic.jpg" alt="Изменение размера и манипулирование изображениями в PHP (с примерами)..." title="Изменение размера и манипулирование изображениями в PHP (с примерами)..." width="50" height="50"></figure><h2>Добавление водяных знаков или другой информации в изображениях<br></h2><p>Некоторые организации добавляют водяные знаки к своим изображениям, чтобы было ясно, что они имеют изображение. Это также увеличивает узнаваемость бренда и отговаривает других людей от грубого копирования изображений. Благодаря PHP GD, водяные знаки - это простая задача.<br></p><pre class="brush: php noskimlinks noskimwords">$im_php = imagecreatefromjpeg("waterfall.jpg");$watermark = imagecreatefrompng("watermark.png");$im_width = imagesx($im_php);$im_height = imagesy($im_php);$watermark = imagescale($watermark, $im_width/5);$wt_width = imagesx($watermark);$wt_height = imagesy($watermark);imagecopy($im_php, $watermark, 0.95*$im_width - $wt_width, 0.95*$im_height - $wt_height, 0, 0, $wt_width, $wt_height);$new_name = "waterfall-watermark.jpg"; imagejpeg($im_php, $new_name);</pre><p>В приведенном выше фрагменте кода мы создали два разных ресурса изображения, используя <code class="inline">imagecreatefromjpeg()</code> для основного изображения и <code class="inline">imagecreatefrompng()</code> для водяного знака, соответственно. Мы определяем ширину и высоту основного изображения с помощью функций <code class="inline">imagesx()</code> и <code class="inline">imagesy()</code>.<br></p><p>Не все изображения, которые вы хотите использовать для водяных знаков, будут иметь одинаковые размеры. Если вы не измените размер водяного знака на основе размеров основного изображения, это может показаться странным. Например, водяной знак 200px может выглядеть хорошо на 1000px-изображении, но он будет слишком большим для изображения шириной 600 пикселей, и он может выглядеть слишком маленьким на изображении шириной 2400 пикселей.</p><p>Поэтому мы используем функцию <code class="inline">imagescale()</code>, чтобы сохранить водяной знак на одной пятой от первоначальной ширины изображения. Затем мы используем функцию <code class="inline">imagecopy()</code>, чтобы поместить водяной знак в нужное место. Вот окончательный результат приведенного выше фрагмента кода.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1251/posts/31766/image/waterfall-watermark.jpg" alt="Изменение размера и манипулирование изображениями в PHP (с примерами)..." title="Изменение размера и манипулирование изображениями в PHP (с примерами)..." width="50" height="50"></figure><p>Помимо водяных знаков, вы также можете добавить другую информацию, такую как место, где была сделана фотография, или время, когда была сделана фотография.</p><h2>Заключительные мысли</h2><p>После изучения основ манипуляции с изображениями в нашем предыдущем учебнике мы узнали о нескольких других полезных функциях в библиотеке GD. В первой части учебника обсуждалось, как мы можем манипулировать изображениями на PHP с использованием матрицы свертки. Я также показал некоторые примеры операции матрицы свертки, которые помогут вам понять, как PHP достигает значений цвета разных пикселей.</p><p>Во второй части учебника объясняется, как копировать и/или изменять размер части изображения, чтобы вставить его в другое место. Это удобно, когда мы хотим добавить что-то к изображению, например, к водяному знаку или к отметке времени.</p><p>Попробуйте использовать все эти функции для создания интересных эффектов изображения!<br></p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="PHP" href="https://norma-studio.github.io/article/220824733-izmenenie-razmera-i-manipulirovanie-izobrazheniyami-v-php-s-primerami" class="tm-article-body__tags-item-link">PHP</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
31584</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
309</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
