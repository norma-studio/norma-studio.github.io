
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В этом уроке мы рассмотрим создание мобильного приложения, которое отображает-RSS-содержимое веб-сайта. Мы настроим URL-адрес RSS, и приложение загрузит его, проанализирует и отобразит сообщения из RSS. ...">
<meta property="og:description" content="В этом уроке мы рассмотрим создание мобильного приложения, которое отображает-RSS-содержимое веб-сайта. Мы настроим URL-адрес RSS, и приложение загрузит его, проанализирует и отобразит сообщения из RSS. ...">
<meta name="twitter:description" content="В этом уроке мы рассмотрим создание мобильного приложения, которое отображает-RSS-содержимое веб-сайта. Мы настроим URL-адрес RSS, и приложение загрузит его, проанализирует и отобразит сообщения из RSS. ...">
<meta property="aiturec:description" content="В этом уроке мы рассмотрим создание мобильного приложения, которое отображает-RSS-содержимое веб-сайта. Мы настроим URL-адрес RSS, и приложение загрузит его, проанализирует и отобразит сообщения из RSS. ...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/final_image/final-website-2-mobile.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/final_image/final-website-2-mobile.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/final_image/final-website-2-mobile.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/final_image/final-website-2-mobile.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/final_image/final-website-2-mobile.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic.html" title="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic... | envatomarket.ru | norma-studio.github.io" title="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64533jfgfsfxcv.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic.html" class="tm-user-info__username" title="
О. Гуськов" aria-label="
О. Гуськов">
О. Гуськов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Angular" href="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic" class="tm-article-snippet__hubs-item-link"><span>Angular</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/final_image/final-website-2-mobile.png">
    <meta itemprop="headline name" content="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В этом уроке мы рассмотрим создание мобильного приложения, которое отображает-RSS-содержимое веб-сайта. Мы настроим URL-адрес RSS, и приложение загрузит его, проанализирует и отобразит сообщения из RSS. ...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В этом уроке мы рассмотрим создание мобильного приложения, которое отображает-RSS-содержимое веб-сайта. Мы настроим URL-адрес RSS, и приложение загрузит его, проанализирует и отобразит сообщения из RSS. ...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>В этом уроке мы рассмотрим создание мобильного приложения, которое отображает RSS-содержимое веб-сайта. Мы настроим URL-адрес RSS, и приложение загрузит его, проанализирует и отобразит сообщения из RSS. </p><p>Чтобы создать мобильное приложение, мы будем использовать Ionic Framework v1 вместе с AngularJS. Чтобы завершить этот урок, вам нужно иметь некоторый опыт работы с JavaScript и HTML. Кроме того, будет полезно, если вы раньше работали с AngularJS. </p><p>Если вы никогда раньше не работали с Ionic Framework, я рекомендую по крайней мере взглянуть на <span>руководство для начинающих</span>, поскольку оно даст вам краткое представление о том, как все работает.</p><p>Давайте начнем!</p><h2>Настройка проекта Ionic</h2><p>Я предполагаю, что вы установили Node в свою систему, и у вас также есть npm (менеджер пакетов Node). Установка Ionic-фреймворка очень простая:</p><pre class="brush: bash noskimlinks noskimwords">npm install -g cordova ionic</pre><p>Это установит на вашем компьютере как Cordova, так и Ionic. </p><p>Cordova является основной технологией для Ionic, и в основном это позволяет нам получить встроенный браузер в нашем мобильном приложении. В этом браузере мы сможем запустить весь наш код HTML и JavaScript. Это называется гибридным мобильным приложением, поскольку приложение не запускает собственный код, но работает внутри браузера. </p><p>Так же Ionic имеет возможность использования AngularJS для написания нашего кода, а также имеет очень приятный UI фреймворк.</p><p>Используя Ionic, мы можем создать наш проект с использованием Ionic CLI, очень полезного инструмента командной строки. Ionic предоставляет три шаблона проекта по умолчанию, которые можно использовать в качестве отправной точки:</p><ul><li>blank: судя из названи], это пустой проект с минимальными необходимыми компонентами.</li> <li>tabs: приложение, использующее вкладки для навигации по экранам.</li> <li>sidemenu: приложение, использующее стандартное мобильное боковое меню для навигации.</li> </ul><p>Для этого урока мы будем использовать шаблон приложения табуляции. Чтобы запустить наш проект, давайте выполним следующее:</p><pre class="brush: bash noskimlinks noskimwords">ionic start myWebsiteOnMobile tabs</pre><p>Ionic загрузит и установит все необходимые компоненты, и создаст папку проекта с именем <code class="inline">myWebsiteOnMobile</code>. Перейдите в каталог проекта, выполнив:</p><pre class="brush: bash noskimlinks noskimwords">cd myWebsiteOnMobile</pre><p>Поскольку наше приложение представляет собой гибридное мобильное приложение, у нас есть преимущество, заключающееся в возможности запуска приложения внутри браузера. Для этого Ionic предоставляет аккуратный встроенный веб-сервер, который запускает наше приложение следующим образом:</p><pre class="brush: bash noskimlinks noskimwords">ionic serve</pre><p>Это откроет браузер с загруженным приложением, и он будет выглядеть следующим образом:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/image/ionic-tabs-app-default.png" alt="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." title="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." width="50" height="50"></figure><p>Чтобы остановить сервер, используйте <strong>Control-C</strong> на экране командной строки. Чтобы лучше понять, как приложение выглядит на мобильном устройстве, вы можете использовать:</p><pre class="brush: bash noskimlinks noskimwords">ionic serve --lab</pre><p>Это откроет приложение в браузере, показывая рядом iOS и Android-версию приложения.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/image/ionic-tabs-app-mobile-preview.png" alt="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." title="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." width="50" height="50"></figure><p>Шаблон Ionic для вкладок содержит три вкладки: статус, чаты и учетная запись. В последующих шагах мы будем корректировать приложение в соответствии с нашими потребностями.</p><h2>Как настроить шаблон приложения Ionic Tab</h2><p>Для нашего приложения у нас будет две вкладки:</p><ul><li>Последние сообщения: показ списка последних сообщений, полученных из RSS-канала.</li> <li>Настройки: где пользователь сможет настроить несколько аспектов приложения.</li> </ul><p>На вкладке «Последние сообщения» пользователь сможет щелкнуть любое из последних сообщений и просмотреть дополнительную информацию о сообщении, с возможностью открытия сообщения во внешнем браузере.</p><p>Поскольку вкладка «Последние сообщения» аналогична вкладке «Чаты», предоставленной шаблоном, мы будем использовать ее вместе со вкладкой «Учетная запись», которая станет вкладкой «Настройки». Мы можем делать все изменения с помощью Ionic webserver, и Ionic перезагрузит приложение для нас. Это очень удобная функция, которая ускорит разработку.</p><p>Как упоминалось ранее, Ionic использует AngularJS, и все приложение на самом деле является модулем AngularJS. Модуль определен в <code class="inline">www/js/app.js</code>, и здесь также определяются пути или маршруты приложения. Каждый экран приложения имеет соответствующий маршрут.</p><p>Удалим вкладку «Состояние», так как она нам не понадобится. Для этого сначала нужно изменить экран (или маршрут) по умолчанию нашего приложения, чтобы указать на экран чатов, который станет нашим основным экраном. Экран по умолчанию настроен через <code class="inline">$urlRouterProvider.otherwise()</code>, поэтому давайте изменим его на:</p><pre class="brush: javascript noskimlinks noskimwords">$urlRouterProvider.otherwise("/tab/chats");</pre><p>Если мы сейчас перезагружаем <code class="inline">http://localhost:8100</code> в вашем браузере, мы увидим, что вкладка Чаты будет загружена по умолчанию.</p><p>Чтобы удалить вкладку «Состояние», нам необходимо отредактировать файл <code class="inline">www/templates/tabs.html</code>, содержащий шаблон для компонента вкладки. Мы удалим элемент:</p><pre class="brush: html noskimlinks noskimwords">  &lt;!-- Dashboard Tab --&gt;  &lt;ion-tab title="Status" icon-off="ion-ios-pulse" icon-on="ion-ios-pulse-strong" href="#/tab/dash"&gt;    &lt;ion-nav-view name="tab-dash"&gt;&lt;/ion-nav-view&gt;  &lt;/ion-tab&gt;</pre><p>При сохранении мы увидим, что приложение теперь имеет только две вкладки: чаты и учетная запись.</p><p>В файле <code class="inline">www/templates/tabs.html</code> мы замечаем, что есть некоторые HTML-теги, которые не являются стандартными HTML, такие как <code class="inline">ion-tabs</code>, <code class="inline">ion-tab</code>, and <code class="inline">ion-nav-view</code>. На самом деле это директивы AngularJS, определенные в фреймворке Ionic.  Директивы - это теги, которые устанавливают функциональность позади них, и они очень удобны для написания более структурированного и более сжатого кода.</p><p>В нашем случае директива <code class="inline">ion-tabs</code> представляет собой компонент вкладок, который для каждой вкладки подключает директивы <code class="inline">ion-tab</code>.</p><p>Давайте изменим наши вкладки из чата и учетной записи на соответствующие имена. Последние сообщения и настройки. Чтобы сделать это, мы изменим несколько вещей в файле <code class="inline">www/templates/tabs.html</code>:</p><ul><li> Атрибут <code class="inline">title</code> элементов <code class="inline">ion-tab</code> определяет текст на кнопке вкладки. Мы изменим их на Последние сообщения и Настройки соответственно.</li> <li> Атрибуты <code class="inline">href</code> элементов <code class="inline">ion-tab</code> указывают на маршрут или URL-адрес экрана. Мы изменим их на <code class="inline">#/tab/latest-posts</code> и <code class="inline">#/tab/settings</code>.</li> <li> Атрибут <code class="inline">name</code> элементов <code class="inline">ion-nav-view</code> на <code class="inline">tab-latest-posts</code> и <code class="inline">tab-settings</code>. Это идентификаторы шаблонов представлений, используемые для экранов «Последние сообщения» и «Настройки».</li> </ul><p>В результате файл <code class="inline">www/templates/tabs.html</code> должен выглядеть следующим образом:</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-tabs class="tabs-icon-top tabs-color-active-positive"&gt;  &lt;!-- Latest posts Tab --&gt;  &lt;ion-tab title="Latest posts" icon-off="ion-ios-chatboxes-outline" icon-on="ion-ios-chatboxes" href="#/tab/latest-posts"&gt;    &lt;ion-nav-view name="tab-latest-posts"&gt;&lt;/ion-nav-view&gt;  &lt;/ion-tab&gt;  &lt;!-- Settings Tab --&gt;  &lt;ion-tab title="Settings" icon-off="ion-ios-gear-outline" icon-on="ion-ios-gear" href="#/tab/settings"&gt;    &lt;ion-nav-view name="tab-settings"&gt;&lt;/ion-nav-view&gt;  &lt;/ion-tab&gt;&lt;/ion-tabs&gt;</pre><p>После внесения этих изменений мы получим некоторые ошибки. Это связано с тем, что нам также необходимо настроить наши маршруты для использования новых идентификаторов, которые мы использовали. В <code class="inline">www/js/app.js</code> нам нужно изменить идентификаторы состояний, идентификаторы вида и <code class="inline">url</code> для каждого маршрута в соответствии с тем, что мы установили выше.</p><p>Для каждого маршрута (или экрана) определен свой контроллер. Это базовый шаблон проектирования MVC (Model-View-Controller). Контроллеры определяются в файле <code class="inline">www/js/controllerlers.js</code>. Для целей согласования мы будем изменять имена контроллеров как в <code class="inline">www/js/app.js</code>, так и в <code class="inline">www/js/controller.js</code>:</p><ul><li> <code class="inline">ChatsCtrl</code> становится <code class="inline">LastPostsCtrl</code>.</li> <li> <code class="inline">ChatDetailCtrl</code> становится <code class="inline">PostDetailCtrl</code>.</li> <li> <code class="inline">AccountCtrl</code> становится <code class="inline">SettingsCtrl</code>.<br></li> </ul><p>Кроме того, для каждого маршрута мы определяем шаблон вида, поэтому давайте тоже изменим их. Отредактируйте <code class="inline">www/js/app.js</code> и измените <code class="inline">templateUrl</code> следующим образом:</p><ul><li>Измените <code class="inline">tab-chats.html</code> на <code class="inline">tab-latest-posts.html</code>. Также переименуйте файл <code class="inline">www/templates/tab-chats.html</code> в <code class="inline">www/templates/tab-latest-posts.html</code>.</li> <li>Измените <code class="inline">chat-detail.html</code> на <code class="inline">post-detail.html</code>. Также переименуйте файл <code class="inline">www/templates/chat-detail.html</code> в <code class="inline">www/templates/post-detail.html</code>.</li> <li>Измените <code class="inline">tab-account.html</code> на <code class="inline">tab-settings.html</code>. Также переименуйте файл <code class="inline">www/templates/tab-account.html</code> в <code class="inline">www/templates/tab-settings.html</code>.</li> <li>Наконец, измените представление, которое по умолчанию загружается в <code class="inline">latest-posts</code>, используя <code class="inline">$urlRouterProvider.otherwise("/tab/latest-posts")</code>.</li> </ul><p>Если все пойдет хорошо, вы должны получить файл <code class="inline">www/js/app.js</code>, выглядящий следующим образом:</p><pre class="brush: javascript noskimlinks noskimwords">...// Each tab has its own nav history stack:  .state("tab.latest-posts", {      url: "/latest-posts",      views: {        "tab-latest-posts": {          templateUrl: "templates/tab-latest-posts.html",          controller: "LatestPostsCtrl"        }      }    })    .state("tab.post-detail", {      url: "/latest-posts/:postId",      views: {        "tab-latest-posts": {          templateUrl: "templates/post-detail.html",          controller: "PostDetailCtrl"        }      }    })  .state("tab.settings", {    url: "/settings",    views: {      "tab-settings": {        templateUrl: "templates/tab-settings.html",        controller: "SettingsCtrl"      }    }  });  // if none of the above states are matched, use this as the fallback  $urlRouterProvider.otherwise("/tab/latest-posts");  ...</pre><p>И наш очищенный файл <code class="inline">www/js/controllers.js</code> теперь выглядит следующим образом:</p><pre class="brush: javascript noskimlinks noskimwords">angular.module("starter.controllers", []).controller("LatestPostsCtrl", function($scope) {}).controller("PostDetailCtrl", function($scope, $stateParams) {}).controller("SettingsCtrl", function($scope) {});</pre><p>Теперь, когда мы изменили приложение в соответствии с нашими потребностями, перейдем к следующей части и добавим некоторые функции.</p><h2>Как получить RSS-канал с помощью Ionic</h2><p>Чтобы отобразить список последних сообщений, наше приложение должно будет получить RSS-канал из URL-адреса. В качестве наилучшей практики желательно, чтобы такая функциональность находилась на уровне обслуживания приложения. Таким образом, мы можем использовать его более легко в нашем контроллере, а затем представить его пользователю с помощью представления.</p><p>Служба RSS будет использовать <span>YQL REST API Yahoo</span> для извлечения RSS нашего сайта. Чтобы вызвать API REST, мы будем использовать провайдер <code class="inline">$http</code>, предоставляемый в AngularJS.</p><p>Ionic службы обычно определяются в файле <code class="inline">www/js/services.js</code>, поэтому мы также будем размещать и наши. Код будет выглядеть так:</p><pre class="brush: javascript noskimlinks noskimwords">angular.module("starter.services", []).service("RSS",function($http){  var self = this;  this.download = function(next){    var feedUrl = "https://tutsplus.com/posts.atom";    var yql_query = "select * from xml where url = ""+feedUrl+""";    var url = "https://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent(yql_query)+"&amp;format=json&amp;callback=JSON_CALLBACK";    $http      .jsonp(url)      .success(function(response){        if (response.query.results["feed"]){          next(self.parseAtom(response.query.results));        } else if (response.query.results["rss"]){          next(self.parseRSS(response.query.results));        } else {          throw "Unknown RSS format";        }      })      .error(function(data, status){      });  }  this.parseAtom = function(atomFeed){    var posts = [];    angular.forEach(atomFeed.feed.entry,function(item,idx){      var post = {        id:idx,        title:item.title,        description:item.content.content,        link:item.link.href      }      posts.push(post);    })    return posts;  }  this.parseRSS = function(rssFeed){    var posts = [];    angular.forEach(rssFeed.rss.channel.item,function(item,idx){      var post = {        id:idx,        title:item.title,        description:item.description,        link:item.link      }      posts.push(post);    })    return posts;  }})</pre><p>Мы объявляем сервис, используя метод <code class="inline">service()</code>, предоставляемый AngularJS. Затем мы внедрядем модуль Angular <code class="inline">$http</code>, чтобы мы могли его назвать в нашем сервисе.</p><p>Переменная <code class="inline">self</code> является ссылкой на службу RSS, чтобы мы могли ее вызвать из методов службы. Основным методом службы является метод <code class="inline">download()</code>, который загружает информацию о фиде и обрабатывает его. Существуют два основных формата, используемых для фидов веб-сайтов: RSS и ATOM. Для нашего приложения мы использовали фид учебников от Tuts + <span>https://tutsplus.com/posts.atom</span>, который находится в формате ATOM, но для полноты мы также учли формат RSS.</p><p>Метод <code class="inline">download()</code> вызывает API YQL и анализирует результаты с использованием методов <code class="inline">parseAtom()</code> или <code class="inline">parseRSS()</code> в зависимости от типа фида. Идея здесь состоит в том, чтобы иметь тот же формат вывода, который будет передан далее через обратный вызов <code class="inline">next()</code>. С помощью службы RSS мы можем перейти к контроллеру.</p><h2>Подключение службы RSS к контроллеру последних сообщений<br></h2><p>В нашем файле <code class="inline">www/js/controllers.js</code> нам нужно загрузить данные RSS и передать их нашему представлению. Для этого нам нужно только изменить наш контроллер <code class="inline">NewPostsCtrl</code> следующим образом:</p><pre class="brush: javascript noskimlinks noskimwords">.controller("LatestPostsCtrl", function($scope, RSS) {  RSS.download(function(posts){    $scope.posts = posts;  });})</pre><p>Используя механизм инъекции зависимости, нам нужно только указать переменные <code class="inline">$scope</code> и <code class="inline">RSS</code> как параметры метода, и он будет знать, как загрузить эти модули. Модуль <code class="inline">$scope</code> позволяет нам устанавливать переменные на модели, связанной с представлением. Любые значения, установленные в scope, могут быть затем извлечены и отображены внутри представления, связанного с контроллером.</p><p>Когда загружается представление для последних сообщений, оно будет вызывать контроллер <code class="inline">LatestPostsCtrl</code>, и он, в свою очередь, будет использовать службу RSS для загрузки информации о фиде. Результаты анализируются и передаются в виде массива с использованием переменной <code class="inline">posts</code>, которую мы сохраняем в текущем scope.</p><p>Теперь мы можем перейти к части представления, отображая список сообщений, полученных из фида.</p><h2>Передача данных о последних сообщениях в отображение</h2><p>Теперь нам нужно изменить наше отображение для последних сообщений. Если вы помните, оно настроено в файле <code class="inline">www/js/app.js</code> через атрибут <code class="inline">templateUrl</code>, и который указывает на файл <code class="inline">www/templates/tab-latestposts.html</code>.</p><p>Нам нужно будет отобразить список фидов. Поскольку информация фида может содержать HTML, и это будет только загромождать список последних сообщений, нам нужно как-то извлечь текст без тегов HTML из содержимого сообщения. Самый простой способ сделать это - определить фильтр AngularJS, который удаляет теги HTML из текста. Давайте сделаем это в <code class="inline">www/js/services.js</code>, добавив следующее:</p><pre class="brush: javascript noskimlinks noskimwords">.filter("htmlToPlaintext", function() {    return function(text) {      return  text ? String(text).replace(/&lt;[^&gt;]+&gt;/gm, "") : "";    };  })</pre><p>Теперь вернемся к нашему представлению в файле <code class="inline">www/templates/tab-latest-posts.html</code>, давайте изменим его, чтобы оно выглядело так:</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-view view-title="Latest posts"&gt;  &lt;ion-content&gt;    &lt;ion-list&gt;      &lt;ion-item class="item-icon-left item-icon-right" ng-repeat="post in posts" type="item-text-wrap" href="#/tab/latest-posts/{{post.id}}"&gt;        &lt;span class="icon ion-social-rss-outline"&gt;&lt;/span&gt;        &lt;h2&gt;{{post.title}}&lt;/h2&gt;        &lt;p&gt;{{post.description | htmlToPlaintext}}&lt;/p&gt;        &lt;i class="icon ion-chevron-right icon-accessory"&gt;&lt;/i&gt;      &lt;/ion-item&gt;    &lt;/ion-list&gt;  &lt;/ion-content&gt;&lt;/ion-view&gt;</pre><p>Мы используем компонент Ionic list UI вместе с директивой Angular <code class="inline">ng-repeat</code>, которая будет проходить через все <code class="inline">posts</code>, установленные в scope нашего контроллера. Для каждой записи у нас будет элемент списка с его названием и с описанием, лишенным HTML-тегов, с помощью фильтра <code class="inline">htmlToPlaintext</code>. Также обратите внимание, что нажатие сообщения должно привести нас к деталям сообщения благодаря атрибуту <code class="inline">href</code>, установленного на <code class="inline">#/tab/latest-posts/{{post.id}}</code>. Это пока не работает, но мы позаботимся об этом в следующем разделе.</p><p>Если мы теперь запустим приложение с помощью <code class="inline">ionic serve --lab</code>  мы должны получить что-то вроде этого:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/image/latest-posts-view.png" alt="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." title="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." width="50" height="50"></figure><h2>Отображение сведений о сообщении</h2><p>При нажатии на сообщение в списке мы переходим на экран сведений о сообщении. Поскольку на каждом экране приложения есть свой собственный контроллер и, следовательно, его собственная область, мы не можем получить доступ к списку сообщений, чтобы отобразить конкретную запись. Мы снова можем вызвать службу RSS, но это будет неэффективно.</p><p>Чтобы решить эту проблему, мы можем использовать директиву <code class="inline">$rootScope</code>, предлагаемую Angular. Она ссылается на область, которая доступна во всех контроллерах приложения. Давайте изменим наш <code class="inline">LatestPostCtrl</code>, чтобы установить записи в <code class="inline">$rootScope</code>, а затем выберем конкретную запись, которую пользователь нажал в <code class="inline">PostDetailCtrl</code>. В результате код в <code class="inline">www/js/controllerlers.js</code> будет выглядеть так:</p><pre class="brush: javascript noskimlinks noskimwords">.controller("LatestPostsCtrl", function($scope, $rootScope, RSS) {  RSS.download(function(posts){    $rootScope.posts = posts;  });}).controller("PostDetailCtrl", function($scope,$rootScope, $stateParams) {  angular.forEach($rootScope.posts,function(post){    if (post.id == $stateParams.postId){      $scope.post = post;    }  })})</pre><p>Мы просто встроили <code class="inline">$rootScope</code> в оба контроллера и использовали его для передачи <code class="inline">posts</code> между двумя контроллерами. Обратите внимание, что нам не нужно вносить какие-либо изменения в отображение последних сообщений, поскольку <code class="inline">$rootScope</code> и <code class="inline">$scope</code> оба доступны в отображении.</p><p>Внутри контроллера PostDetailCtrl мы просто ищем сообщение с идентификатором, переданным по ссылке, нажатой пользователем. Мы делаем это, сравнивая каждый идентификатор сообщения со значением в URL-адресе, передаваемом через переменную <code class="inline">$stateParams.postId</code>. Если мы найдем совпадение, то мы поставим сообщение в scope, чтобы мы могли использовать его внутри отображения.</p><p>Теперь давайте отредактируем наш подробный вид сообщения в <code class="inline">www/templates/post-detail.html</code> следующим образом:</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-view view-title="{{post.title}}"&gt;  &lt;ion-nav-buttons side="right"&gt;    &lt;a ng-href="{{post.link}}" class="button" target="_system"&gt;      Open    &lt;/a&gt;  &lt;/ion-nav-buttons&gt;  &lt;ion-content class="padding"&gt;    &lt;h1&gt;{{post.title}}&lt;/h1&gt;    &lt;span ng-bind-html="post.description"&gt;&lt;/span&gt;  &lt;/ion-content&gt;&lt;/ion-view&gt;</pre><p>Это то, что мы сделали внутри отображения:</p><ul><li>Мы разместили заголовок сообщения в заголовке экрана.</li> <li>Мы поместили кнопку «Открыть» в заголовке справа. Эта кнопка откроет ссылку для связи во внешнем браузере благодаря атрибуту <code class="inline">target="_ system"</code>. Мы должны сделать это, потому что приложение уже работает в браузере из-за Cordova. Если бы мы не установили этот атрибут, сообщение открылось бы в том же браузере, что и само приложение, и тогда у нас не было бы способа вернуться назад к приложению.</li> <li>Мы показываем описание сообщения как HTML, используя директиву Angular <code class="inline">ng-bind-html</code>.</li> </ul><p>При запуске приложения я заметил, что если описание сообщения содержит изображения, некоторые из них съезжают с экрана. Это может иметь место и с другими элементами HTML, такими как видео. Мы можем легко исправить это, добавив следующее правило CSS в <code class="inline">www/css/style.css</code>.</p><pre class="brush: css noskimlinks noskimwords">ion-content *{    max-width: 100%;}</pre><p>Если мы сейчас посмотрим на приложение и нажмем на одно из сообщений, мы увидим что-то вроде этого:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/image/post-detail-screen.jpg" alt="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." title="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." width="50" height="50"></figure><p>И наше приложение почти завершено. В следующем разделе мы рассмотрим реализацию экрана настроек.</p><h2>Добавление настроек для нашего Ionic приложения</h2><p>В нашем экране настроек мы укажем, сколько сообщений должно отображаться на главном экране приложения. Мы сохраним этот параметр в памяти <code class="inline">localStorage</code>, которая не будет удалена, когда приложение будет закрыто. Давайте отредактируем файл контроллеров <code class="inline">www/js/controllers.js</code> и изменим контроллер <code class="inline">SettingsCtrl</code> следующим образом:</p><pre class="brush: javascript noskimlinks noskimwords">.controller("SettingsCtrl", function($scope,$rootScope) {  $scope.settings = {    maxPosts:  window.localStorage.getItem("myWebsiteOnMobile.maxPosts")  };  $scope.$watch("settings.maxPosts",function(){    window.localStorage.setItem("myWebsiteOnMobile.maxPosts",$scope.settings.maxPosts);    $rootScope.maxPosts = window.localStorage.getItem("myWebsiteOnMobile.maxPosts");  });});</pre><p>Кроме того, нам нужно изменить экран настроек в <code class="inline">www/templates/tab-settings.html</code> следующим образом:</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-view view-title="Settings"&gt;  &lt;ion-content&gt;      &lt;div class="item item-divider item-balanced"&gt;Maximum posts&lt;/div&gt;  &lt;ion-radio ng-model="settings.maxPosts" ng-value="null"&gt;Unlimited&lt;/ion-radio&gt;&lt;ion-radio ng-model="settings.maxPosts" ng-value="5"&gt;5&lt;/ion-radio&gt;&lt;ion-radio ng-model="settings.maxPosts" ng-value="10"&gt;10&lt;/ion-radio&gt;  &lt;/ion-content&gt;&lt;/ion-view&gt;</pre><p>Контроллер извлекает настройки <code class="inline">myWebsiteOnMobile.maxPosts</code> из <code class="inline">localStorage</code>. Если его не существует, он будет равен <code class="inline">null</code>, и мы будем считать, что нет предела для максимального количества сообщений.</p><p>Мы вызываем метод <code class="inline">$scope.$watch()</code> для контроля изменений параметра <code class="inline">settings.maxPosts</code>, который привязан к радио контроллеру на экране настроек.</p><p>Каждый раз, когда мы меняем максимальное количество сообщений на экране настроек, этот параметр будет сохранен в <code class="inline">localStorage</code>, и он будет извлечен оттуда, когда приложение перезагрузится.</p><p>Теперь давайте использовать эту настройку. Это очень просто, нужно добавить это в <code class="inline">LatestPostsCtrl</code> из <code class="inline">www/js/controllers.js</code>:</p><pre class="brush: javascript noskimlinks noskimwords">$rootScope.maxPosts = window.localStorage.getItem("myWebsiteOnMobile.maxPosts");</pre><p>И добавим директиву на экран с последними сообщениями <code class="inline">www/templates/tab-latest-posts.html</code>:</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-item class="item-icon-left item-icon-right" ng-repeat="post in posts|limitTo:maxPosts" type="item-text-wrap" href="#/tab/latest-posts/{{post.id}}"&gt;</pre><p>Обратите внимание на фильтр Angualr <code class="inline">limitTo:maxPosts</code>. Это ограничит количество отображаемых сообщений на число, взятое из <code class="inline">localStorage</code>. По умолчанию это будет <code class="inline">null</code>, что в итоге отобразит все фиды, полученные службой RSS.</p><p>Поздравления! Теперь у нас есть полностью работающее приложение, отображающее RSS-канал.</p><h2>Вывод</h2><p>В этом уроке мы увидели, как создать гибридное мобильное приложение с использованием Ionic Framework и AngularJS. Осталось еще одно: запустить приложение на мобильном устройстве или мобильном эмуляторе. С Ionic это очень просто. Чтобы запустить приложение на эмуляторе Android, просто выполните:</p><pre class="brush: bash noskimlinks noskimwords">ionic platform add androidionic run</pre><p>Если вы хотите загрузить готовый шаблон приложения Ionic для преобразования любого веб-сайта в мобильное приложение, попробуйте использовать <span>Шаблон Веб-сайта для мобильного приложения Ionic</span> от CodeCanyon.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1451/posts/28838/image/ionic-template-website-to-mobile-main-image.png" alt="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." title="Создание мобильного приложения для отображения RSS-контент вашего сайта с помощью Ionic..." width="50" height="50"></figure>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Angular" href="https://norma-studio.github.io/article/220824950-sozdanie-mobilnogo-prilozheniya-dlya-otobrazheniya-rss-kontent-vashego-sajta-s-pomoschyu-ionic" class="tm-article-body__tags-item-link">Angular</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
41464</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
723</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
