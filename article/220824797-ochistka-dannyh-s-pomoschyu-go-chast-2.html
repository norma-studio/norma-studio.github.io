
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Очистка данных с помощью Go: часть 2... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Очистка данных с помощью Go: часть 2... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Очистка данных с помощью Go: часть 2... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Очистка данных с помощью Go: часть 2... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Это вторая часть из двух в серии, посвященной очистке данных с помощью Go. В первой части мы рассмотрели основные текстовые возможности Go и работу с CSV-файлами. В этом уроке мы углубимся в фактическую очистку данных. ...">
<meta property="og:description" content="Это вторая часть из двух в серии, посвященной очистке данных с помощью Go. В первой части мы рассмотрели основные текстовые возможности Go и работу с CSV-файлами. В этом уроке мы углубимся в фактическую очистку данных. ...">
<meta name="twitter:description" content="Это вторая часть из двух в серии, посвященной очистке данных с помощью Go. В первой части мы рассмотрели основные текстовые возможности Go и работу с CSV-файлами. В этом уроке мы углубимся в фактическую очистку данных. ...">
<meta property="aiturec:description" content="Это вторая часть из двух в серии, посвященной очистке данных с помощью Go. В первой части мы рассмотрели основные текстовые возможности Go и работу с CSV-файлами. В этом уроке мы углубимся в фактическую очистку данных. ...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2.html" title="Очистка данных с помощью Go: часть 2... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Очистка данных с помощью Go: часть 2... | envatomarket.ru | norma-studio.github.io" title="Очистка данных с помощью Go: часть 2... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64535356345.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2.html" class="tm-user-info__username" title="
В. Чендылов" aria-label="
В. Чендылов">
В. Чендылов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Очистка данных с помощью Go: часть 2...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Go" href="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2" class="tm-article-snippet__hubs-item-link"><span>Go</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
    <meta itemprop="headline name" content="Очистка данных с помощью Go: часть 2... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Это вторая часть из двух в серии, посвященной очистке данных с помощью Go. В первой части мы рассмотрели основные текстовые возможности Go и работу с CSV-файлами. В этом уроке мы углубимся в фактическую очистку данных. ...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Это вторая часть из двух в серии, посвященной очистке данных с помощью Go. В первой части мы рассмотрели основные текстовые возможности Go и работу с CSV-файлами. В этом уроке мы углубимся в фактическую очистку данных. ...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<h2>Обзор</h2><p>Это вторая часть из двух в серии, посвященной очистке данных с помощью Go. В первой части мы рассмотрели основные текстовые возможности Go и работу с CSV-файлами. В этом уроке мы углубимся в фактическую очистку данных. </p><p>Мы начнем с понимания проблемы запутанных данных и разработки стратегии, а затем рассмотрим проверку отдельных полей, исправим данные, где это возможно, и решим, что делать с пропущенными значениями.<br></p><h2>Стратегия очистки данных<br></h2><p>Стратегия очистки данных должна определять, что делать при обнаружении неверных, грязных, частичных или отсутствующих данных. Следует также определить, какой уровень отчетности необходим для процесса очистки. </p><p>Данные, на которых мы фокусируемся, являются табличными данными, где каждая строка независима. Не существует вложенных иерархий или связей между различными строками данных. Многие реальные наборы данных обладают этим хорошим свойством. <br></p><h3>Удаление</h3><p>Самый простой подход к работе с недействительными данными - удалить их. Если какое-либо поле отсутствует или содержит недопустимые данные, просто избавьтесь от целой строки. Это очень просто, и иногда это правильно. Если проблемное поле является критическим, и у вас нет возможности восстановить его, все, что вы можете сделать, это удалить всю запись.<br></p><h3>Исправление</h3><p>Лучшее решение - исправить плохое поле. В некоторых случаях легко обнаружить проблему и устранить ее. В наборе данных наблюдений НЛО поле состояния может быть одним из 52 штатов США. </p><p>Если значение должно быть только в верхнем регистре, а некоторые строки содержат строчные буквы, вы можете просто сделать их заглавными.</p><h3>Отчет</h3><p>Отчет о недействительных строках, удаленных или исправленных, важен. Организация может решить позволить людям попытаться исправить пропущенные данные. Может потребоваться запустить фиксированные данные с помощью QA, чтобы автоматические исправления не вводили недействительные данные.<br></p><h3>Статистика</h3><p>Сбор статистики о процессе очистки необходим для оценки качества исходных данных, а иногда и для определения того, стоит ли обрабатывать очищенные данные. Статистика может включать количество пропущенных и фиксированных строк, а также количество плохих и пропущенных полей для каждого столбца.</p><h3>Живая Очистка</h3><p>До сих пор я описывал подход предварительной обработки для очистки данных. Тем не менее, можно выполнить очистку во время обработки. Каждая строка проверяется непосредственно перед обработкой. Это иногда полезно, если нет смысла в предварительной обработке, поскольку никто не может заранее исправить неверные данные для последующего анализа или если обработка чувствительна ко времени. </p><p>В этом сценарии основная цель очистки состоит в том, чтобы убедиться, что неверные строки данных не нарушают весь конвейер обработки и могут быть пропущены или исправлены при необходимости. </p><h2>Проверочные поля</h2><p>Как вы проводите проверку полей? Вы должны точно знать, какой тип данных должен быть там, а иногда и какие значения. Вот несколько примеров. </p><h3>Проверка числовых полей</h3><p>Числовые поля очень распространены в наборах данных. Помимо типа числа (целое, вещественное, сложное), некоторые поля являются более специализированными. Например, поле цены может потребовать ровно две десятичные точки и быть положительным. Вот функция, которая проверяет, представляет ли строка цену:</p><pre class="brush: csharp noskimlinks noskimwords">func validate_price(s string) bool {    parts := strings.Split(s,".")  if len(parts) != 2 {return false}dollars, err := strconv.Atoi(parts[0])if err != nil {return false}if dollars &lt; 0 {return false}cents, err := strconv.Atoi(parts[1])if err != nil {return false}if cents &lt; 0  || cents &gt; 99 {return false}return true}</pre><h3>Проверка полей URL</h3><p>Иногда вам нужно выйти за пределы. Если вам нужно убедиться, что URL-адрес действителен, есть два подхода:</p><ol><li>Разобрать URL.</li> <li>Попробуйте и получите его (или, по крайней мере, получите заголовки).</li> </ol><p>Если вам важно, чтобы URL был правильно сформирован, тогда первый подход работает. Но если вы хотите убедиться, что URL действительно указывает на реальный пункт назначения, вам нужно использовать второй подход. Поскольку второй подход является надмножеством первого подхода, давайте просто воспользуемся им:</p><pre class="brush: csharp noskimlinks noskimwords">func validate_url(url string) bool {    _, err := http.Head(url)return err == nil}</pre><h3>Проверка полей пользовательского формата</h3><p>Если значения должны соответствовать пользовательскому формату, вы можете либо сопоставить его, используя простые строковые функции, такие как <code class="inline">Split()</code>, либо в более сложных случаях использовать регулярные выражения. Например, если ваш набор данных содержит номера социального страхования (я надеюсь, что нет) в формате <code class="inline">XXX-XX-XXXX</code>, то вы можете разделить на «-» и убедиться, что есть три токена, в которых первый из них состоит из трех цифр, а второй - из двух цифр. долго, а третье четыре цифры в длину. Но более кратко использовать регулярные выражения, такие как <code class="inline">^\d{3}-?\d{2}-?\d{4}$</code>.</p><h2>Исправление неверных значений</h2><p>Исправление недопустимых значений не является тривиальной вещью. Если ваш метод исправления неверен, вы можете получить поврежденные данные. Вы должны внимательно рассмотреть важность поля, диапазон возможных допустимых значений и насколько вы уверены, что вы действительно можете исправить любое недопустимое значение автоматически.</p><h3>Фиксирующий кейс</h3><p>Это довольно безопасное решение. Если текстовое поле должно быть написано заглавными буквами, вы можете исправить это, не рискуя сильно, потому что символы, которые изначально были строчными, не являются важной частью информации. Нет необходимости писать специальный код, так как пакет strings имеет функцию <code class="inline">ToUpper()</code>. Есть также функции <code class="inline">ToLower()</code> и даже <code class="inline">ToTitle()</code> и <code class="inline">ToTitleSpecific()</code> для правильного использования текста.</p><h3>Удаление нежелательных символов</h3><p>Другое распространенное простое исправление - удаление начальных и конечных пробелов. Вы будете удивлены, сколько людей добавляют пробелы или новые строки при вводе данных. Пакет strings содержит набор функций <code class="inline">TrimXXX()</code>, которые могут позаботиться о большинстве ситуаций:</p><ul><li>Trim()</li> <li>TrimFunc()</li> <li>TrimLeft()</li> <li>TrimLeftFunc()</li> <li>TrimPrefix()</li> <li>TrimRight()</li> <li>TrimRightFunc()</li> <li>TrimSpace()</li> <li>TrimSuffix()</li> </ul><h3>Отбрасывание недействительных символов<br></h3><p>В некоторых случаях можно удалить недопустимые символы. Я рекомендую делать это только для некритических и необязательных полей. Например, у вас может быть поле описания или примечаний, содержащее свободный текст, и вы хотите убедиться, что оно не содержит определенных символов, таких как кавычки или двойные кавычки. Вот как это сделать:</p><pre class="brush: csharp noskimlinks noskimwords">func remove_quotes(s string) string {    var b bytes.Bufferfor _, r := range (s) {if r != """ &amp;&amp; r != "\"" {b.WriteRune(r)}}return b.String()}func main() {original := `"quotes" and "double quotes".`clean := remove_quotes(original)fmt.Println(original)fmt.Println(clean)}Output:"quotes" and "double quotes".quotes and double quotes.</pre><h3>Исправление числовых значений<br></h3><p>Числовые значения часто легко исправить. Если вам требуется точность в два десятичных знака, вы можете усечь или округлить дополнительные цифры. Таким же образом легко конвертировать целые числа в числа с плавающей точкой. </p><p>Иногда существует диапазон допустимых значений, и вы можете привести слишком большие или слишком маленькие числа, чтобы соответствовать диапазону. Следующая функция принимает строку и диапазон целых чисел и возвращает строку, которая представляет целое число в диапазоне. Слишком большие значения становятся максимальными, а слишком маленькие - минимальными.</p><pre class="brush: csharp noskimlinks noskimwords">func fit_into_range(s string, min int, max int) string {    n, _ := strconv.Atoi(s)if n &lt; min {n = min} else if n &gt; max {n = max} else {return s}return strconv.Itoa(n)}func main() {fmt.Println(fit_into_range("15", 10, 20))fmt.Println(fit_into_range("-15", 10, 20))fmt.Println(fit_into_range("55", 10, 20))}Output:151020</pre><h3>Фиксирование значений URL<br></h3><p>Часто можно безопасно исправить URL-адреса, используя различные схемы («http» или «https») или добавляя или удаляя «www» субдомены. Объединение вариантов с попыткой выбрать кандидатов может дать вам уверенность в том, что исправление было правильным. </p><h2>Работа с отсутствующими значениями<br></h2><p>Пропущенные значения очень распространены при приеме реальных данных. Если отсутствует пропущенное значение, существует два основных способа его обработки (без полного отклонения строки) - использовать значения по умолчанию или восстановить значение из альтернативного источника.</p><h3>Применение значений по умолчанию<br></h3><p>Значения по умолчанию полезны, потому что код обработки не должен проверять, присутствует ли значение или нет. Код очистки данных гарантирует, что всегда есть значение. Во многих случаях значения по умолчанию настолько распространены, что они также являются помощником для ввода данных, когда вам не нужно вводить одно и то же значение по умолчанию снова и снова.</p><h3>Использование альтернативных данных<br></h3><p>Этот подход немного сложнее. Идея состоит в том, чтобы обратиться к другому источнику данных, который имеет запрошенную информацию. Например, если у вас есть электронная почта пользователя, но имя и фамилия отсутствуют, вы можете обратиться к своей базе данных пользователей и извлечь имя пользователя. Это спасает код обработки от доступа к БД или даже от знания этой зависимости.</p><h2>Собираем все вместе</h2><p>Давайте очистим небольшой набор данных продуктов. Поля:</p><table><thead><tr><th>Имя столбца</th> <th>Описание столбца</th> </tr></thead><tbody><tr><td>id</td> <td>PRD-XXXX-XXXX (где X - это цифра) <br></td> </tr><tr><td>Название</td> <td>до 40 символов<br></td> </tr><tr><td>Цена</td> <td>числовое поле с фиксированной точностью (две десятичные точки)</td> </tr><tr><td>Описание</td> <td>длиной до 500 символов (необязательно)<br></td> </tr></tbody></table><p>Вот набор данных в удобочитаемой форме (пробелы будут урезаны во время очистки):</p><pre class="brush: csharp noskimlinks noskimwords">const data = `    Id,            Name,        Price,     Description    PRD-1234-0000, Airzooka,    9.99,  Shoots air at people    PRD-1234-0017, Pink Onesie, 34.55,    PRD-1234-666,  Oh oh,       18.18, Invalid product id    PRD-1234-7777, Oh oh 2,     ,      Missing price    prd-1234-8888, PostIt!,     13.13, Fixable: lowercase id`</pre><p>Первые два продукта действительны. В третьем продукте, "PRD-1234-666", отсутствует цифра в его идентификаторе. Следующий продукт, "PRD-1234-7777", не имеет цены. Последний продукт, «prd-1234-8888», имеет недопустимый идентификатор продукта, но его можно безопасно исправить (сделать его заглавным). </p><p>Следующий код очистит данные, исправит то, что может быть исправлено, отбросит строки, которые не могут быть исправлены, и создаст чистый набор данных и отчет, который можно использовать для ручной корректировки неверных данных.</p><p>Чтобы проверить идентификатор продукта и цену, я буду использовать регулярные выражения. Вот две вспомогательные функции:</p><pre class="brush: csharp noskimlinks noskimwords">func verifyProductId(s string) bool {    matched, _ := regexp.MatchString(`^PRD-\d{4}-\d{4}$`, s)return matched}func verifyProductPrice(s string) bool {matched, _ := regexp.MatchString(`^\d+\.\d\d$`, s)return matched}</pre><p>После очистки данных и удаления всех недопустимых строк данных следующая функция запишет чистые данные в новый CSV-файл с именем «clean.csv» и распечатает их на экране.</p><pre class="brush: csharp noskimlinks noskimwords">func writeCleanData(cleanData []string) {    f, _ := os.Create("clean.csv")w := bufio.NewWriter(f)fmt.Println("Clean data:")defer w.Flush()for _, line := range cleanData {fmt.Println(line)w.WriteString(line)w.WriteString("\n")}}</pre><p>Функция <code class="inline">main()</code> выполняет бОльшую часть работы. Он перебирает исходный набор данных, устраняет лишние пробелы, исправляет все, что может, отслеживает пропущенные строки данных, записывает чистые данные в файл и, наконец, сообщает о пропущенных строках.</p><pre class="brush: plain noskimlinks noskimwords">func main() {    cleanData := []string{"Id,Name,Price,Description"}    dropped := []string{}    // Clean up data    all_lines := strings.Split(data, "\n")    for _, line := range all_lines {        fields := strings.Split(line, ",")        if len(fields) != 4 {            continue        }        // Strip all leading and trailing spaces from each field        for i, f := range fields {            fields[i] = strings.TrimSpace(f)        }        // Automatic fix (no need to check)        id := strings.ToUpper(fields[0])        if !verifyProductId(id) {            dropped = append(dropped, line)            continue        }        name := fields[1]        // Product names can"t be empty        if name == "" {            dropped = append(dropped, line)            continue        }        // Truncate name at 40 characters (runes)        if len([]rune(name)) &gt; 40 {            name = string([]rune(name)[:40])        }        price := fields[2]        if !verifyProductPrice(price) {            dropped = append(dropped, line)            continue        }        description := fields[3]        // Truncate description at 500 characters (runes)        if len([]rune(name)) &gt; 500 {            name = string([]rune(name)[:500])        }        cleanLine := strings.Join([]string{id,                                            name,                                            price,                                            description}, ",")        cleanData = append(cleanData, cleanLine)    }    writeCleanData(cleanData)    // Report    fmt.Println("Dropped lines:")    for _, s := range dropped {        fmt.Println(s)    }}</pre><h2>Заключение</h2><p>Go имеет хорошо продуманные пакеты для обработки текста. В отличие от большинства языков, строковый объект на самом деле представляет собой просто кусочек байтов. Вся логика обработки строк находится в отдельных пакетах, таких как «strings» и «strconv». </p><p>Во второй части руководства мы использовали множество концепций для решения общей реальной задачи по очистке набора данных в формате CSV перед анализом.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Go" href="https://norma-studio.github.io/article/220824797-ochistka-dannyh-s-pomoschyu-go-chast-2" class="tm-article-body__tags-item-link">Go</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
40775</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
600</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
