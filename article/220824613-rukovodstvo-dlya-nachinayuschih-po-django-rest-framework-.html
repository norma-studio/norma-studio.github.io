
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Руководство для начинающих по Django Rest Framework ... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Руководство для начинающих по Django Rest Framework ... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Руководство для начинающих по Django Rest Framework ... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Руководство для начинающих по Django Rest Framework ... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Итак, вы учитесь использовать Django Web Framework и вы любите его. Но вам нужен привлекательный, простой в использовании API для вашего приложения? Посмотрите не дальше, чем Django Rest Framework (DRF). DRF является мощным, утонченный и удивительно простым в использовании. Он предлагает привлекательную, доступную в Интернете версию вашего API и во...">
<meta property="og:description" content="Итак, вы учитесь использовать Django Web Framework и вы любите его. Но вам нужен привлекательный, простой в использовании API для вашего приложения? Посмотрите не дальше, чем Django Rest Framework (DRF). DRF является мощным, утонченный и удивительно простым в использовании. Он предлагает привлекательную, доступную в Интернете версию вашего API и во...">
<meta name="twitter:description" content="Итак, вы учитесь использовать Django Web Framework и вы любите его. Но вам нужен привлекательный, простой в использовании API для вашего приложения? Посмотрите не дальше, чем Django Rest Framework (DRF). DRF является мощным, утонченный и удивительно простым в использовании. Он предлагает привлекательную, доступную в Интернете версию вашего API и во...">
<meta property="aiturec:description" content="Итак, вы учитесь использовать Django Web Framework и вы любите его. Но вам нужен привлекательный, простой в использовании API для вашего приложения? Посмотрите не дальше, чем Django Rest Framework (DRF). DRF является мощным, утонченный и удивительно простым в использовании. Он предлагает привлекательную, доступную в Интернете версию вашего API и во...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/337/profiles/2166/profileImage/52bf3798d46ee7615309f5190785c47d.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/337/profiles/2166/profileImage/52bf3798d46ee7615309f5190785c47d.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/337/profiles/2166/profileImage/52bf3798d46ee7615309f5190785c47d.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/337/profiles/2166/profileImage/52bf3798d46ee7615309f5190785c47d.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/337/profiles/2166/profileImage/52bf3798d46ee7615309f5190785c47d.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-.html" title="Руководство для начинающих по Django Rest Framework ... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Руководство для начинающих по Django Rest Framework ... | envatomarket.ru | norma-studio.github.io" title="Руководство для начинающих по Django Rest Framework ... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64533jghfdd.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-.html" class="tm-user-info__username" title="
Д. Слесарев" aria-label="
Д. Слесарев">
Д. Слесарев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Руководство для начинающих по Django Rest Framework ...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Python" href="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-" class="tm-article-snippet__hubs-item-link"><span>Python</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/337/profiles/2166/profileImage/52bf3798d46ee7615309f5190785c47d.jpg">
    <meta itemprop="headline name" content="Руководство для начинающих по Django Rest Framework ... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Итак, вы учитесь использовать Django Web Framework и вы любите его. Но вам нужен привлекательный, простой в использовании API для вашего приложения? Посмотрите не дальше, чем Django Rest Framework (DRF). DRF является мощным, утонченный и удивительно простым в использовании. Он предлагает привлекательную, доступную в Интернете версию вашего API и во...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Итак, вы учитесь использовать Django Web Framework и вы любите его. Но вам нужен привлекательный, простой в использовании API для вашего приложения? Посмотрите не дальше, чем Django Rest Framework (DRF). DRF является мощным, утонченный и удивительно простым в использовании. Он предлагает привлекательную, доступную в Интернете версию вашего API и во...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



   <p>Итак, вы учитесь использовать Django Web Framework и вы любите его. Но вам нужен привлекательный, простой в использовании API для вашего приложения? Посмотрите не дальше, чем <span>Django Rest Framework</span> (DRF). DRF является мощным, утонченный и удивительно простым в использовании. Он предлагает привлекательную, доступную в Интернете версию вашего API и возможность возврата сырого JSON. Django Rest Framework обеспечивает мощную сериализацию модели, отображение данных с использованием стандартных представлений, основанных на функциях, или получить гранулы с мощными представлениями на основе классов для более сложных функций. Все в полностью совместимой REST оболочке. Давайте начнем.<br></p> <h2>Укладка фундамента</h2> <p>При работе с приложениями Python всегда рекомендуется изолировать вашу разработку виртуальной средой. Это помогает предотвратить конфликты версий между библиотеками, которые вам нужны в вашем приложении, и библиотеки, которые вы, возможно, уже установили на вашем компьютере, упрощают установку зависимостей в <em>виртуальном env</em> с помощью файла <code>requirements.txt</code>, и, наконец, он обеспечивает совместное использование среды разработки с помощью других разработчиков.</p> <p>Tuts + имеет два отличных видео о том, как установить <span>virtualenv </span>и <span>virtualenvwrapper</span>. Потратьте несколько минут, чтобы пройти через эти видеоролики, чтобы получить virtualenv и virtualenvwrapper, установленные на вашем компьютере. Если вы уже установили их, пропустите следующий раздел.</p> <h3>Настройка виртуальной среды</h3> <p>Первое, что мы сделаем как часть нашего приложения, - это настроить виртуальную среду. Введите в свой терминал следующие команды.</p> <pre class="brush: bash noskimlinks noskimwords">$ mkvirtualenv drf $ workon drf</pre> <p>Неважно, где вы находитесь в файловой системе, когда эти команды запущены. Все файлы virtualenv хранятся в централизованном месте и активируются по требованию.</p> <h3>Установка приложения Django</h3> <p>Поскольку в этой статье речь не идет о самом Django, я сэкономил некоторое время, создав репозиторий, содержащий приложение, в котором мы будем работать. Это простая книжная полка, которая позволит нам хранить списки авторов и книг. <span>Загрузите репозиторий компаньонов в эту статью</span> в каталог по вашему выбору, а затем запустите <code>pip install -r requirements.txt</code>, чтобы установить все зависимости. Не забудьте убедиться, что вы активировали виртуальную среду, которую мы установили на последнем шаге. По завершении установки вы можете ввести <code>fab runningerver</code> для запуска локального веб-сервера и открыть веб-браузер, указывающий на <code>http://127.0.0.1:8000/</code>. Если вы видите список авторов на экране, тогда вам будет хорошо дальше двигаться.</p> <p>Если в какой-то момент вы не получите ожидаемых результатов, попробуйте переключить ветвь локального репозитория в финал, чтобы увидеть результаты: <code>git checkout final</code>.</p> <h4>Fab? Что это?</h4> <p>Fab == <span>Fabric</span>, <span>бегун для задач Python</span>. Из документов:</p> <p>«Fabric - это библиотека Python (2,5 или выше) и средство командной строки для оптимизации использования SSH для задач развертывания приложений или системного администрирования».</p> <p>Хотя более полная дискуссия о Fabric выходит за рамки этой статьи, я внедрил некоторые основные команды fab, которые упрощают работу с этим приложением. Вы видели команду <code>fab runserver</code>. Существует также команда <code>fab shell</code>, которая вызывает интерактивную оболочку iPython в контексте приложения и команду <code>fab syncdb</code>, которая запускает команду <code class="inline">syncdb</code> Django для синхронизации изменений в моделях с базой данных.</p> <h2>Работа с сериализацией</h2> <p>Одной из мощных возможностей Django Rest Framework является встроенная сериализация модели, которую она предлагает. Имея всего несколько строк кода, вы можете создавать мощные представления ваших данных, которые могут быть доставлены в нескольких форматах. Как уже упоминалось ранее, наше приложение будет простым приложением хранения книг и авторов. Я уже создал для вас модели <code class="inline">Author </code>and <code class="inline">Book</code>, поэтому откройте <code>/app/bookreview/models.py</code>. Уже есть несколько авторов, хранящихся в локальной базе данных SQLite, поэтому давайте откроем интерактивную оболочку для нашего приложения и поработаем. Перейдите в окно терминала, убедитесь, что вы находитесь в <code>./app</code> и введите следующую команду.</p> <pre class="brush: bash noskimlinks noskimwords">$ fab shell </pre> <p>После загрузки оболочки введите следующие несколько строк, чтобы получить запись автора из базы данных, которая просто оказалась моей. Какое совпадение. :)</p> <pre class="brush: bash noskimlinks noskimwords">$ from bookreview.models import Author $ author = Author.objects.get(pk=1) $ author.id &gt; 1 $ author.first_name &gt; u"Andy" $ author.last_name &gt; u"Matthews"</pre> <blockquote> </blockquote> <p>Аналогичным образом вы можете получить все записи автора из базы данных с помощью другой команды:</p> <pre class="brush: bash noskimlinks noskimwords">$ from bookreview.models import Author $ authors = Author.objects.all() $ authors &gt; [&lt;Author: Andy Matthews&gt;, &lt;Author: China Mieville&gt;, &lt;Author: Neil Gaiman&gt;, &lt;Author: Veronica Roth&gt;, &lt;Author: Suzanne Collins&gt;, &lt;Author: Brandon Sanderson&gt;, &lt;Author: Rick Riordan&gt;, &lt;Author: Phillip K. Dick&gt;, &lt;Author: John Scalzi&gt;, &lt;Author: Jesse Petersen&gt;]</pre> <p>К сожалению, это не возвращает данные, которые может понять вызов AJAX. Итак, добавим сериализатор для авторов. Закройте оболочку, набрав <code>quit</code> и откройте <code>bookreview / serializers.py</code>. Введите или вставьте следующие несколько строк кода и сохраните файл.</p> <pre class="brush: python noskimlinks noskimwords">class AuthorSerializer(serializers.ModelSerializer):     """     Serializing all the Authors     """     class Meta:         model = Author         fields = ("id", "first_name", "last_name")</pre> <p>Не внося никаких изменений, сериализатор дает нам довольно много мощи. Вернитесь в оболочку и давайте рассмотрим.</p> <pre class="brush: bash noskimlinks noskimwords">$ from bookreview.models import Author $ from bookreview.serializers import AuthorSerializer $ author = Author.objects.get(pk=1) $ serialized = AuthorSerializer(author) $ serialized.data &gt; {"id": 1, "first_name": u"Andy", "last_name": u"Matthews"}</pre> <blockquote> </blockquote> <p>Давайте добавим еще несколько строк кода и посмотрим, что наш API покажет нам в браузере после того, как наши данные будут запущены через наш новый <code class="inline">AuthorSerializer</code>. </p> <h3>Проверка API-интерфейса, доступного в Интернете</h3> <p>Сначала откройте <code>bookreview / urls.py</code> и добавьте следующую строку сразу после маршрута <code>index_view</code>:</p> <pre class="brush: python noskimlinks noskimwords">url(r"^authors/$", views.AuthorView.as_view(), name="author-list"),</pre> <p>Затем откройте <code>bookreview / views.py</code> и добавьте эти строки в конец файла:</p> <pre class="brush: python noskimlinks noskimwords">class AuthorView(generics.ListAPIView):     """     Returns a list of all authors.     """     model = Author     serializer_class = AuthorSerializer</pre> <p>Затем добавьте импорт для <code class="inline">AuthorSerializer</code> в верхней части страницы:</p> <pre class="brush: python noskimlinks noskimwords">from bookreview.serializers import AuthorSerializer</pre> <p>Представление по умолчанию для Django Rest Framework - это APIView. Он позволяет вам определять свои методы <code class="inline">get</code>, <code class="inline">put</code> и <code class="inline">delete</code>. Это хороший способ получить базовую функциональность, но все же контролировать конечный результат. В нашем случае, однако, мы позволяем DRF делать тяжелый подъем для нас, расширяя ListAPIView. Нам просто нужно предоставить несколько бит информации, чтобы позволить DRF подключать куски. Мы даем ему модель <code class="inline">автора</code>, чтобы он знал, как разговаривать с базой данных, и <code class="inline">AuthorSerializer</code>, чтобы DRF знал, как вернуть информацию. Мы будем работать только с несколькими встроенными APIViews, но вы можете <span>прочитать обо всех параметрах </span>на веб-сайте Django Rest Framework.<br></p> <p>Теперь, когда вы внесли эти изменения, убедитесь, что у вас запущен сервер, набрав <code>fab runningerver</code>, введите URL <code>http://127.0.0.1:8000/authors/</code>. Вы должны увидеть привлекательно разработанную страницу просмотра API, содержащую список всех авторов в базе данных.</p> <p>Теперь, когда у нас есть представление API авторов, попробуйте нажать этот URL с помощью команды <code class="inline">curl</code>:</p> <pre class="brush: bash noskimlinks noskimwords">$ curl http://127.0.0.1:8000/authors/ &gt; [{"id": 1, "first_name": "Andy", "last_name": "Matthews"},..., {"id": 10, "first_name": "Jesse", "last_name": "Petersen"}]</pre> <blockquote> </blockquote> <p>Довольно шумный, да?</p> <h3>Предоставьте несколько авторских книг!</h3> <p>Хотя этот вид API довольно красивый, он один-к-одному с базой данных. Давайте перейдем к нашему представлению API, составив более сложный набор данных для авторов, включив список всех своих книг. Откройте <code>bookreview / serializers.py</code> и добавьте следующую строку кода перед определением класса <code class="inline">AuthorSerializer</code>.</p> <pre class="brush: python noskimlinks noskimwords">class BookSerializer(serializers.ModelSerializer):     """     Serializing all the Books     """     class Meta:         model = Book         fields = ("id", "title", "isbn")</pre> <p>Прежде чем мы сможем добавить книги в <code class="inline">AuthorSerializer</code>, мы должны сериализовать книги. Это должно быть полностью знакомо вам. Поскольку он почти идентичен <code class="inline">AuthorSerializer</code>, мы не будем обсуждать его.<br></p> <p>Затем добавьте следующую строку сразу после docstring класса <code class="inline">AuthorSerializer</code>:</p> <pre class="brush: python noskimlinks noskimwords">books = BookSerializer(many=True)</pre> <p>Затем добавьте <code class="inline">книги </code>в свойство полей внутреннего класса Meta <code class="inline">AuthorSerializer</code>:</p> <pre class="brush: python noskimlinks noskimwords">fields = ("id", "first_name", "last_name", "books")</pre> <p>Перезагрузите <code>/authors/</code> в конечном результате, и теперь вы должны увидеть массив книг для каждого автора. Неплохо бы еще несколько строк кода, да?.<br></p> <p>Хороший парень DRF!</p> <h4>Использование SerializerMethodField для создания пользовательских свойств</h4> <p>Сериализатор умный ... когда мы укажем, какую модель он должен сериализовать внутри внутреннего метакласса, он знает все об этой модели ... свойствах, длине, значениях по умолчанию и т. д. Обратите внимание, что мы не определяем какие-либо свойства, найденные в модели непосредственно в сериализаторе, мы укажем только, какие поля должны быть возвращены API в свойстве <code>fields</code>.</p> <p>Поскольку DRF уже знает о свойствах модели, это не требует от нас повторения. Если бы мы хотели, мы могли бы быть явными в <code class="inline">BookSerializer</code> и добавлять следующие строки ... и DRF был бы так же счастлив.</p> <pre class="brush: python noskimlinks noskimwords">title = serializers.Field(source="title") isbn = serializers.Field(source="isbn")</pre> <p>Метод <code>serializers.field</code> позволяет указать на существующее свойство модели, <code>исходное</code> поле и позволяет явно называть его чем-то другим при возврате его конечному пользователю. Но как насчет <code>serializers.SerializerMethodField</code>? Это позволяет вам по существу создать настраиваемое свойство, которое напрямую не привязано к модели, содержимое которой является результатом вызова метода. В нашем случае мы вернем URL-адрес, который содержит список мест, куда вы могли бы пойти, чтобы купить книгу. Давайте добавим этот пользовательский метод.<br></p> <p>Сразу после строки документации <code class="inline">BookSerializer</code> добавьте следующую строку:</p> <pre class="brush: python noskimlinks noskimwords">search_url = serializers.SerializerMethodField("get_search_url")</pre> <p>Затем после определения <code>класса Meta</code> <code class="inline">BookSerializer</code> добавьте следующие строки:</p> <pre class="brush: python noskimlinks noskimwords">def get_search_url(self, obj):     return "http://www.isbnsearch.org/isbn/{}".format(obj.isbn)</pre> <p>Затем, наконец, нам нужно добавить наше новое свойство в список полей. Измените это:</p> <pre class="brush: python noskimlinks noskimwords">fields = ("id", "title", "isbn")</pre> <p> к этому:</p> <pre class="brush: python noskimlinks noskimwords">fields = ("id", "title", "isbn", "search_url")</pre> <p>Перезагрузите <code>/authors/</code> в конечном результате, и теперь вы должны увидеть URL-адрес, возвращающийся вместе с другой информацией о книге.<br></p> <h3>Добавление конечной точки автора</h3> <p>У нас уже есть список авторов, но было бы хорошо, если бы у каждого автора была своя страница ... точно так же, как MySpace? Позволяет добавить конечную точку API для просмотра одного автора. Откройте <code>urls.py</code> и добавьте следующую строку после маршрута <code>author-list</code>:</p> <pre class="brush: python noskimlinks noskimwords">url(r"^authors/(?P&lt;pk&gt;[\d]+)/$", views.AuthorInstanceView.as_view(), name="author-instance"),</pre> <p>Затем откройте <code>view.py</code> и добавьте следующие строки после класса <code class="inline">AuthorView</code>:</p> <pre class="brush: python noskimlinks noskimwords">class AuthorInstanceView(generics.RetrieveAPIView):     """     Returns a single author.     Also allows updating and deleting     """     model = Author     serializer_class = AuthorSerializer</pre> <p>Нажмите одно из имен авторов на индексной странице, и вы увидите, что страница авторского экземпляра загружается.<br></p> <h4>Рефакторинг для победы!</h4> <p>Теперь самое подходящее время для быстрого рефакторинга. Поскольку Django предлагает вариант назначения ваших маршрутов, мы можем ссылаться на маршрут по этому имени. Это не позволяет нам создавать URL-адрес вручную. Откройте <code>templates/index.html</code> и замените следующий фрагмент:</p> <pre class="brush: html noskimlinks noskimwords">&lt;a href="/authors/{{author.id}}/"&gt;{{author.first_name}} {{author.last_name}}&lt;/a&gt;</pre> <p>с этой линией</p> <pre class="brush: html noskimlinks noskimwords">&lt;a href="{% url "author-instance" author.id %}"&gt;{{author.first_name}} {{author.last_name}}&lt;/a&gt;</pre> <h2>Сохранение данных: пусть DRF работает для вас!</h2> <p>До сих пор наше приложение было только для чтения. Пора начать сохранять некоторые данные. Откройте <code>templates/index.html</code> и добавьте следующие строки под заголовком авторов:</p> <p>Введите имя, ваше, если хотите, и нажмите submit ... и скоро, вы получите ... ошибку?</p> <p>DRF не совсем <i>такой</i> магический ... или не так ли?</p> <p>Откройте <code>views.py</code>, измените класс, который <code class="inline">AuthorView </code>расширяет с <code>generics.ListAPIView</code> на <code>generics.ListCreateAPIView</code>. Затем повторите попытку. Бум! Вы автор! И ваш учитель гимнастики четвертого класса сказал, что вы ни на что не годитесь. Но что он знал, он работал каждый день вокруг потных носков. Вернитесь на главную страницу автора, чтобы увидеть свое имя в огнях.</p> <p>Что сейчас произошло? По умолчанию API View, который мы использовали, разрешал только запросы <code class="inline">GET </code>конечной точке авторов. Изменив его на ListCreateAPIView, мы сказали DRF, что хотим также разрешить <code class="inline">POST </code>запросы. Он делает все остальное для нас. Мы могли бы также легко определить наш собственный метод <code class="inline">post</code> в <code class="inline">AuthorView</code> и написать немного лишнего материала. Это может выглядеть так:</p> <pre class="brush: python noskimlinks noskimwords">def post(self, *args, **kwargs):     import pdb; pdb.set_trace()</pre> <p>Имейте в виду, что, хотя DRF обеспечивает целостность базы данных, основанную на свойствах модели, мы не устанавливаем какую-либо безопасность для тех, кто может получить доступ или использовать эту форму. Вход безопасен, вход в систему и управление разрешениями выходит за рамки этой статьи, но достаточно сказать, что у <span>DRF есть функции</span> для доступа к просмотрам, с которыми вы работали, и это довольно банально для настроек.<br></p> <h2>Заканчиваем</h2> <p>Вы уже много узнали о платформе Django Rest Framework: как реализовать API-интерфейс для просмотра веб-страниц, который может вернуть JSON для вас, как настроить сериализаторы для составления и преобразования ваших данных, а также как использовать представления на основе классов для абстрагирования кода шаблона. </p> <p>DRF имеет больше, чем несколько бит, которые мы смогли усвоить, но я надеюсь, что он вам будет полезен для вашего следующего приложения.</p> 

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Python" href="https://norma-studio.github.io/article/220824613-rukovodstvo-dlya-nachinayuschih-po-django-rest-framework-" class="tm-article-body__tags-item-link">Python</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
34731</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
424</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
