
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Введение в формы в Angular 4: шаблоны
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Введение в формы в Angular 4: шаблоны
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Введение в формы в Angular 4: шаблоны
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Введение в формы в Angular 4: шаблоны
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Формы имеют решающее значение для любого современного front-end приложения, и они являются функцией, которую мы используем каждый день, даже если этого не осознаем. Формы необходимы для безопасного входа пользователя в приложение, поиска всех доступных отелей в определенном городе, бронирования такси, составления списка дел и выполнения множества д...">
<meta property="og:description" content="Формы имеют решающее значение для любого современного front-end приложения, и они являются функцией, которую мы используем каждый день, даже если этого не осознаем. Формы необходимы для безопасного входа пользователя в приложение, поиска всех доступных отелей в определенном городе, бронирования такси, составления списка дел и выполнения множества д...">
<meta name="twitter:description" content="Формы имеют решающее значение для любого современного front-end приложения, и они являются функцией, которую мы используем каждый день, даже если этого не осознаем. Формы необходимы для безопасного входа пользователя в приложение, поиска всех доступных отелей в определенном городе, бронирования такси, составления списка дел и выполнения множества д...">
<meta property="aiturec:description" content="Формы имеют решающее значение для любого современного front-end приложения, и они являются функцией, которую мы используем каждый день, даже если этого не осознаем. Формы необходимы для безопасного входа пользователя в приложение, поиска всех доступных отелей в определенном городе, бронирования такси, составления списка дел и выполнения множества д...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/final_image/CreatingFormsinAngular-TemplateDrivenForms-Main.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/final_image/CreatingFormsinAngular-TemplateDrivenForms-Main.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/final_image/CreatingFormsinAngular-TemplateDrivenForms-Main.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/final_image/CreatingFormsinAngular-TemplateDrivenForms-Main.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/final_image/CreatingFormsinAngular-TemplateDrivenForms-Main.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony.html" title="Введение в формы в Angular 4: шаблоны
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Введение в формы в Angular 4: шаблоны
... | envatomarket.ru | norma-studio.github.io" title="Введение в формы в Angular 4: шаблоны
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64533gfdsgf.jpg" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony.html" class="tm-user-info__username" title="
А. Лукичев" aria-label="
А. Лукичев">
А. Лукичев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Введение в формы в Angular 4: шаблоны
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Angular" href="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony" class="tm-article-snippet__hubs-item-link"><span>Angular</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/final_image/CreatingFormsinAngular-TemplateDrivenForms-Main.jpg">
    <meta itemprop="headline name" content="Введение в формы в Angular 4: шаблоны
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Формы имеют решающее значение для любого современного front-end приложения, и они являются функцией, которую мы используем каждый день, даже если этого не осознаем. Формы необходимы для безопасного входа пользователя в приложение, поиска всех доступных отелей в определенном городе, бронирования такси, составления списка дел и выполнения множества д...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Формы имеют решающее значение для любого современного front-end приложения, и они являются функцией, которую мы используем каждый день, даже если этого не осознаем. Формы необходимы для безопасного входа пользователя в приложение, поиска всех доступных отелей в определенном городе, бронирования такси, составления списка дел и выполнения множества д...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Формы имеют решающее значение для любого современного front-end приложения, и они являются функцией, которую мы используем каждый день, даже если этого не осознаем. Формы необходимы для безопасного входа пользователя в приложение, поиска всех доступных отелей в определенном городе, бронирования такси, составления списка дел и выполнения множества других вещей, к которым мы привыкли. В некоторых формах есть только несколько полей ввода, тогда как другие формы могут иметь массив полей, которые простираются до нескольких страниц или вкладок. </p><p>В этом уроке мы поговорим о различных стратегиях, доступных для разработки форм в Angular. Независимо от выбранной вами стратегии, вот те вещи, которые должна покрывать библиотека формы:</p><ul><li>Поддержка двухсторонней привязки, чтобы значения управления входом синхронизировались с состоянием компонента.</li> <li>Следить за состоянием формы и использовать визуальные сигналы, чтобы дать пользователю знать, валидное ли текущее состояние или нет. Например, если имя пользователя имеет недопустимые символы, то вокруг поля ввода для имени пользователя должна появиться красная рамка.</li> <li>Иметь механизм для правильного отображения ошибок валидации.</li> <li>Включать или отключать определенные части формы, если не соблюдены некоторые критерии валидации.</li> </ul><h2>Введение в формы Angular</h2><p>Angular, являющийся полнофункциональным front-end фреймворком, имеет свой собственный набор библиотек для построения сложных форм. Последняя версия Angular имеет две мощные стратегии построения форм. Вот они:</p><ul><li>шаблонные формы </li> <li>модельные или реактивные формы</li> </ul><p>Обе технологии принадлежат библиотеке <code class="inline">@angular/forms</code> и основаны на тех же классах управления формой. Тем не менее, они значительно отличаются в своей философии, стиле программирования и технике. Выбор одного из них зависит от вашего личного вкуса, а также от сложности формы, которую вы пытаетесь создать. На мой взгляд, сначала вы должны попробовать оба подхода, а затем выбрать тот, который соответствует вашему стилю и проекту. </p><p>В первой части учебника будут рассмотрены шаблонные формы с практическим примером: создание формы регистрации с валидацией для всех полей формы. Во второй части этого урока мы вернемся на пару шагов назад, чтобы создать ту же форму, используя подход, основанный на модели. </p><h2>Шаблонные формы</h2><p>Шаблонный подход - это стратегия, которая была заимствована из эпохи AngularJS. На мой взгляд, это самый простой метод построения форм. Как это работает? Мы будем использовать некоторые директивы Agnular. </p><blockquote>Директивы позволяют прикрепить поведение к элементам в DOM.<br>- <span>Документация Angular</span> </blockquote><p>Angular предоставляет директивы, специфичные для конкретной формы, которые вы можете использовать для привязки входных данных формы и модели. Директивы, специфичные для формы, добавляют дополнительную функциональность и поведение к простой форме HTML. Конечным результатом является то, что шаблон заботится о привязке значений к модели и проверке формы. </p><p>В этом уроке мы будем использовать шаблонные формы для создания страницы регистрации в приложении. Форма будет охватывать наиболее распространенные элементы формы и различные проверки валидации этих элементов формы. Вот шаги, которые вы проследуете в этом уроке.</p><ul><li>Добавьте FormsModule в <code class="inline">app.module.ts</code>.</li> <li>Создайте класс для модели User.</li> <li>Создайте исходные компоненты и макет для формы регистрации.</li> <li>Используйте Angular директивы формы, такие как <code class="inline">ngModel</code>, <code class="inline">ngModelGroup</code> и <code class="inline">ngForm</code>.</li> <li>Добавьте валидацию с помощью встроенных валидаторов.</li> <li>Отображать ошибки валидации.<br></li> <li>Управление формой с помощью <code class="inline">ngSubmit</code>.</li> </ul><p>Давайте начнем.</p><h2>Предпосылки</h2><p>Код для этого проекта доступен в моем <span>репозитории GitHub</span>. Загрузите zip-архиов или клонируйте репо, чтобы увидеть его в действии. Если вы предпочитаете начинать с нуля, убедитесь, что у вас установлен Angular CLI. Используйте команду <code class="inline">ng</code> для создания нового проекта. </p><pre class="brush: plain noskimlinks noskimwords">$ ng new SignupFormProject</pre><p>Затем создайте новый компонент для RegisterForm.</p><pre class="brush: plain noskimlinks noskimwords">ng generate component SignupForm</pre><p>Замените содержимое <strong>app.component.html</strong> следующим образом:</p><pre class="brush: html noskimlinks noskimwords">&lt;app-signup-form&gt; &lt;/app-signup-form&gt;</pre><p>Вот структура каталогов для каталога <strong>src/</strong>. Я удалил некоторые несущественные файлы, чтобы все было просто.</p><pre class="brush: plain noskimlinks noskimwords">.├── app│   ├── app.component.css│   ├── app.component.html│   ├── app.component.ts│   ├── app.module.ts│   ├── signup-form│   │   ├── signup-form.component.css│   │   ├── signup-form.component.html│   │   └── signup-form.component.ts│   └── User.ts├── index.html├── main.ts├── polyfills.ts├── styles.css├── tsconfig.app.json└── typings.d.ts</pre><p>Как вы можете видеть, каталог для компонента <code class="inline">RegisterForm</code> был создан автоматически. Вот где будет находится большая часть нашего кода. Я также создал новый <code class="inline">User.ts</code> для хранения нашей модели User.</p><h3>Шаблон HTML</h3><p>Прежде чем мы погрузимся в шаблон фактического компонента, нам нужно иметь абстрактное представление о том, что мы строим. Итак, вот структура формы, которая у меня на уме. Форма регистрации будет содержать несколько полей ввода, элемент выбора и элемент флажка. </p><p><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/image/CreatingFormsinAngular-TemplateDrivenFormsAbstract.jpg" alt="Введение в формы в Angular 4: шаблоны..." title="Введение в формы в Angular 4: шаблоны..." width="50" height="50"><br></p><p>Вот HTML-шаблон, который мы будем использовать для нашей страницы регистрации. <br></p><h4>Шаблон HTML</h4><pre class="brush: html noskimlinks noskimwords"> &lt;div class="row custom-row"&gt;  &lt;div class= "col-sm-5 custom-container jumbotron"&gt;          &lt;form class="form-horizontal"&gt;        &lt;fieldset&gt;        &lt;legend&gt;SignUp&lt;/legend&gt;                    &lt;!--- Email Block ---&gt;            &lt;div class="form-group"&gt;          &lt;label for="inputEmail"&gt;Email&lt;/label&gt;      &lt;input type="text"                id="inputEmail"            placeholder="Email"&gt;       &lt;/div&gt;            &lt;!--- Password Block ---&gt;       &lt;div class="form-group"&gt;          &lt;label for="inputPassword"&gt;Password&lt;/label&gt;          &lt;input type="password"                 id="inputPassword"                placeholder="Password"&gt;        &lt;/div&gt;            &lt;div class="form-group"&gt;          &lt;label for="confirmPassword" &gt;Confirm Password&lt;/label&gt;          &lt;input type="password"                 id="confirmPassword"                placeholder="Password"&gt;        &lt;/div&gt;                        &lt;!--- Select gender Block ---&gt;        &lt;div class="form-group"&gt;          &lt;label for="select"&gt;Gender&lt;/label&gt;            &lt;select id="select"&gt;              &lt;option&gt;Male&lt;/option&gt;              &lt;option&gt;Female&lt;/option&gt;              &lt;option&gt;Other&lt;/option&gt;            &lt;/select&gt;        &lt;/div&gt;                        &lt;!--- Terms and conditions Block ---&gt;             &lt;div class="form-group checkbox"&gt;              &lt;label&gt;                &lt;input type="checkbox"&gt; Confirm that you"ve read the Terms and                 Conditions              &lt;/label&gt;            &lt;/div&gt;                  &lt;!--- Buttons Block ---&gt;        &lt;div class="form-group"&gt;            &lt;button type="reset" class="btn btn-default"&gt;Cancel&lt;/button&gt;            &lt;button type="submit" class="btn btn-primary"&gt;Submit&lt;/button&gt;        &lt;/div&gt;    &lt;/fieldset&gt;    &lt;/form&gt;  &lt;/div&gt;&lt;/div&gt;</pre><p>Классы CSS, используемые в шаблоне HTML, являются частью библиотеки Bootstrap. Поскольку это не учебник по дизайну, я не буду здесь слишком много говорить о CSS-аспектах формы, если это необходимо. </p><h2>Настройка базовой формы</h2><p>Чтобы использовать директивы формы с шаблоном, нам нужно импортировать <code class="inline">FormsModule</code> из <code class="inline">@angular/forms</code> и добавить его в массив <code class="inline">import</code> в <code class="inline">app.module.ts</code>.</p><h4>app/app.module.ts</h4><pre class="brush: javascript noskimlinks noskimwords">import { FormsModule } from "@angular/forms";@NgModule({ . . imports: [    BrowserModule,    FormsModule  ],  .  .})export class AppModule { }</pre><p>Затем создайте класс, который будет содержать все свойства объекта User. Мы можем использовать интерфейс и реализовать его в компоненте или использовать класс TypeScript для модели.</p><h4>app/User.ts</h4><pre class="brush: javascript noskimlinks noskimwords">export class User {    id: number;    email: string;    //Both the passwords are in a single objectpassword: {   pwd: string;  confirmPwd: string;};gender: string;    terms: boolean;constructor(values: Object = {}) {  //Constructor initialization      Object.assign(this, values);  }}</pre><p>Теперь создайте экземпляр класса в компоненте RegistrationForm. Я также объявил дополнительное свойство для пола. </p><h4>app/signup-form/signup-form.component.ts</h4><pre class="brush: javascript noskimlinks noskimwords">import { Component, OnInit } from "@angular/core";// Import the User modelimport { User } from "./../User";@Component({  selector: "app-signup-form",  templateUrl: "./signup-form.component.html",  styleUrls: ["./signup-form.component.css"]})export class SignupFormComponent implements OnInit {  //Property for the gender  private gender: string[];  //Property for the user  private user:User;  ngOnInit() {    this.gender =  ["Male", "Female", "Others"];    //Create a new user object    this.user = new User({        email:"", password: { pwd: "" , confirm_pwd: ""},         gender: this.gender[0], terms: false});    }}</pre><p>Для файла <strong>signup-form.component.html</strong> я собираюсь использовать тот же шаблон HTML, который обсуждался выше, но с небольшими изменениями. Форма регистрации имеет поле выбора со списком опций. Хотя это и работает, мы сделаем это Angular способом, пройдя по списку с помощью директивы <code class="inline">ngFor</code>.</p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords">&lt;div class="row custom-row"&gt;  &lt;div class= "col-sm-5 custom-container jumbotron"&gt;          &lt;form class="form-horizontal"&gt;        &lt;fieldset&gt;          &lt;legend&gt;SignUp&lt;/legend&gt;..            &lt;!--- Gender Block --&gt;            &lt;div class="form-group"&gt;              &lt;label for="select"&gt;Gender&lt;/label&gt;               &lt;select id="select"&gt;                                  &lt;option *ngFor = "let g of gender"                    [value] = "g"&gt; {{g}}                  &lt;/option&gt;               &lt;/select&gt;           &lt;/div&gt;..    &lt;/fieldset&gt;    &lt;/form&gt;  &lt;/div&gt;&lt;/div&gt;</pre><p>Затем мы хотим привязать данные формы к объекту пользовательского класса, чтобы при вводе регистрационных данных в форму был создан новый объект User, который временно сохраняет эти данные. Таким образом, вы можете синхронизировать представление с моделью, и это называется привязкой. </p><p>Есть несколько способов сделать это. Позвольте мне сначала познакомить вас с <code class="inline">ngModel</code> и <code class="inline">ngForm</code>.</p><h2>ngForm и ngModel</h2><p>ngForm и ngModel - это Angular директивы, которые необходимы для создания форм, управляемых шаблонами. Начнем с <code class="inline">ngForm</code>. Вот выдержка о ngForm из Angular docs.</p><blockquote>Директива <code>NgForm</code> дополняет элемент <code>form</code> дополнительными функциями. Она содержит элементы управления, созданные с директивой <code>ngModel</code>  и атрибутом <code>name</code>, и отслеживает их свойства, в том числе их валидацию. Она также имеет свое собственное свойство <code>valid</code>, которое истинно только в том случае, если <em>все содержащиеся в нем</em> элементы управления валидны.<br></blockquote><p>Сначала обновите форму с помощью директивы <code class="inline">ngForm</code>:</p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords">&lt;form   class="form-horizontal"    #signupForm = "ngForm"&gt;..&lt;/form&gt;</pre><p><code class="inline">#signupForm</code> - это <span>ссылочная переменная шаблона</span>, которая ссылается на директиву <code class="inline">ngForm</code>, которая управляет всей формой. В приведенном ниже примере демонстрируется использование ссылочного объекта <code class="inline">ngForm</code> для валидации.</p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords">&lt;button    type="submit"    class="btn btn-success"    [disabled]="!signupForm.form.valid"&gt;      Submit&lt;/button&gt;</pre><p>Здесь <code class="inline">signupForm.form.valid</code> вернет false, если все элементы формы не пройдут соответствующие проверки валидации. Кнопка отправки будет отключена до тех пор, пока форма не будет валидна. </p><p>Что касается привязки шаблона и модели, существует множество способов сделать это, и <code class="inline">ngModel</code> имеет три разных синтаксиса для решения этой ситуации. Вот они:</p><ol><li>[(NgModel)] </li> <li>[NgModel]</li> <li>ngModel</li> </ol><p>Начнем с первого.</p><h2>Двусторонняя привязка с использованием [(ngModel)]</h2><p><code class="inline">[(ngModel)]</code> выполняет двустороннюю привязку для чтения и записи значений управления вводом. Если используется директива <code class="inline">[(ngModel)]</code>, поле ввода берет начальное значение из класса связанных компонентов и обновляет его, всякий раз, когда обнаруживается какое-либо изменение входного значения управления (при нажатии клавиши и нажатии кнопки). Нижеприведенное изображение описывает процесс двустороннего связывания.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/image/CreatingFormsinAngular-TemplateDrivenForms-TwoWayBinding.jpg" alt="Введение в формы в Angular 4: шаблоны..." title="Введение в формы в Angular 4: шаблоны..." width="50" height="50"></figure><p>Вот код для поля ввода электронной почты:</p><pre class="brush: javascript noskimlinks noskimwords">    &lt;div class="form-group"&gt;      &lt;label for="inputEmail"&gt;Email&lt;/label&gt;  &lt;input type="text"     [(ngModel)] = "user.email"        id="inputEmail"         name="email"        placeholder="Email"&gt;   &lt;/div&gt;</pre><p><code class="inline">[(ngModel)] = "user.email"</code> связывает свойство электронной почты пользователя с входным значением. Я также добавил атрибут <strong>name</strong> и установил <code class="inline">name = "email"</code>. Это важно, и вы получите сообщение об ошибке, если вы не объявили атрибут name при использовании ngModel. </p><p>Аналогичным образом добавьте к каждому элементу формы атрибут <code class="inline">[(ngModel)]</code> и уникальный атрибут <strong>name</strong>. Теперь ваша форма должна выглядеть примерно так:</p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords">...  &lt;div ngModelGroup="password"&gt;   &lt;div class="form-group" &gt;      &lt;label for="inputPassword"&gt;Password&lt;/label&gt;      &lt;input type="password"       [(ngModel)] = "user.password.pwd" name="pwd"           placeholder="Password"&gt;    &lt;/div&gt;    &lt;div class="form-group"&gt;      &lt;label for="confirmPassword" &gt;Confirm Password&lt;/label&gt;      &lt;input type="password"         [(ngModel)] = "user.password.confirmPwd"  name="confirmPwd"            placeholder="Confirm Password"&gt;    &lt;/div&gt;&lt;/div&gt;    &lt;div class="form-group"&gt;      &lt;label for="select"&gt;Gender&lt;/label&gt;        &lt;select id="select"          [(ngModel)] = "user.gender" name = "gender"&gt;                    &lt;option *ngFor = "let g of gender"             [value] = "g"&gt; {{g}}           &lt;/option&gt;        &lt;/select&gt;    &lt;/div&gt;             .     .     .</pre><p><code class="inline">ngModelGroup</code> используется для группировки одинаковых полей формы, чтобы мы могли запускать валидацию только по этим полям формы. Поскольку оба поля пароля связаны, мы помещаем их под одну группу ngModelGroup. Если все работает так, как ожидалось, свойство <code class="inline">user</code>, связанное с компонентом, должно отвечать за хранение всех значений управления формой. Чтобы увидеть это в действии, добавьте следующее после тега формы:</p><pre class="brush: javascript noskimlinks noskimwords">{{user | json}}</pre><p>Пропустите свойство user через <code class="inline">JsonPipe</code>, чтобы отобразить модель как JSON в браузере. Это полезно для отладки и ведения логов. Вы должны увидеть JSON вывод следующим образом. </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/image/CreatingFormsinAngular-TemplateDrivenForms-Output-ngModel.jpg" alt="Введение в формы в Angular 4: шаблоны..." title="Введение в формы в Angular 4: шаблоны..." width="50" height="50"></figure><p>Значения текут от представления к модели. А как насчет другого пути? Попробуйте инициализировать объект пользователя некоторыми значениями.</p><h4>app/signup-form/signup-form.component.ts</h4><pre class="brush: javascript noskimlinks noskimwords">this.user = new User({    //initialized with some data    email:"thisisfromthemodel@example.com",     password: { pwd: "" , confirm_pwd: ""},     gender: this.gender[0]        });</pre><p>И они автоматически появляются в представлении:</p><pre class="brush: javascript noskimlinks noskimwords">{ "email": "thisisfromthemodel@example.com", "password": { "pwd": "", "confirm_pwd": "" }, "gender": "Male" }</pre><p>Синтаксис двухсторонней привязки <code class="inline">[(ngModel)]</code> позволяет легко создавать формы. Однако он имеет определенные недостатки; следовательно, существует альтернативный подход, в котором используется <code class="inline">ngModel</code> или <code class="inline">[ngModel]</code>.<br></p><h2>Добавление ngModel в Mix</h2><p>Когда используется <code class="inline">ngModel</code>, мы фактически отвечаем за обновление свойства компонента с помощью значений управления вводом и наоборот. Входные данные автоматически не поступают в пользовательское свойство компонента.</p><p>Поэтому замените все экземпляры <code class="inline">[(ngModel)] = ""</code> в <code class="inline">ngModel</code>. Мы сохраним атрибут <code class="inline">name</code>, потому что для всех трех версий ngModel нужен атрибут <code class="inline">name</code>. </p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: javascript noskimlinks noskimwords">&lt;div class="form-group"&gt;          &lt;label for="inputEmail"&gt;Email&lt;/label&gt;  &lt;input type="text"     ngModel            id="inputEmail"             name="email"        placeholder="Email"&gt;   &lt;/div&gt;</pre><p>С помощью <code class="inline">ngModel</code> значение атрибута name станет ключом <code class="inline">signupForm</code> ссылочного объекта <code class="inline">ngForm</code>, который мы создали ранее. Так, например, signupForm.value.email сохранит контрольное значение для идентификатора электронной почты. </p><p>Замените <code class="inline">{{user | json}}</code> на <code class="inline">{{signupForm.value | json}}</code>, потому что сейчас все состояние сохраняется. </p><h2>Односторонняя привязка с использованием [ngModel]</h2><p>Что делать, если вам нужно установить начальное состояние из компонента связанного класса? Это то, что делает для вас <code class="inline">[ngModel]</code>. </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/image/CreatingFormsinAngular-TemplateDrivenForms-OneWayBinding.jpg" alt="Введение в формы в Angular 4: шаблоны..." title="Введение в формы в Angular 4: шаблоны..." width="50" height="50"></figure><p>Здесь данные передаются от модели к виду. Внесите следующие изменения в синтаксис для использования односторонней привязки:</p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords">&lt;div class="form-group"&gt;      &lt;label for="inputEmail"&gt;Email&lt;/label&gt;      &lt;input type="text"         [ngModel] = "user.email"        id="inputEmail"         name="email"        placeholder="Email"&gt;&lt;/div&gt;</pre><p>Итак, какой подход вы должны выбрать? Если вы используете <code class="inline">[(ngModel)]</code> и <code class="inline">ngForm</code> вместе, у вас в конечном итоге будет два состояния для поддержки - <code class="inline">user</code> и <code class="inline">signupForm.value</code> - что может в итоге вас запутать. </p><pre class="brush: javascript noskimlinks noskimwords">{ "email": "thisisfromthemodel@example.com", "password": { "pwd": "thisispassword", "confirm_pwd": "thisispassword" }, "gender": "Male" } //user.value{ "email": "thisisfromthemodel@example.com", "password": { "pwd": "thisispassword", "confirm_pwd": "thisispassword" }, "gender": "Male" } //signupForm.value</pre><p>Следовательно, я рекомендую использовать метод односторонней привязки. Но решать вам.<br></p><h2>Проверка и отображение сообщений об ошибках </h2><p>Вот наши требования к валидации.</p><ul><li>Все элементы управления формой <em>обязательны</em>. </li> <li>Отключите кнопку отправки до тех пор, пока не будут заполнены все поля ввода.</li> <li>В поле электронной почты должно быть строго указан идентификатор электронной почты.</li> <li>Поле пароля должно иметь минимальную длину 8 символов. </li> <li>И пароль, и его подтверждение должны совпадать.</li> </ul><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/image/CreatingFormsinAngular-TemplateDrivenForms-FormWithValidation.jpg" alt="Введение в формы в Angular 4: шаблоны..." title="Введение в формы в Angular 4: шаблоны..." width="50" height="50"><figcaption>Наша форма с валидацией</figcaption></figure><p>Сперва все просто. Вы должны добавить атрибут <code class="inline">required</code> проверки для каждого элемента формы следующим образом:</p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords">&lt;input type="text"     [ngModel] = "user.email" name="email"    #email = "ngModel"placeholder="Email"required&gt;</pre><p>Помимо атрибута <code class="inline">required</code>, я также экспортировал новую ссылочную переменную шаблона <code class="inline">#email</code>. Это делается для того, чтобы вы могли получить доступ к элементу управления Angular входного окна внутри самого шаблона. Мы будем использовать его для отображения ошибок и предупреждений. Теперь используйте свойство кнопки disabled, чтобы отключить кнопку:</p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords">&lt;button    type="submit"    class="btn btn-success"    [disabled]="!signupForm.form.valid"&gt;      Submit&lt;/button&gt;</pre><p>Чтобы добавить ограничение по электронной почте, используйте атрибут pattern, который работает с полями ввода. Шаблоны используются для указания регулярных выражений, подобных приведенным ниже:</p><pre class="brush: html noskimlinks noskimwords">pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"</pre><p>Для поля пароля все, что вам нужно сделать, это добавить атрибут <code class="inline">minlength = ""</code>:</p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords"> &lt;input type="password"           ngModel            id="inputPassword"            name="pwd"            #pwd = "ngModel"            placeholder="Password"            minlength="8"             required&gt;</pre><p>Чтобы отобразить ошибки, я собираюсь использовать условную директиву <code class="inline">ngIf</code> для элемента div. Начнем с поля ввода для электронной почты:</p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords">&lt;div class="form-group"&gt;          &lt;label for="inputEmail"&gt;Email&lt;/label&gt;  &lt;input type="text"     [ngModel] = "user.email" name="email"        #email = "ngModel" id="inputEmail"         placeholder="Email"        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"        required&gt;   &lt;/div&gt;&lt;!-- This is the error section --&gt;&lt;div *ngIf="email.invalid &amp;&amp; (email.dirty || email.touched)" class="alert alert-danger"&gt; &lt;div *ngIf = "email.errors?.required"&gt; Email field can"t be blank &lt;/div&gt; &lt;div *ngIf = "email.errors?.pattern &amp;&amp; email.touched"&gt; The email id doesn"t seem right &lt;/div&gt; &lt;/div&gt;</pre><p>Здесь много всего происходит. Начнем с первой строки раздела об ошибки.</p><pre class="brush: html noskimlinks noskimwords">&lt;div *ngIf="email.invalid &amp;&amp; (email.dirty || email.touched)"     class="alert alert-danger"&gt;</pre><p>Помните переменную <code class="inline">#email</code>, которую мы экспортировали ранее? Она содержит некоторую информацию о состоянии управления вводом электронной почты. Это включает в себя: <code class="inline">email.valid</code>, <code class="inline">email.invalid</code>, <code class="inline">email.dirty</code>, <code class="inline">email.pristine</code>, <code class="inline">email.touched</code>, <code class="inline">email.untouched</code> и <code class="inline">email.errors</code>. На приведенном ниже изображении подробно описывается каждое из этих свойств.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29766/image/CreatingFormsinAngular-TemplateDrivenForms-ngModel.jpg" alt="Введение в формы в Angular 4: шаблоны..." title="Введение в формы в Angular 4: шаблоны..." width="50" height="50"></figure><p>Таким образом, элемент div с <code class="inline">*ngIf</code> будет отображаться только в том случае, если email невалидный. Тем не менее, пользователь будет встречен с ошибками о том, что поля ввода пустые, даже если у них есть возможность редактировать форму. </p><p>Чтобы избежать подобного сценария, мы добавили второе условие. Ошибка будет отображаться только после <em>посещения элемента управления</em> или <em>изменения значения элемента управления</em>.</p><p>Вложенные элементы div используются для покрытия всех случаев ошибок проверки. Мы используем <code class="inline">email.errors</code> для проверки всех возможных ошибок валидации и последующего отображения их пользователю в виде собственных сообщений. Теперь следуйте той же процедуре для других элементов формы. Вот как я закодировал проверку паролей. </p><h4>app/signup-form/signup-form.component.html</h4><pre class="brush: html noskimlinks noskimwords">    &lt;div ngModelGroup="password" #userPassword="ngModelGroup" required &gt;   &lt;div class="form-group"&gt;      &lt;label for="inputPassword"&gt;Password&lt;/label&gt;      &lt;input type="password"        ngModel name="pwd"            id="inputPassword" placeholder="Password"            minlength ="8" required&gt;    &lt;/div&gt;    &lt;div class="form-group"&gt;      &lt;label for="confirmPassword" &gt;Confirm Password&lt;/label&gt;      &lt;input type="password"         ngModel name="confirmPwd"            id="confirmPassword" placeholder="Confirm Password"&gt;    &lt;/div&gt;    &lt;div *ngIf="(userPassword.invalid|| userPassword.value?.pwd != userPassword.value?.confirmPwd) &amp;&amp; (userPassword.touched)" class="alert alert-danger"&gt;  &lt;div *ngIf = "userPassword.invalid; else nomatch"&gt; Password needs to be more than 8 characters &lt;/div&gt; &lt;ng-template #nomatch &gt; Passwords don"t match &lt;/ng-template&gt;    &lt;/div&gt;    &lt;/div&gt;</pre><p>Все это начинает выглядеть немного грязно. Angular имеет ограниченный набор атрибутов валидатора: <code class="inline">required</code>, <code class="inline">minlength</code>, <code class="inline">maxlength</code> и <code class="inline">template</code>. Чтобы охватить любой другой сценарий, подобный сценарию сравнения паролей, вам придется полагаться на вложенные условия <code class="inline">ngIf</code>, как я уже говорил выше. Или, в идеале, создать пользовательскую функцию валидатора, о которой я расскажу в третьей части этой серии.</p><p>В приведенном выше коде я использовал синтаксис <code class="inline">ngIf else</code>, который был введен в последней версии Angular. Вот как это работает:</p><pre class="brush: html noskimlinks noskimwords">&lt;div *ngIf="isValid;else notvalid"&gt;    Valid content...&lt;/div&gt;&lt;ng-template #notValid&gt;Not valid content...&lt;/ng-template&gt;</pre><h2>Отправить форму с помощью ngSubmit<br></h2><p>Мы почти закончили форму. Теперь мы должны иметь возможность отправить форму, и контроль данных формы должен быть передан компонентному методу, например <code class="inline">onFormSubmit()</code>.</p><h4>app/signup-form/signup-form.component.ts</h4><pre class="brush: html noskimlinks noskimwords">&lt;form novalidate (ngSubmit)="onFormSubmit(signupForm)" #signupForm="ngForm"&gt;...</pre><p>Теперь для компонента:</p><h4>app/signup-form/signup-form.component.ts</h4><pre class="brush: javascript noskimlinks noskimwords">...  public onFormSubmit({ value, valid}: { value: User, valid: boolean }) {        this.user = value;    console.log( this.user);    console.log("valid: " + valid);  }...</pre><h2>Финальная демонстрация</h2><p>Вот окончательная версия приложения. Я добавил несколько классов bootstrap, чтобы сделать форму красивой.</p><figure></figure><h2>Резюме</h2><p>На этом мы заканчиваем. В этом уроке мы рассмотрели все, что вам нужно знать о создании формы в Angular, используя подход, основанный на шаблонах. Шаблонные формы популярны благодаря своей простоте и легком использовании. </p><p>Однако, если вам нужно создать форму с большим количеством элементов, этот подход станет весьма грязным. Итак, в следующем уроке мы рассмотрим модельный способ построения одной и той же формы. </p><p>Поделитесь своими мыслями в комментариях ниже.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Angular" href="https://norma-studio.github.io/article/220824841-vvedenie-v-formy-v-angular-4-shablony" class="tm-article-body__tags-item-link">Angular</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
38256</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
360</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
