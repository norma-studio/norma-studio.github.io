
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Создание приложения блога на Angular и MongoDB:- Главная... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Создание приложения блога на Angular и MongoDB:- Главная... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Создание приложения блога на Angular и MongoDB:- Главная... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Создание приложения блога на Angular и MongoDB:- Главная... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В первой части учебной серии вы видели, как начать работу с созданием Angular веб-приложения. Вы узнали, как настроить приложение и создать компонент «Login»....">
<meta property="og:description" content="В первой части учебной серии вы видели, как начать работу с созданием Angular веб-приложения. Вы узнали, как настроить приложение и создать компонент «Login»....">
<meta name="twitter:description" content="В первой части учебной серии вы видели, как начать работу с созданием Angular веб-приложения. Вы узнали, как настроить приложение и создать компонент «Login»....">
<meta property="aiturec:description" content="В первой части учебной серии вы видели, как начать работу с созданием Angular веб-приложения. Вы узнали, как настроить приложение и создать компонент «Login»....">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1469/posts/30129/image/home.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1469/posts/30129/image/home.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1469/posts/30129/image/home.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1469/posts/30129/image/home.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1469/posts/30129/image/home.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya.html" title="Создание приложения блога на Angular и MongoDB:- Главная... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Создание приложения блога на Angular и MongoDB:- Главная... | envatomarket.ru | norma-studio.github.io" title="Создание приложения блога на Angular и MongoDB:- Главная... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/31231313312.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya.html" class="tm-user-info__username" title="
Д. Грунин" aria-label="
Д. Грунин">
Д. Грунин</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Создание приложения блога на Angular и MongoDB:- Главная...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Angular" href="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya" class="tm-article-snippet__hubs-item-link"><span>Angular</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1469/posts/30129/image/home.png">
    <meta itemprop="headline name" content="Создание приложения блога на Angular и MongoDB:- Главная... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В первой части учебной серии вы видели, как начать работу с созданием Angular веб-приложения. Вы узнали, как настроить приложение и создать компонент «Login»....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В первой части учебной серии вы видели, как начать работу с созданием Angular веб-приложения. Вы узнали, как настроить приложение и создать компонент «Login»....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>В <span>первой части</span> учебной серии вы видели, как начать работу с созданием Angular веб-приложения. Вы узнали, как настроить приложение и создать компонент «Login».</p><p>В этой части серии вы напишите API REST ендпоинт, необходимый для взаимодействия с бэкендом MongoDB. Вы также создадите компонент <code class="inline">Home</code>, который будет отображаться после успешного входа в систему.</p><h2>Начинаем</h2><p>Давайте начнем с клонирования исходного кода из первой части серии.</p><pre class="brush: bash noskimlinks noskimwords">git clone https://github.com/royagasthyan/AngularBlogApp-Login AngularBlogApp-Home</pre><p>Перейдите в каталог проекта и установите необходимые зависимости.</p><pre class="brush: bash noskimlinks noskimwords">cd AngularBlogApp-Home/clientnpm install</pre><p>После установки зависимостей перезапустите сервер.</p><pre class="brush: bash noskimlinks noskimwords">npm start</pre><p>Откройте <span>http://localhost:4200</span> в своем браузере, и вы должны получить запущенное приложение.</p><h2>Создание API REST для входа в систему</h2><p>Внутри папки проекта <code class="inline">AngularBlogApp-Home</code> создайте другую папку с именем <code class="inline">server</code>. Наш API REST мы напишем на Node.js.</p><p>Перейдите в папку <code class="inline">server</code> и выполните инициализацию проекта.</p><pre class="brush: bash noskimlinks noskimwords">cd servernpm init</pre><p>Введите необходимые данные, и вы должны инициализировать проект.</p><p>Вы будете использовать фреймворк <code class="inline">Express</code> для создания сервера. Установите <code class="inline">Express</code>, используя следующую команду:</p><pre class="brush: bash noskimlinks noskimwords">npm install express --save</pre><p>После установки <code class="inline">Express</code> создайте файл под названием <code class="inline">app.js</code>. Это будет корневой файл для вашего сервера Node.js.</p><p>Вот как выглядит файл <code class="inline">app.js</code>:</p><pre class="brush: javascript noskimlinks noskimwords">const express = require("express")const app = express()app.get("/api/user/login", (req, res) =&gt; {    res.send("Hello World!")})app.listen(3000, () =&gt; console.log("blog server running on port 3000!"))</pre><p>Как видно из приведенного выше кода, вы импортировали <code class="inline">express</code> в <code class="inline">app.js</code>. С помощью <code class="inline">express</code> вы создали приложение <code class="inline">app</code>.</p><p>Используя <code class="inline">app</code>, вы открыли ендпоинт <code class="inline">/api/user/login</code>, который отобразит сообщение. Запустите сервер Node.js, используя следующую команду:</p><pre class="brush: bash noskimlinks noskimwords">node app.js</pre><p>Откройте <span>http://localhost:3000/api/user/login</span> в своем браузере, и вы должны увидеть это сообщение.</p><p>Вы будете отправлять запрос <code class="inline">POST</code> из сервиса Angular на сервер с параметрами <code class="inline">username</code> и <code class="inline">password</code>. Поэтому вам нужно проанализировать параметры запроса.</p><p>Установите <code class="inline">body-parser</code>, который middleware для разбора тела Node.js для анализа параметров запроса.</p><pre class="brush: bash noskimlinks noskimwords">npm install body-parser --save</pre><p>После его установки импортируйте его в <code class="inline">app.js</code>.</p><pre class="brush: javascript noskimlinks noskimwords">const bodyParser = require("body-parser")</pre><p>Добавьте следующий код в файл <code class="inline">app.js</code>.</p><pre class="brush: javascript noskimlinks noskimwords">app.use(bodyParser.json())app.use(bodyParser.urlencoded({ extended : false}))</pre><p>Вышеупомянутые два параметра <code class="inline">body-parser</code> возвращают middleware, которое анализирует только <code>json</code> и <code class="inline">urlencoded</code> тела и просматривает только запросы, в которых заголовок <code>Content-Type</code> соответствует опции <code>type</code>.</p><p>Вы будете использовать <code class="inline">Mongoose</code> для взаимодействия с <code class="inline">MongoDB</code> из Node.js. Поэтому установите <code class="inline">Mongoose</code> с помощью Node Package Manager (npm).</p><pre class="brush: bash noskimlinks noskimwords">npm install mongoose --save</pre><p>Как только у вас будет установлен mongoose, импортируйте его в <code class="inline">app.js</code>.</p><pre class="brush: javascript noskimlinks noskimwords">const mongoose = require("mongoose");</pre><p>Определите URL-адрес базы данных MongoDB в <code class="inline">app.js</code>.</p><pre class="brush: javascript noskimlinks noskimwords">const url = "mongodb://localhost/blogDb";</pre><p>Теперь будет использовать <code class="inline">Mongoose</code> для подключения к базе данных MongoDB. Вот как это выглядит:</p><pre class="brush: javascript noskimlinks noskimwords">app.post("/api/user/login", (req, res) =&gt; {    mongoose.connect(url, function(err){  if(err) throw err;console.log("connected successfully, username is ",req.body.username," password is ",req.body.password);});})</pre><p>Если соединение установлено, выводится сообщение с <code class="inline">username</code> и <code class="inline">password</code>.</p><p>Вот как выглядит файл <code class="inline">app.js</code>:</p><pre class="brush: javascript noskimlinks noskimwords">const express = require("express")const bodyParser = require("body-parser")const app = express()const mongoose = require("mongoose");const url = "mongodb://localhost/blogDb";app.use(bodyParser.json())app.use(bodyParser.urlencoded({ extended : false}))app.post("/api/user/login", (req, res) =&gt; {    mongoose.connect(url, function(err){    if(err) throw err;console.log("connected successfully, username is ",req.body.username," password is ",req.body.password);});})app.listen(3000, () =&gt; console.log("blog server running on port 3000!"))</pre><p>Перезапустите сервер node, используя следующую команду:</p><pre class="brush: bash noskimlinks noskimwords">node app.js</pre><p>Чтобы подключиться к серверу node из приложения Angular, вам нужно установить прокси. Создайте файл с именем <code class="inline">proxy.json</code> внутри папки <code class="inline">client/src</code>. Вот как это выглядит:</p><pre class="brush: javascript noskimlinks noskimwords">{    "/api/*": {"target": "http://localhost:3000","secure": "false"}}</pre><p>Измените файл <code class="inline">client.json</code> клиента, чтобы запустить приложение, используя прокси файл.</p><pre class="brush: bash noskimlinks noskimwords">"start": "ng serve --proxy-config proxy.json"</pre><p>Сохраните изменения и запустите клиентский сервер.</p><pre class="brush: javascript noskimlinks noskimwords">npm start</pre><p>Откройте <span>http://localhost:4200</span> в своем браузере и введите имя пользователя и пароль. Нажмите кнопку входа и вы должны увидеть эти параметры на консоли node.</p><h2>Валидация логина пользователя</h2><p>Чтобы взаимодействовать с MongoDB с использованием Mongoose, вам нужно определить схему и создать модель. Внутри папки <code class="inline">server</code> создайте папку с именем <code class="inline">model</code>.</p><p>Создайте файл <code class="inline">user.js</code> внутри папки <code class="inline">model</code>. Добавьте следующий код в файл <code class="inline">user.js</code>:</p><pre class="brush: javascript noskimlinks noskimwords">const mongoose = require("mongoose");const Schema = mongoose.Schema;// create a schemaconst userSchema = new Schema({  username: { type: String, required: true, unique: true },  password: { type: String, required: true },  name: { type: String }}, { collection : "user" });const User = mongoose.model("User", userSchema);module.exports = User;</pre><p>Как видно из приведенного выше кода, вы импортировали mongoose в <code class="inline">user.js</code>. Вы создали <code class="inline">userSchema</code>, используя mongoose <code class="inline">schema</code>, и создали модель <code class="inline">User</code>, используя модель <code class="inline">mongoose</code>.</p><p>Импортируйте файл <code class="inline">user.js</code> в файле <code class="inline">app.js</code>.</p><pre class="brush: javascript noskimlinks noskimwords">const User = require("./model/user");</pre><p>Прежде чем запрашивать коллекцию <code class="inline">user</code>, вам необходимо создать ее. Перейдите в оболочку MongoDB, набрав <code class="inline">mongo</code>. Создайте коллекцию <code class="inline">user</code>, используя следующую команду:</p><pre class="brush: plain noskimlinks noskimwords">db.createCollection("user")</pre><p>Вставьте запись, с которой вы будете работать.</p><pre class="brush: javascript noskimlinks noskimwords"> db.user.insert({     name: "roy agasthyan",     username: "roy",     password: "123" })</pre><p>Теперь, когда mongoose подключается к MongoDB, вы найдете запись из базы данных с использованием предоставленных <code class="inline">username</code> и <code class="inline">password</code>. Вот как выглядит API:</p><pre class="brush: javascript noskimlinks noskimwords">app.post("/api/user/login", (req, res) =&gt; {    mongoose.connect(url,{ useMongoClient: true }, function(err){if(err) throw err;User.find({username : req.body.username, password : req.body.password}, function(err, user){if(err) throw err;if(user.length === 1){return res.status(200).json({status: "success",data: user})} else {return res.status(200).json({status: "fail",message: "Login Failed"})}})});})</pre><p>Как видно из приведенного выше кода, после получения ответа от базы данных вы возвращаете то же самое на клиентскую сторону.</p><p>Сохраните указанные выше изменения и попробуйте запустить клиент и сервер. Введите имя пользователя как <code class="inline">roy</code> и пароль как <code class="inline">123</code>, и вы сможете просмотреть результат в консоли браузера.</p><h2>Перенаправление на компонент Home</h2><p>После успешной проверки пользователя вам необходимо перенаправить пользователя на компонент <code class="inline">Home</code>. Итак, давайте начнем с создания компонента <code class="inline">Home</code>. </p><p>Создайте папку <code class="inline">Home</code> в папке <code class="inline">src/app</code>. Создайте файл <code class="inline">home.component.html</code> и добавьте следующий HTML-код:</p><pre class="brush: html noskimlinks noskimwords">&lt;header class="header clearfix"&gt;    &lt;nav&gt;        &lt;ul class="nav nav-pills float-right"&gt;            &lt;li class="nav-item"&gt;                &lt;a class="nav-link active" href="#"&gt;Home &lt;span class="sr-only"&gt;(current)&lt;/span&gt;&lt;/a&gt;            &lt;/li&gt;            &lt;li class="nav-item"&gt;                &lt;a class="nav-link" href="#"&gt;Add&lt;/a&gt;            &lt;/li&gt;            &lt;li class="nav-item"&gt;                &lt;a class="nav-link" href="#"&gt;Logout&lt;/a&gt;            &lt;/li&gt;        &lt;/ul&gt;    &lt;/nav&gt;    &lt;h3 class="text-muted"&gt;Angular Blog App&lt;/h3&gt;&lt;/header&gt;&lt;main role="main"&gt;    &lt;div class="jumbotron"&gt;        &lt;h1 class="display-3"&gt;Lorem ipsum&lt;/h1&gt;        &lt;p class="lead"&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;/p&gt;        &lt;p&gt;&lt;a class="btn btn-lg btn-success" href="#" role="button"&gt;Read More ...&lt;/a&gt;&lt;/p&gt;    &lt;/div&gt;    &lt;div class="row marketing"&gt;        &lt;div class="col-lg-6"&gt;            &lt;h4&gt;Subheading&lt;/h4&gt;            &lt;p&gt;Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.&lt;/p&gt;            &lt;h4&gt;Subheading&lt;/h4&gt;            &lt;p&gt;Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.&lt;/p&gt;            &lt;h4&gt;Subheading&lt;/h4&gt;            &lt;p&gt;Maecenas sed diam eget risus varius blandit sit amet non magna.&lt;/p&gt;        &lt;/div&gt;        &lt;div class="col-lg-6"&gt;            &lt;h4&gt;Subheading&lt;/h4&gt;            &lt;p&gt;Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.&lt;/p&gt;            &lt;h4&gt;Subheading&lt;/h4&gt;            &lt;p&gt;Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.&lt;/p&gt;            &lt;h4&gt;Subheading&lt;/h4&gt;            &lt;p&gt;Maecenas sed diam eget risus varius blandit sit amet non magna.&lt;/p&gt;        &lt;/div&gt;    &lt;/div&gt;&lt;/main&gt;&lt;footer class="footer"&gt;    &lt;p&gt;&amp;copy; Company 2017&lt;/p&gt;&lt;/footer&gt;</pre><p>Создайте файл с именем <code class="inline">home.component.css</code> и добавьте следующий стиль CSS:</p><pre class="brush: css noskimlinks noskimwords">.header,.marketing,.footer {  padding-right: 1rem;  padding-left: 1rem;}/* Custom page header */.header {  padding-bottom: 1rem;  border-bottom: .05rem solid #e5e5e5;}.header h3 {  margin-top: 0;  margin-bottom: 0;  line-height: 3rem;}/* Custom page footer */.footer {  padding-top: 1.5rem;  color: #777;  border-top: .05rem solid #e5e5e5;}/* Customize container */@media (min-width: 48em) {  .container {    max-width: 46rem;  }}.container-narrow &gt; hr {  margin: 2rem 0;}/* Main marketing message and sign up button */.jumbotron {  text-align: center;  border-bottom: .05rem solid #e5e5e5;}.jumbotron .btn {  padding: .75rem 1.5rem;  font-size: 1.5rem;}/* Supporting marketing content */.marketing {  margin: 3rem 0;}.marketing p + h4 {  margin-top: 1.5rem;}/* Responsive: Portrait tablets and up */@media screen and (min-width: 48em) {  /* Remove the padding we set earlier */  .header,  .marketing,  .footer {    padding-right: 0;    padding-left: 0;  }  /* Space out the masthead */  .header {    margin-bottom: 2rem;  }  .jumbotron {    border-bottom: 0;  }}</pre><p>Создайте файл компонента <code class="inline">home.component.ts</code> и добавьте следующий код:</p><pre class="brush: javascript noskimlinks noskimwords">import { Component } from "@angular/core";@Component({  selector: "app-home",  templateUrl: "./home.component.html",  styleUrls: ["./home.component.css"]})export class HomeComponent {  }</pre><p>Как видно из приведенного выше кода, вы только что создали <code class="inline">HomeComponent</code> с помощью декоратора <code class="inline">@Component</code> и указали <code class="inline">selector</code>, <code class="inline">templateUrl</code> и <code class="inline">styleUrls</code>. </p><p>Добавьте <code class="inline">HomeComponent</code> в <code class="inline">NgModules</code> в <code class="inline">app.module.ts</code>.</p><pre class="brush: javascript noskimlinks noskimwords">import { BrowserModule } from "@angular/platform-browser";import { NgModule } from "@angular/core";import { ROUTING } from "./app.routing";import { FormsModule } from "@angular/forms";import { HttpClientModule } from "@angular/common/http";import { RootComponent } from "./root/root.component";import { LoginComponent } from "./login/login.component";import { HomeComponent } from "./home/home.component";@NgModule({  declarations: [      RootComponent,    LoginComponent,    HomeComponent  ],  imports: [    BrowserModule,    ROUTING,    FormsModule,    HttpClientModule  ],  providers: [],  bootstrap: [RootComponent]})export class AppModule { }</pre><p>Импортируйте <code class="inline">HomeComponent</code> в <code class="inline">app.routing.ts</code> и определите маршрут для <code class="inline">home</code>.</p><pre class="brush: javascript noskimlinks noskimwords">import { RouterModule, Routes } from "@angular/router";import { ModuleWithProviders } from "@angular/core/src/metadata/ng_module";import { LoginComponent } from "./login/login.component";import { HomeComponent } from "./home/home.component";export const AppRoutes: Routes = [    { path: "", component: LoginComponent },{ path: "home", component: HomeComponent }];export const ROUTING: ModuleWithProviders = RouterModule.forRoot(AppRoutes);</pre><p>В методе <code class="inline">validateLogin</code> в файле <code class="inline">login.component.ts</code> при успешной проверке перенаправьте пользователя на <code class="inline">HomeComponent</code>. Для перенаправления вам сперва необходимо импортировать <code class="inline">Router</code>.</p><pre class="brush: javascript noskimlinks noskimwords">import { Router } from "@angular/router";</pre><p>Если ответ от вызова API будет успешным, вы перейдете к <code class="inline">HomeComponent</code> с помощью Angular <code class="inline">Router</code>.</p><pre class="brush: javascript noskimlinks noskimwords">if(result["status"] === "success") {  this.router.navigate(["/home"]);} else {  alert("Wrong username password");}</pre><p>Вот так выглядит файл <code class="inline">login.component.ts</code>:</p><pre class="brush: javascript noskimlinks noskimwords">import { Component } from "@angular/core";import { LoginService } from "./login.service";import { User } from "../models/user.model";import { Router } from "@angular/router";@Component({  selector: "app-login",  templateUrl: "./login.component.html",  styleUrls: ["./login.component.css"],  providers: [ LoginService ]})export class LoginComponent {  public user : User;  constructor(private loginService: LoginService, private router: Router) {      this.user = new User();  }  validateLogin() {  if(this.user.username &amp;&amp; this.user.password) {  this.loginService.validateLogin(this.user).subscribe(result =&gt; {        console.log("result is ", result);        if(result["status"] === "success") {          this.router.navigate(["/home"]);        } else {          alert("Wrong username password");        }              }, error =&gt; {        console.log("error is ", error);      });  } else {  alert("enter user name and password");  }  }}</pre><p>Сохраните указанные выше изменения и перезапустите сервер. Войдите в приложение, используя существующее имя пользователя и пароль, и вы будете перенаправлены на <code class="inline">HomeComponent</code>.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1469/posts/30129/image/home.png" alt="Создание приложения блога на Angular и MongoDB:  Главная..." title="Создание приложения блога на Angular и MongoDB:  Главная..." width="50" height="50"></figure><h2>Подведем итоги</h2><p>В этом уроке вы видели, как написать REST API ендпоинт для входа пользователя в систему. Вы научились использовать <code class="inline">Mongoose</code> для взаимодействия с MongoDB из Node. После успешной валидации вы видели, как использовать Angular <code class="inline">Router</code> для перехода к <code class="inline">HomeComponent</code>.</p><p>Как прошел этот урок? Сообщите нам свои мысли и предложения в комментариях ниже.</p><p>Исходный код этого учебника доступен на <span>GitHub</span>.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Angular" href="https://norma-studio.github.io/article/220824813-sozdanie-prilozheniya-bloga-na-angular-i-mongodb-glavnaya" class="tm-article-body__tags-item-link">Angular</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
40506</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
405</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
