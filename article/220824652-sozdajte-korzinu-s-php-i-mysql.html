
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Создайте корзину с PHP и MySQL... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Создайте корзину с PHP и MySQL... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Создайте корзину с PHP и MySQL... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Создайте корзину с PHP и MySQL... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В этом еженедельном уроке screencast + мы научимся создавать собственную корзину покупок с PHP и MySQL. Вы увидите, что-всё-не так сложно, как кажется....">
<meta property="og:description" content="В этом еженедельном уроке screencast + мы научимся создавать собственную корзину покупок с PHP и MySQL. Вы увидите, что-всё-не так сложно, как кажется....">
<meta name="twitter:description" content="В этом еженедельном уроке screencast + мы научимся создавать собственную корзину покупок с PHP и MySQL. Вы увидите, что-всё-не так сложно, как кажется....">
<meta property="aiturec:description" content="В этом еженедельном уроке screencast + мы научимся создавать собственную корзину покупок с PHP и MySQL. Вы увидите, что-всё-не так сложно, как кажется....">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_dd55169a43db671d971fc877e02491ee.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_dd55169a43db671d971fc877e02491ee.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_dd55169a43db671d971fc877e02491ee.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_dd55169a43db671d971fc877e02491ee.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_dd55169a43db671d971fc877e02491ee.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql.html" title="Создайте корзину с PHP и MySQL... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Создайте корзину с PHP и MySQL... | envatomarket.ru | norma-studio.github.io" title="Создайте корзину с PHP и MySQL... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/636536435.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql.html" class="tm-user-info__username" title="
С. Торгашев" aria-label="
С. Торгашев">
С. Торгашев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Создайте корзину с PHP и MySQL...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="PHP" href="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql" class="tm-article-snippet__hubs-item-link"><span>PHP</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_dd55169a43db671d971fc877e02491ee.jpg">
    <meta itemprop="headline name" content="Создайте корзину с PHP и MySQL... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В этом еженедельном уроке screencast + мы научимся создавать собственную корзину покупок с PHP и MySQL. Вы увидите, что-всё-не так сложно, как кажется....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В этом еженедельном уроке screencast + мы научимся создавать собственную корзину покупок с PHP и MySQL. Вы увидите, что-всё-не так сложно, как кажется....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>В этом еженедельном уроке screencast + мы научимся создавать собственную корзину покупок с PHP и MySQL. Вы увидите, что всё не так сложно, как кажется.<!--more--></p> <hr><h2>Предварительный просмотр скринкастов</h2> <hr><h2>Шаг 1</h2> <p>Начнём со структуры папок:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_dd55169a43db671d971fc877e02491ee.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><p><strong>Структура</strong></p> <ul><li> <strong>reset.css</strong> - вы можете получить по <span>this</span> ссылке</li> <li> <strong>style.css</strong> - наш css файл для стиля HTML макета</li> <li> <strong>connection.php</strong> - файл для соединения с базой данных</li> <li> <strong>index.php</strong> - шаблон корзины покупок</li> <li> <strong>cart.php</strong> - файл, который меняет продукты в корзине (добавлять, удалять)</li> <li> <strong>products.php</strong> - страница списка продуктов</li> </ul><hr><h2>Шаг 2</h2> <p>Начнем с разметки html, а затем её оформления. Откройте <strong>index.php</strong> и скопируйте/вставьте код: </p> <pre class="originalclass: html; brush: html noskimlinks noskimwords"> &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;  &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; &lt;head&gt;    &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt; &lt;link rel="stylesheet" href="css/reset.css" /&gt; &lt;link rel="stylesheet" href="css/style.css" /&gt;  &lt;title&gt;Shopping cart&lt;/title&gt;  &lt;/head&gt;  &lt;body&gt;  &lt;div id="container"&gt;  &lt;div id="main"&gt;  &lt;/div&gt;&lt;!--end main--&gt;  &lt;div id="sidebar"&gt;  &lt;/div&gt;&lt;!--end sidebar--&gt;  &lt;/div&gt;&lt;!--end container--&gt;  &lt;/body&gt; &lt;/html&gt;</pre> <p>Как вы видите, наша страница имеет две колонки: основной столбец и sidebar. Теперь пройдём в CSS. Откройте файл <strong>style.css</strong> и пропишите код: </p> <pre class="originalclass: css; brush: css noskimlinks noskimwords">  body { font-family: Verdana; font-size: 12px; color: #444; }   #container { width: 700px; margin: 150px auto; background-color: #eee; overflow: hidden; /* Set overflow: hidden to clear the floats on #main and #sidebar */ padding: 15px; }  #main { width: 490px; float: left; }  #sidebar { width: 200px; float: left; }</pre> <p>Вот как теперь выглядит наша страница продуктов: </p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_ac81c8426261cede6c7c57b021303679.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><hr><h2>Полный скринкаст</h2> <hr><h2>Шаг 3</h2> <p>Прежде чем перейти к части PHP/MySQL, нам нужно создать базу данных. Откройте phpMyadmin и выполните следующие действия: </p> <ol><li>Перейдите на вкладку <strong>Privileges</strong>, нажмите кнопку добавления нового пользователя и настройте: <strong>Username</strong>: tutorial; <strong>Host</strong>: localhost; <strong>Password</strong>: supersecretpassword. Теперь убедитесь, что установлены Global privileges; затем переходите к следующему шагу.</li> <li>Создайте новую базу данных под названием <strong>tutorials</strong>.</li> <li>Создайте новую таблицу <strong>products</strong> и установите количество полей 4. Теперь заполните эти поля так: <strong>id_integer</strong> - убедитесь, что он установлен в INT и пометьте его как PRIMARY (также установите его в auto_increment); <strong>name</strong>  - будет VARCHAR длиной 100; <strong>description</strong>  - VARCHAR длиной 250; <strong>price</strong> - значение DECIMAL (2,6)</li> <li>Заполните таблицу несколькими примерами продуктов.</li> </ol><p>Для экономии времени я экспортировал свою таблицу, чтобы вы просто запустили следующий запрос: </p> <pre class="originalclass: sql; brush: sql noskimlinks noskimwords"> CREATE TABLE IF NOT EXISTS `products` (   `id_product` int(11) NOT NULL AUTO_INCREMENT,   `name` varchar(100) NOT NULL,   `description` varchar(250) NOT NULL,   `price` decimal(6,2) NOT NULL,   PRIMARY KEY (`id_product`) ) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=7 ;  INSERT INTO `products` (`id_product`, `name`, `description`, `price`) VALUES (1, "Product 1", "Some random description", "15.00"), (2, "Product 2", "Some random description", "20.00"), (3, "Product 3", "Some random description", "50.00"), (4, "Product 4", "Some random description", "55.00"), (5, "Product 5", "Some random description", "54.00"), (6, "Product 6", "Some random description", "34.00");</pre> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_f417f73724d21a56ee3eb00c0b4c7f63.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_b1ded97ad8e9150261c4907e877a8594.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_afb3a9b08c2576dedb07c23e9f72b7ab.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><hr><h2>Шаг 4</h2> <p>До извлечения данных из базы данных я сделаю <strong>index.php</strong> шаблон для списка продуктов и корзины. Поэтому добавьте следующий код в начало страницы <strong>index.php</strong>: </p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;?php session_start(); require("includes/connection.php"); if(isset($_GET["page"])){  $pages=array("products", "cart");  if(in_array($_GET["page"], $pages)) {  $_page=$_GET["page"];  }else{  $_page="products";  }  }else{  $_page="products";  } ?&gt;</pre> <ol><li> <strong>session_start()</strong> - для дальнейшего использования; это позволит нам использовать сеансы (очень важно, чтобы session_start был написан прежде, чем другие данные будут отправлены в браузер). </li> <li>Во второй строке мы укажем connection.php, который установит соединение с базой данных (мы рассмотрим это в секунду). И ещё одно: разница между include и require заключается в том, что если вы используете require и файл не может быть найден, выполнение скрипта закончится. Если вы используете "include", скрипт продолжит работать.</li> <li>Вместо копирования всего html-кода (ссылка на css, на js) для каждого файла на вашем сайте, можете просто сделать их все относительно одного файла. Сначала я проверяю, есть ли переменная GET, называемая "page set". Если нет, я создаю новую переменную <strong>_pages</strong>. Указывая сначала переменную GET, называемую pages, я хочу убедиться, что файл, который я собираюсь включить, является допустимой страницей.</li> </ol><p>Для этого нам нужно включить файл; добавьте эту строку в index.php между div с id "main":</p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;?php require($_page.".php"); ?&gt;</pre> <p>Теперь у нас полный <strong>index.php</strong>: </p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;?php session_start(); require("includes/connection.php"); if(isset($_GET["page"])){  $pages=array("products", "cart");  if(in_array($_GET["page"], $pages)) {  $_page=$_GET["page"];  }else{  $_page="products";  }  }else{  $_page="products";  }  ?&gt; &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; &lt;head&gt;  &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt; &lt;link rel="stylesheet" href="css/reset.css" /&gt; &lt;link rel="stylesheet" href="css/style.css" /&gt;   &lt;title&gt;Shopping Cart&lt;/title&gt;   &lt;/head&gt;  &lt;body&gt;  &lt;div id="container"&gt;  &lt;div id="main"&gt;  &lt;?php require($_page.".php"); ?&gt;  &lt;/div&gt;&lt;!--end of main--&gt;  &lt;div id="sidebar"&gt;  &lt;/div&gt;&lt;!--end of sidebar--&gt;  &lt;/div&gt;&lt;!--end container--&gt;  &lt;/body&gt; &lt;/html&gt;</pre> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=398/legacy-premium-tutorials/posts/9747/images/9747_9505cd8405e81f88f58e42c52c1106de.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><p>Давайте создадим соединение с MySQL. Откройте <strong>connections.php</strong> и пропишите следующее: </p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;?php  $server="localhost"; $user="tutorial"; $pass="supersecretpassword"; $db="tutorials";  // connect to mysql  mysql_connect($server, $user, $pass) or die("Sorry, can"t connect to the mysql.");  // select the db  mysql_select_db($db) or die("Sorry, can"t select the database.");  ?&gt;</pre> <hr><h2>Шаг 5</h2> <p>Пропишем разметку для страницы продуктов. Откройте её и введите следующее: </p> <pre class="originalclass: html; brush: html noskimlinks noskimwords"> &lt;h1&gt;Product List&lt;/h1&gt; &lt;table&gt;     &lt;tr&gt;         &lt;th&gt;Name&lt;/th&gt;         &lt;th&gt;Description&lt;/th&gt;         &lt;th&gt;Price&lt;/th&gt;         &lt;th&gt;Action&lt;/th&gt;     &lt;/tr&gt;     &lt;tr&gt;         &lt;td&gt;Product 1&lt;/td&gt;         &lt;td&gt;Some random description&lt;/td&gt;         &lt;td&gt;15 $&lt;/th&gt;         &lt;td&gt;&lt;a href="#"&gt;Add to cart&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;         &lt;td&gt;Product 2&lt;/td&gt;         &lt;td&gt;Some random description&lt;/td&gt;         &lt;td&gt;25 $&lt;/th&gt;         &lt;td&gt;&lt;a href="#"&gt;Add to cart&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt; &lt;/table&gt;</pre> <p>Давайте посмотрим на страницу: </p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_57ce641e946f9b74c1ef2e5791ebbc4e.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><p>Как видите, это довольно уродливо. Давайте добавим этот CSS.</p> <pre class="originalclass: css; brush: css noskimlinks noskimwords"> a {color: #48577D; text-decoration: none;}  a:hover {text-decoration: underline;}  h1, h2 {margin-bottom: 15px}  h1 {font-size: 18px;} h2 {font-size: 16px} #main table { width: 480px; }  #main table th { padding: 10px; background-color: #48577D; color: #fff; text-align: left; }  #main table td { padding: 5px; } #main table tr { background-color: #d3dcf2; }</pre> <p>Okay: другое дело: </p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=749/legacy-premium-tutorials/posts/9747/images/9747_23e727856185c1e3c89098c01102031b.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><p>Выглядит намного лучше, не так ли? Внизу указан полный код <strong>style.css</strong>: </p><pre class="originalclass: css; brush: css noskimlinks noskimwords"> body { font-family: Verdana; font-size: 12px; color: #444; }  a {color: #48577D; text-decoration: none;}  a:hover {text-decoration: underline;}  h1, h2 {margin-bottom: 15px}  h1 {font-size: 18px;} h2 {font-size: 16px}  #container { width: 700px; margin: 150px auto; background-color: #eee; padding:15px; overflow: hidden; }  #main { width: 490px; float: left; }  #main table { width: 480px; }  #main table th { padding: 10px; background-color: #48577D; color: #fff; text-align: left; }  #main table td { padding: 5px; }  #main table tr { background-color: #d3dcf2; }  #sidebar { width: 200px; float: left; }</pre> <hr><h2>Шаг 6</h2> <p>Прежде чем извлечь продукт из базы данных, давайте удалим последние две строки из нашей таблицы (были нужны только для того, чтобы увидеть, как она будет выглядеть). Удалить это: </p> <pre class="originalclass: html; brush: html noskimlinks noskimwords">     &lt;tr&gt;         &lt;td&gt;Product 1&lt;/td&gt;         &lt;td&gt;Some random description&lt;/td&gt;         &lt;td&gt;15 $&lt;/th&gt;         &lt;td&gt;&lt;a href="#"&gt;Add to cart&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;         &lt;td&gt;Product 2&lt;/td&gt;         &lt;td&gt;Some random description&lt;/td&gt;         &lt;td&gt;25 $&lt;/th&gt;         &lt;td&gt;&lt;a href="#"&gt;Add to cart&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;</pre> <p>Отлично! Теперь в том месте, где были строки таблицы, введите следующий код PHP: </p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;?php  $sql="SELECT * FROM products ORDER BY name ASC"; $query=mysql_query($sql);  while ($row=mysql_fetch_array($query)) {  ?&gt; &lt;tr&gt;     &lt;td&gt;&lt;?php echo $row["name"] ?&gt;&lt;/td&gt;     &lt;td&gt;&lt;?php echo $row["description"] ?&gt;&lt;/td&gt;     &lt;td&gt;&lt;?php echo $row["price"] ?&gt;$&lt;/td&gt;     &lt;td&gt;&lt;a href="index.php?page=products&amp;action=add&amp;id=&lt;?php echo $row["id_product"] ?&gt;"&gt;Add to cart&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;?php  }  ?&gt;</pre> <ol><li>Итак, сначала мы используем SELECT для извлечения продуктов, затем перебираем каждую строку из базы данных и переводим её на страницу в строке таблицы.</li> <li>Вы видите, что anchor ссылается на ту же страницу (когда пользователь выбирает продукт, добавляя в корзину/сеанс). Мы передаём некоторые дополнительные переменные, такие как id продукта.</li> </ol><p>Если вы укажете одну из ссылок для добавления в корзину, увидите в нижней части страницы, что id передан.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/9747/images/9747_23677e15f62b6d499d9439b396109572.jpg" class="lazy07" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><hr><h2>Шаг 7</h2> <p>Давайте сделаем anchor работу, добавив следующий код в начало нашей страницы: </p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;?php  if(isset($_GET["action"]) &amp;&amp; $_GET["action"]=="add"){  $id=intval($_GET["id"]);  if(isset($_SESSION["cart"][$id])){  $_SESSION["cart"][$id]["quantity"]++;  }else{  $sql_s="SELECT * FROM products WHERE id_product={$id}"; $query_s=mysql_query($sql_s); if(mysql_num_rows($query_s)!=0){ $row_s=mysql_fetch_array($query_s);  $_SESSION["cart"][$row_s["id_product"]]=array( "quantity" =&gt; 1, "price" =&gt; $row_s["price"] );   }else{  $message="This product id it"s invalid!";  }  }  }  ?&gt;</pre> <ol><li>Если переменная GET, называемая action, установлена и её значение равно ADD, мы выполняем код.</li> <li>Мы удостоверяемся, что id, прошедший через переменную GET, является целым числом</li> <li>Если id продукта находится в корзине SESSION, мы просто увеличиваем его количество на 1</li> <li>Если id не находится в сеансе, нам нужно убедиться, что id, прошедший через переменную GET, существует в базе данных. Если да, мы берем цену и создаём сессию. Если это не так, мы устанавливаем переменную с именем message, которая будет содержать нашу ошибку.</li> </ol><p>Проверим, установлена ли эта переменная сообщения и вызовите её на страницу (введите этот код под заголовком страницы H1): </p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;?php if(isset($message)){ echo "&lt;h2&gt;$message&lt;/h2&gt;"; } ?&gt;</pre> <p>Вот полная страница <strong>products.php.</strong></p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;?php  if(isset($_GET["action"]) &amp;&amp; $_GET["action"]=="add"){  $id=intval($_GET["id"]);  if(isset($_SESSION["cart"][$id])){  $_SESSION["cart"][$id]["quantity"]++;  }else{  $sql_s="SELECT * FROM products WHERE id_product={$id}"; $query_s=mysql_query($sql_s); if(mysql_num_rows($query_s)!=0){ $row_s=mysql_fetch_array($query_s);  $_SESSION["cart"][$row_s["id_product"]]=array( "quantity" =&gt; 1, "price" =&gt; $row_s["price"] );   }else{  $message="This product id it"s invalid!";  }  }  }  ?&gt; &lt;h1&gt;Product List&lt;/h1&gt; &lt;?php if(isset($message)){ echo "&lt;h2&gt;$message&lt;/h2&gt;"; } ?&gt; &lt;table&gt; &lt;tr&gt; &lt;th&gt;Name&lt;/th&gt; &lt;th&gt;Description&lt;/th&gt; &lt;th&gt;Price&lt;/th&gt; &lt;th&gt;Action&lt;/th&gt; &lt;/tr&gt;  &lt;?php  $sql="SELECT * FROM products ORDER BY name ASC"; $query=mysql_query($sql);  while ($row=mysql_fetch_array($query)) {  ?&gt; &lt;tr&gt;     &lt;td&gt;&lt;?php echo $row["name"] ?&gt;&lt;/td&gt;     &lt;td&gt;&lt;?php echo $row["description"] ?&gt;&lt;/td&gt;     &lt;td&gt;&lt;?php echo $row["price"] ?&gt;$&lt;/td&gt;     &lt;td&gt;&lt;a href="index.php?page=products&amp;action=add&amp;id=&lt;?php echo $row["id_product"] ?&gt;"&gt;Add to cart&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;?php  }  ?&gt;  &lt;/table&gt;</pre> <p> Вот сообщение об ошибке, если id недействителен </p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=509/legacy-premium-tutorials/posts/9747/images/9747_ca219587bbc03307b5cfc1d035efdbe9.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><hr><h2>Шаг 8</h2> <p>Вернёмся к <strong>index.php </strong>и пропишем sidebar. Добавьте следующий код: </p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;h1&gt;Cart&lt;/h1&gt; &lt;?php  if(isset($_SESSION["cart"])){  $sql="SELECT * FROM products WHERE id_product IN (";  foreach($_SESSION["cart"] as $id =&gt; $value) { $sql.=$id.","; }  $sql=substr($sql, 0, -1).") ORDER BY name ASC"; $query=mysql_query($sql); while($row=mysql_fetch_array($query)){  ?&gt; &lt;p&gt;&lt;?php echo $row["name"] ?&gt; x &lt;?php echo $_SESSION["cart"][$row["id_product"]]["quantity"] ?&gt;&lt;/p&gt; &lt;?php  } ?&gt; &lt;hr /&gt; &lt;a href="index.php?page=cart"&gt;Go to cart&lt;/a&gt; &lt;?php  }else{  echo "&lt;p&gt;Your Cart is empty. Please add some products.&lt;/p&gt;";  }  ?&gt;</pre> <ol><li>Сначала проверим, установлен ли сеанс корзины. Если нет, мы выводим сообщение, предупреждая пользователя о том, что корзина пуста.</li> <li>Затем создаём mysql SELECT, но мы выбираем только те продукты, которые присутствуют в этом сеансе. Для этого используем функцию foreach. Итак, мы проходим цикл и добавляем идентификатор продукта в SELECT. Затем мы используем функцию substr для удаления последней запятой из SELECT.</li> <li>В конце выводим данные в браузер.</li> </ol><p> Посмотрите на картинку снизу: </p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=509/legacy-premium-tutorials/posts/9747/images/9747_f8e3412d77f407d8b46f79426b98f807.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_0f97e2f65034ffdfa3361b03d2c3a50a.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><p>Поскольку index.php является шаблоном для всех файлов, sidebar также будет виден в <strong>cart.php</strong>. Разве это не круто ?! </p> <hr><h2>Шаг 9</h2> <p>Наконец, откройте <strong>cart.php</strong> и введите код: </p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;h1&gt;View cart&lt;/h1&gt; &lt;a href="index.php?page=products"&gt;Go back to products page&lt;/a&gt; &lt;form method="post" action="index.php?page=cart"&gt;      &lt;table&gt;      &lt;tr&gt;     &lt;th&gt;Name&lt;/th&gt;     &lt;th&gt;Quantity&lt;/th&gt;     &lt;th&gt;Price&lt;/th&gt;     &lt;th&gt;Items Price&lt;/th&gt; &lt;/tr&gt;  &lt;?php  $sql="SELECT * FROM products WHERE id_product IN (";  foreach($_SESSION["cart"] as $id =&gt; $value) { $sql.=$id.","; }  $sql=substr($sql, 0, -1).") ORDER BY name ASC"; $query=mysql_query($sql); $totalprice=0; while($row=mysql_fetch_array($query)){ $subtotal=$_SESSION["cart"][$row["id_product"]]["quantity"]*$row["price"]; $totalprice+=$subtotal; ?&gt; &lt;tr&gt;     &lt;td&gt;&lt;?php echo $row["name"] ?&gt;&lt;/td&gt;     &lt;td&gt;&lt;input type="text" name="quantity[&lt;?php echo $row["id_product"] ?&gt;]" size="5" value="&lt;?php echo $_SESSION["cart"][$row["id_product"]]["quantity"] ?&gt;" /&gt;&lt;/td&gt;     &lt;td&gt;&lt;?php echo $row["price"] ?&gt;$&lt;/td&gt;     &lt;td&gt;&lt;?php echo $_SESSION["cart"][$row["id_product"]]["quantity"]*$row["price"] ?&gt;$&lt;/td&gt; &lt;/tr&gt; &lt;?php  } ?&gt; &lt;tr&gt;     &lt;td colspan="4"&gt;Total Price: &lt;?php echo $totalprice ?&gt;&lt;/td&gt; &lt;/tr&gt;  &lt;/table&gt; &lt;br /&gt; &lt;button type="submit" name="submit"&gt;Update Cart&lt;/button&gt; &lt;/form&gt; &lt;br /&gt; &lt;p&gt;To remove an item, set it"s quantity to 0. &lt;/p&gt;</pre> <p>Он похож на код из index.php и products.php, поэтому я не буду объяснять всё снова. Вы заметили, что количество теперь отображается не в форме, а в поле ввода (чтобы мы могли изменять количество). Кроме того, таблица заключена в form tag. Чтобы получить общую стоимость элементов, мы умножаем количество конкретного продукта (из сеанса) id на его цену. Это повторяется в каждом цикле.</p> <p><strong>ПРИМЕЧАНИЕ:</strong> input  - это массив, key - это id продукта, а quantity  - значение количества.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_64b26f8c4d50f90663e8934c98782247.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><hr><h2>Шаг 10</h2> <p>Наконец, нам нужно заставить форму работать. Поэтому добавьте этот код в начало страницы cart.php.</p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> if(isset($_POST["submit"])){  foreach($_POST["quantity"] as $key =&gt; $val) { if($val==0) { unset($_SESSION["cart"][$key]); }else{ $_SESSION["cart"][$key]["quantity"]=$val; } }  }</pre> <ol><li>Сначала проверяем, была ли предоставлена форма. Если была и значение ввода было равно нулю, мы отменяем этот сеанс.</li> <li>Если было любое другое значение, вместо него мы указываем количество.</li> </ol><p>Вот заполненный <strong>cart.php</strong></p> <pre class="originalclass: php; brush: php noskimlinks noskimwords"> &lt;?php  if(isset($_POST["submit"])){  foreach($_POST["quantity"] as $key =&gt; $val) { if($val==0) { unset($_SESSION["cart"][$key]); }else{ $_SESSION["cart"][$key]["quantity"]=$val; } }  }  ?&gt;  &lt;h1&gt;View cart&lt;/h1&gt; &lt;a href="index.php?page=products"&gt;Go back to the products page.&lt;/a&gt; &lt;form method="post" action="index.php?page=cart"&gt;      &lt;table&gt;      &lt;tr&gt;     &lt;th&gt;Name&lt;/th&gt;     &lt;th&gt;Quantity&lt;/th&gt;     &lt;th&gt;Price&lt;/th&gt;     &lt;th&gt;Items Price&lt;/th&gt; &lt;/tr&gt;  &lt;?php  $sql="SELECT * FROM products WHERE id_product IN (";  foreach($_SESSION["cart"] as $id =&gt; $value) { $sql.=$id.","; }  $sql=substr($sql, 0, -1).") ORDER BY name ASC"; $query=mysql_query($sql); $totalprice=0; while($row=mysql_fetch_array($query)){ $subtotal=$_SESSION["cart"][$row["id_product"]]["quantity"]*$row["price"]; $totalprice+=$subtotal; ?&gt; &lt;tr&gt;     &lt;td&gt;&lt;?php echo $row["name"] ?&gt;&lt;/td&gt;     &lt;td&gt;&lt;input type="text" name="quantity[&lt;?php echo $row["id_product"] ?&gt;]" size="5" value="&lt;?php echo $_SESSION["cart"][$row["id_product"]]["quantity"] ?&gt;" /&gt;&lt;/td&gt;     &lt;td&gt;&lt;?php echo $row["price"] ?&gt;$&lt;/td&gt;     &lt;td&gt;&lt;?php echo $_SESSION["cart"][$row["id_product"]]["quantity"]*$row["price"] ?&gt;$&lt;/td&gt; &lt;/tr&gt; &lt;?php  } ?&gt; &lt;tr&gt;     &lt;td colspan="4"&gt;Total Price: &lt;?php echo $totalprice ?&gt;&lt;/td&gt; &lt;/tr&gt;  &lt;/table&gt; &lt;br /&gt; &lt;button type="submit" name="submit"&gt;Update Cart&lt;/button&gt; &lt;/form&gt; &lt;br /&gt; &lt;p&gt;To remove an item set its quantity to 0. &lt;/p&gt;</pre> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=560/legacy-premium-tutorials/posts/9747/images/9747_95b72d831203814647b6ccae7df50b2e.jpg" alt="Создайте корзину с PHP и MySQL..." title="Создайте корзину с PHP и MySQL..." width="50" height="50"><br></figure><p>Надеюсь, урок вам понравился. Если появятся вопросы, посмотрите более подробный видеоурок!</p> 

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="PHP" href="https://norma-studio.github.io/article/220824652-sozdajte-korzinu-s-php-i-mysql" class="tm-article-body__tags-item-link">PHP</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
39325</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
450</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
