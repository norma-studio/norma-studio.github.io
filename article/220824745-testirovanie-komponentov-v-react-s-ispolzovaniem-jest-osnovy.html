
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Тестирование компонентов в React с использованием Jest: основы... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Тестирование компонентов в React с использованием Jest: основы... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Тестирование компонентов в React с использованием Jest: основы... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Тестирование компонентов в React с использованием Jest: основы... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Тестирование кода - сложная практика для многих разработчиков. Это понятно, потому что написание тестов требует больше усилий, времени и способности предвидеть возможные варианты использования. Стартапы и разработчики, работающие над небольшими проектами, обычно предпочитают вообще игнорировать тесты из-за нехватки ресурсов и рабочей силы. ...">
<meta property="og:description" content="Тестирование кода - сложная практика для многих разработчиков. Это понятно, потому что написание тестов требует больше усилий, времени и способности предвидеть возможные варианты использования. Стартапы и разработчики, работающие над небольшими проектами, обычно предпочитают вообще игнорировать тесты из-за нехватки ресурсов и рабочей силы. ...">
<meta name="twitter:description" content="Тестирование кода - сложная практика для многих разработчиков. Это понятно, потому что написание тестов требует больше усилий, времени и способности предвидеть возможные варианты использования. Стартапы и разработчики, работающие над небольшими проектами, обычно предпочитают вообще игнорировать тесты из-за нехватки ресурсов и рабочей силы. ...">
<meta property="aiturec:description" content="Тестирование кода - сложная практика для многих разработчиков. Это понятно, потому что написание тестов требует больше усилий, времени и способности предвидеть возможные варианты использования. Стартапы и разработчики, работающие над небольшими проектами, обычно предпочитают вообще игнорировать тесты из-за нехватки ресурсов и рабочей силы. ...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/28934/final_image/Testing-Components-in-React-ProductListingDemo.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/28934/final_image/Testing-Components-in-React-ProductListingDemo.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/28934/final_image/Testing-Components-in-React-ProductListingDemo.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/28934/final_image/Testing-Components-in-React-ProductListingDemo.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/28934/final_image/Testing-Components-in-React-ProductListingDemo.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy.html" title="Тестирование компонентов в React с использованием Jest: основы... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Тестирование компонентов в React с использованием Jest: основы... | envatomarket.ru | norma-studio.github.io" title="Тестирование компонентов в React с использованием Jest: основы... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/542343243.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy.html" class="tm-user-info__username" title="
А. Анискин" aria-label="
А. Анискин">
А. Анискин</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Тестирование компонентов в React с использованием Jest: основы...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="React" href="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy" class="tm-article-snippet__hubs-item-link"><span>React</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/28934/final_image/Testing-Components-in-React-ProductListingDemo.png">
    <meta itemprop="headline name" content="Тестирование компонентов в React с использованием Jest: основы... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Тестирование кода - сложная практика для многих разработчиков. Это понятно, потому что написание тестов требует больше усилий, времени и способности предвидеть возможные варианты использования. Стартапы и разработчики, работающие над небольшими проектами, обычно предпочитают вообще игнорировать тесты из-за нехватки ресурсов и рабочей силы. ...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Тестирование кода - сложная практика для многих разработчиков. Это понятно, потому что написание тестов требует больше усилий, времени и способности предвидеть возможные варианты использования. Стартапы и разработчики, работающие над небольшими проектами, обычно предпочитают вообще игнорировать тесты из-за нехватки ресурсов и рабочей силы. ...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Тестирование кода - сложная практика для многих разработчиков. Это понятно, потому что написание тестов требует больше усилий, времени и способности предвидеть возможные варианты использования. Стартапы и разработчики, работающие над небольшими проектами, обычно предпочитают вообще игнорировать тесты из-за нехватки ресурсов и рабочей силы. </p><p>Однако есть несколько причин, по которым я считаю, что вы должны протестировать свои компоненты:</p><ol><li>Это заставляет вас чувствовать себя более уверенно в вашем коде.</li> <li>Тесты повышают вашу производительность.</li> </ol><p>React также в этом не отличается. Когда все ваше приложение начинает превращаться в кучу компонентов, которые сложно поддерживать, тестирование обеспечивает стабильность и согласованность. Написание тестов с первого дня поможет вам написать лучший код, легко находить ошибки и поддерживать лучший рабочий процесс разработки. </p><p>В этой статье я расскажу вам обо всем, что вам нужно знать, чтобы написать тесты для ваших компонентов React. Я также расскажу о некоторых из лучших практик и техник. Давайте начнем!</p><h2>Тестирование компонентов в React</h2><p>Тестирование - это <em>процесс проверки</em> того, что наши тестовые утверждения верны и что они остаются верными на протяжении всего жизненного цикла приложения. Тестовое утверждение - это логическое выражение, которое возвращает true, если в вашем коде нет ошибки. <br></p><p>Например, утверждение может быть чем-то простым: «Когда пользователь переходит к / login, должен быть представлен модал с идентификатором #login». Итак, если окажется, что вы как-то испортили компонент входа в систему, утверждение вернет false. Утверждения не ограничиваются только тем, что визуализируется, вы также можете утверждать, как приложение реагирует на взаимодействия с пользователем и другие действия. </p><p>Существует много стратегий автоматического тестирования, которые разработчики приложений используют для тестирования своего кода. Мы ограничимся только тремя парадигмами тестирования программного обеспечения, популярными в React: модульное тестирование, функциональное тестирование и интеграционное тестирование.</p><h3>Модульное тестирование</h3><p>Модульное тестирование - один из ветеранов тестирования, который все еще популярен в кругах тестирования. Как следует из названия, вы будете тестировать отдельные части кода, чтобы убедиться, что они функционируют так как и ожидалось. Из-за компонентной архитектуры React юнит-тесты вполне нам подходят. Они также быстрее выполняются, потому что вам не нужно полагаться на браузер.</p><p>Модульные тесты помогают вам думать о каждом компоненте изолированно и рассматривать их как функции. Ваши модульные тесты для определенного компонента должны отвечать на следующие вопросы:</p><ol><li>Есть ли props? Если да, то что с ними делать?</li> <li>Какие компоненты он отображает? </li> <li>Должно ли оно иметь состояние? Когда или как он должен обновлять состояние?</li> <li>Есть ли процедура, которой он должен следовать при монтировании и размонтировании или при взаимодействии с пользователем?</li> </ol><h3>Функциональное тестирование</h3><p>Функциональные тесты используются для проверки поведения части вашего приложения. Функциональные тесты обычно пишутся с точки зрения пользователя. Часть функциональности обычно не ограничивается одним компонентом. Это может быть полноценная форма или целая страница. </p><p>Например, когда вы создаете форму регистрации, она может включать компоненты для элементов формы, оповещения и ошибки, если таковые имеются. Компонент, который отображается после отправки формы, также является частью этой функциональности. Для этого не требуется браузерный рендер, потому что мы будем использовать виртуальную DOM в памяти для наших тестов.<br></p><h3>Интеграционное тестирование</h3><p>Интеграционное тестирование - это стратегия тестирования, при которой все отдельные компоненты тестируются как группа. Интегрированное тестирование пытается воспроизвести взаимодействие с пользователем, запустив тесты в реальном браузере. Это значительно медленнее, чем функциональное тестирование и модульные тесты, потому что каждый набор тестов выполняется в реальном браузере. </p><p>В React модульные и функциональные тесты более популярны, чем интеграционные тесты, потому что их легче писать и поддерживать. Это то, что мы рассмотрим в этом уроке.</p><h2>Знай свои инструменты </h2><p>Вам нужны определенные инструменты и зависимости, чтобы начать модульное и функциональное тестирование вашего приложения React. Я перечислил их ниже.</p><h3>Фреймворк тестирования Jest</h3><p>Jest - это фреймворк тестирования, который  не требует н никакой конфигурации и поэтому прост в настройке. Он более популярен, чем другие тестовые фреймворки, такие как Jasmine и Mocha, потому что он разработан Facebook. Jest также быстрее, чем остальные, потому что он использует умную технику для распараллеливания тестовых прогонов между воркерами. Кроме того, каждый тест выполняется в среде «песочницы», чтобы избежать конфликтов между двумя последовательными тестами. </p><p>Если вы используете create-react-app, оно поставляется с Jest. Если нет, вам, возможно, придется установить Jest и несколько других зависимостей. Вы можете прочитать больше об этом на <span>официальной странице документации Jest</span>. </p><h3>react-test-renderer</h3><p>Даже если вы используете create-react-app, вам нужно будет установить этот пакет для рендеринга снимков. Тестирование снимков является частью библиотеки Jest. Таким образом, вместо визуализации пользовательского интерфейса всего приложения вы можете использовать средство визуализации тестов для быстрой генерации сериализуемого вывода HTML из виртуального DOM. Вы можете установить его следующим образом:</p><pre class="brush: bash noskimlinks noskimwords">yarn add react-test-renderer</pre><h3>ReactTestUtils и Enzyme</h3><p><strong>response-dom/test-utils</strong> состоит из некоторых утилит тестирования, предоставленных командой React. Кроме того, вы можете использовать пакет <span>Enzyme</span>, выпущенный Airbnb. Enzyme намного лучше, чем ReactTestUtils, потому что он прост в утверждениях, манипулировании и прохождении вывода ваших компонентов React. Мы начнем наши тесты с утилит React, а затем перейдем к Enzyme.</p><p>Чтобы установить Enzyme, выполните следующую команду.</p><pre class="brush: bash noskimlinks noskimwords">yarn add enzyme enzyme-adapter-react-16</pre><p>Добавьте код в <strong>src/SetupTests.js</strong>.</p><pre class="brush: javascript noskimlinks noskimwords">import { configure } from "enzyme";import Adapter from "enzyme-adapter-react-16";configure({ adapter: new Adapter() });</pre><p>Более подробную информацию об этом можно найти в разделе «<span>Компоненты тестирования</span>» на странице create-react-app. </p><h3>Настройка демонстрационного приложения и организация тестов<br></h3><p>Мы будем писать тесты для простого демонстрационного приложения, которое отображает основной/подробный вид списка продуктов. Вы можете найти демонстрационное приложение в нашем <span>репозитории GitHub</span>. Приложение состоит из компонента контейнера, известного как <code class="inline">ProductContainer</code>, и трех презентационных компонентов: <code class="inline">ProductList</code>, <code class="inline">ProductDetails</code> и <code class="inline">ProductHeader</code>. </p><h4>Структура каталогов</h4><pre class="brush: plain noskimlinks noskimwords">.├── package-lock.json├── package.json├── public│   ├── index.html│   └── manifest.json├── src│   ├── components│   │   ├── App.js│   │   ├── ProductContainer.js│   │   ├── ProductDetails.jsx│   │   ├── ProductHeader.js│   │   ├── ProductList.jsx│   ├── index.js│   └── style.css</pre><p>Эта демонстрация является хорошим кандидатом для модульного тестирования и функционального тестирования. Вы можете протестировать каждый компонент изолированно и/или протестировать функциональность списка товаров в целом. <br></p><p>Как только вы загрузите демо, создайте каталог с именем <strong>__tests__</strong> внутри <strong>/src/components</strong>. Затем вы можете сохранить все тестовые файлы, связанные с этой функцией, в каталоге <strong>__tests__</strong>. Тестеры обычно называют свои тестовые файлы как <strong>.spec.js</strong> или <strong>.test.js</strong>, например, <strong>ProductHeader.test.js</strong> или <strong>ProductHeader.spec.js</strong>. </p><h2>Написание базовых тестов в React</h2><p>Создайте файл <strong>ProductHeader.test.js</strong>, если вы этого еще не сделали. Вот как в основном будут выглядеть наши тесты:</p><h4>src/components/__tests__/ProductList.test.js</h4><pre class="brush: javascript noskimlinks noskimwords">describe("ProductHeader", () =&gt; {  it("passing test", () =&gt; {    expect(true).toBeTruthy();  })  it("failing test", () =&gt; {    expect(false).toBeTruthy();  })})</pre><p>Набор тестов начинается с блока <code class="inline">describe</code>, который представляет собой глобальную функцию Jest, которая принимает два параметра. Первый параметр - это название набора тестов, а второй параметр - это фактическая реализация. Каждый <code class="inline">it()</code> в наборе тестов соответствует тесту или спецификации. Тест содержит одно или несколько ожиданий, которые проверяют состояние кода. </p><pre class="brush: javascript noskimlinks noskimwords">expects(true).toBeTruthy();</pre><p>В Jest ожидание - это утверждение, которое либо возвращает true, либо false. Когда все утверждения в спецификации верны, говорят, что они прошли. В противном случае тест считается неудачным.<br></p><p>Например, мы создали две тестовые спецификации. Первый должен, очевидно, пройти, а второй потерпеть неудачу. </p><p>Примечание: <code class="inline">toBeTruthy()</code> является предопределенным сопоставителем. В Jest каждый сопоставитель делает сравнение между ожидаемым значением и фактическим значением и возвращает логическое значение. Доступно еще много совпадений, и мы рассмотрим их чуть позже.</p><h2>Запуск набора тестов</h2><p>create-react-app настроил все, что вам нужно для выполнения набора тестов. Все, что вам нужно сделать, это запустить следующую команду:</p><pre class="brush: bash noskimlinks noskimwords">yarn test</pre><p>Вы должны увидеть что-то вроде этого:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/28934/image/Testing-Components-in-React-FailingSpec.png" alt="Тестирование компонентов в React с использованием Jest: основы..." title="Тестирование компонентов в React с использованием Jest: основы..." width="50" height="50"></figure><p>Чтобы пройти неудачный тест, вы должны заменить сопоставление <code class="inline">toBeTruthy()</code> на <code class="inline">toBeFalsy()</code>.</p><pre class="brush: javascript noskimlinks noskimwords">expects(false).toBeFalsy();</pre><p>Это оно!</p><h2>Использование Matchers в Jest</h2><p>Как упоминалось ранее, Jest использует сопоставители для сравнения значений. Вы можете использовать его для проверки равенства, сравнения двух чисел или строк и проверки правильности выражений. Вот список популярных матчей в Jest. </p><ul><li><code class="inline">toBe();</code></li> <li><code class="inline">toBeNull()</code></li> <li><code class="inline">toBeDefined()</code></li> <li><code class="inline">toBeUndefined()</code></li> <li><code class="inline">toBeTruthy ()</code></li> <li><code class="inline">toBeFalsy()</code></li> <li> toBeGreaterThan()<br></li> <li><code class="inline">toBeLesserThan()</code></li> <li><code class="inline">toMatch()</code></li> <li><code class="inline">toContain()</code></li> </ul><p>Это все на вкус и цвет. Вы можете найти все доступные совпадения в <span>справочных документах</span>.<br></p><h2>Тестирование компонента React</h2><p>Сначала мы напишем пару тестов для компонента <code class="inline">ProductHeader</code>. Откройте файл <strong>ProductHeader.js</strong>, если вы этого еще не сделали. </p><h4>src/components/ProductHeader.js</h4><pre class="brush: javascript noskimlinks noskimwords">import React, {Component} from "react";   class ProductHeader extends Component  {    render() {        return(            &lt;h2 className="title"&gt; Product Listing Page &lt;/h2&gt;        );    }};export default ProductHeader;</pre><p>Вам интересно узнать, почему я использовал здесь компонент класса вместо функционального компонента? Причина в том, что с ReactTestUtils сложнее тестировать функциональные компоненты. Если вам интересно узнать почему, у этого обсуждения <span>Stack Overflow есть ответ</span>.</p><p>Мы могли бы написать тест со следующими допущениями:</p><ol><li>Компонент должен отображать тег <code class="inline">h2</code>.</li> <li>Тег <code class="inline">h2</code> должен иметь класс с именем <code class="inline">title</code>.</li> </ol><p>Для рендеринга компонента и извлечения соответствующих узлов DOM нам нужен ReactTestUtils. Удалите фиктивные спецификации и добавьте следующий код:</p><h4>src/components/__tests__/ProductHeader.test.js</h4><pre class="brush: javascript noskimlinks noskimwords">import React from "react";import ReactTestUtils from "react-dom/test-utils"; import ProductsList from "../ProductsList";describe("ProductHeader Component", () =&gt; {    it("has an h2 tag", () =&gt; {     //Test here    });      it("is wrapped inside a title class", () =&gt; {     //Test here    })  })</pre><p>Чтобы проверить существование узла <code class="inline">h2</code>, нам сначала нужно будет отобразить наши элементы React в узле DOM в документе. Вы можете сделать это с помощью некоторых API, экспортированных <code class="inline">ReactTestUtils</code>. Например, чтобы отобразить наш компонент <code class="inline">&lt;ProductHeader/&gt;</code>, вы можете сделать что-то вроде этого:</p><pre class="brush: javascript noskimlinks noskimwords"> const component = ReactTestUtils.renderIntoDocument(&lt;ProductHeader/&gt;);    </pre><p>Затем вы можете извлечь тег <code class="inline">h2</code> из компонента с помощью <code class="inline">findRenderedDOMComponentWithTag("tag-name")</code>. Он проверяет все дочерние узлы и находит узел, соответствующий <code class="inline">tag-name</code>. </p><p>Вот вся спецификация теста.</p><pre class="brush: javascript noskimlinks noskimwords">    it("has an h2 tag", () =&gt; {      const component = ReactTestUtils.renderIntoDocument(&lt;ProductHeader/&gt;);          var h2 = ReactTestUtils.findRenderedDOMComponentWithTag(       component, "h2"     );      });</pre><p>Попробуйте сохранить его, и ваш тестовый бегун должен показать вам, что тест пройден. Это несколько удивительно, потому что у нас нет оператора <code class="inline">expect()</code>, как в нашем предыдущем примере. Большинство методов, экспортируемых <strong>ReactTestUtils</strong>, имеют встроенные ожидания. В этом конкретном случае, если утилита тестирования не может найти тег <code class="inline">h2</code>, она выдаст ошибку, и тесты автоматически завершатся неудачей.</p><p>Теперь попробуйте создать код для второго теста. Вы можете использовать <code class="inline">findRenderedDOMcomponentWithClass()</code>, чтобы проверить, есть ли какой-либо узел с классом title.</p><pre class="brush: javascript noskimlinks noskimwords">    it("has a title class", () =&gt; {      const component = ReactTestUtils.renderIntoDocument(&lt;ProductHeader/&gt;);          var node = ReactTestUtils.findRenderedDOMComponentWithClass(       component, "title"     );    })</pre><p>Вот оно! Если все идет хорошо, вы должны увидеть результаты в зеленом цвете. </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/28934/image/Testing-Components-in-React-PassingSpec.png" alt="Тестирование компонентов в React с использованием Jest: основы..." title="Тестирование компонентов в React с использованием Jest: основы..." width="50" height="50"></figure><h2>Заключение</h2><p>Хотя мы только что написали две тестовые спецификации, в процессе мы рассмотрели много вопросов. В следующей статье мы напишем несколько полноценных тестов для нашей страницы со списком продуктов. Мы также заменим ReactTestUtils на Enzyme. Зачем? Enzyme предлагает интерфейс высокого уровня, который очень прост в использовании и удобен для разработчиков. Оставайтесь с нами во второй части!</p><p>Если в какой-то момент вы застряли или нуждаетесь в помощи, сообщите нам об этом в комментариях. <br></p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="React" href="https://norma-studio.github.io/article/220824745-testirovanie-komponentov-v-react-s-ispolzovaniem-jest-osnovy" class="tm-article-body__tags-item-link">React</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
42848</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
446</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
