
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Laravel и React - это две популярные технологии веб-разработки, используемые для создания современных веб-приложений. Laravel - это, в основном, серверная сторона, тогда как React - это клиентская JavaScript библиотека. Этот руководство служит введением в Laravel и React, объединяя их для создания современного веб-приложения. ...">
<meta property="og:description" content="Laravel и React - это две популярные технологии веб-разработки, используемые для создания современных веб-приложений. Laravel - это, в основном, серверная сторона, тогда как React - это клиентская JavaScript библиотека. Этот руководство служит введением в Laravel и React, объединяя их для создания современного веб-приложения. ...">
<meta name="twitter:description" content="Laravel и React - это две популярные технологии веб-разработки, используемые для создания современных веб-приложений. Laravel - это, в основном, серверная сторона, тогда как React - это клиентская JavaScript библиотека. Этот руководство служит введением в Laravel и React, объединяя их для создания современного веб-приложения. ...">
<meta property="aiturec:description" content="Laravel и React - это две популярные технологии веб-разработки, используемые для создания современных веб-приложений. Laravel - это, в основном, серверная сторона, тогда как React - это клиентская JavaScript библиотека. Этот руководство служит введением в Laravel и React, объединяя их для создания современного веб-приложения. ...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29442/image/RESTful-API-using-Laravel:MVC-Architecture.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29442/image/RESTful-API-using-Laravel:MVC-Architecture.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29442/image/RESTful-API-using-Laravel:MVC-Architecture.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29442/image/RESTful-API-using-Laravel:MVC-Architecture.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29442/image/RESTful-API-using-Laravel:MVC-Architecture.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api.html" title="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API... | envatomarket.ru | norma-studio.github.io" title="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/543234456.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api.html" class="tm-user-info__username" title="
А. Гаврилов" aria-label="
А. Гаврилов">
А. Гаврилов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Laravel" href="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api" class="tm-article-snippet__hubs-item-link"><span>Laravel</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29442/image/RESTful-API-using-Laravel:MVC-Architecture.jpg">
    <meta itemprop="headline name" content="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Laravel и React - это две популярные технологии веб-разработки, используемые для создания современных веб-приложений. Laravel - это, в основном, серверная сторона, тогда как React - это клиентская JavaScript библиотека. Этот руководство служит введением в Laravel и React, объединяя их для создания современного веб-приложения. ...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Laravel и React - это две популярные технологии веб-разработки, используемые для создания современных веб-приложений. Laravel - это, в основном, серверная сторона, тогда как React - это клиентская JavaScript библиотека. Этот руководство служит введением в Laravel и React, объединяя их для создания современного веб-приложения. ...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Laravel и React - это две популярные технологии веб-разработки, используемые для создания современных веб-приложений. Laravel - это, в основном, серверная сторона, тогда как React - это клиентская JavaScript библиотека. Этот руководство служит введением в Laravel и React, объединяя их для создания современного веб-приложения. </p><p>В современном веб-приложении серверная сторона ограниченна бекендом через некоторые конечные точки входа API (Application Programming Interface). Клиент отправляет запросы этим конечным точкам, и сервер возвращает ответ. Однако сервер не заботится о том, как клиент выводит представление, что идеально соответствует принципу разделения ответствености. Эта архитектура позволяет разработчикам создавать надежные веб приложения, а также приложения  для разных устройств. </p><p>В этом руководстве мы будем использовать последнюю версию Laravel версии 5.5 для создания RESTful API. Фронтэнд будет состоять из компонентов, написанных на React. Мы будем создавать поисковое приложение для листинга продуктов. В первой части руководства основное внимание будет уделено концепциям Laravel и бекенду. Давайте начнем. </p><h2>Введение</h2><p>Laravel - это PHP-фреймворк, разработанный для современного веба. У него есть выразительный синтаксис, который поощряет парадигму <span>соглашение над конфигурационной</span>. У Laravel есть все возможности прямо из коробки, которые вам нужны для старта проекта. Но лично мне нравится Laravel, потому что он превращает разработку на PHP в совершенно другой опыт и рабочий процесс. </p><p>С другой стороны, React - популярная JavaScript библиотека, разработанная в Facebook для создания одностраничных приложений. React поможет вам разбить ваши представления на компоненты, в которых каждый компонент описывает часть пользовательского интерфейса приложения. Компонентный подход имеет дополнительное преимущество повторного использования компонентов и модульности.<br></p><h3>Почему Laravel и React?<br></h3><p>Если вы разрабатываете для веба, вы можете использовать одну базу кода как для сервера, так и для клиента. Однако далеко не каждая компания дает разработчику свободу использовать технологию по своему выбору, причем по некоторым веским причинам. Использование стека JavaScript для всего проекта является текущей нормой, но ничто не мешает выбрать две разные технологии для серверной и клиентской сторон. </p><p>Итак, насколько хорошо Laravel и React подходят друг другу? на самом деле довольно хорошо. Хотя в документации Laravel заявлена поддержка для Vue.js, что является еще одним JavaScript фреймворком, для клиентской стороны мы будем использовать React , потому что он более популярен.</p><h2>Предварительное условие</h2><p>Прежде чем приступить к работе, я собираюсь предположить, что у вас есть базовое представление об архитектуре RESTful и о том, как работают конечные точки API. Кроме того, если у вас есть предыдущий опыт в React или Laravel, вы сможете извлечь максимальную пользу из этого руководства. </p><p>Однако, если вы новичок в обоих фреймворках, не волнуйтесь. Руководство написано с точки зрения новичка, и вы должны быть в состоянии разобраться без особого труда. Исходный код руководства можно найти в <span>GitHub</span>.<br></p><h2>Установка и настройка Laravel проекта </h2><p>Laravel использует <span>Composer</span> для управления всеми зависимостями. Итак, прежде чем начинать работу с Laravel, загрузите и установите Composer на свой компьютер. Вам также может потребоваться настроить переменную среды path, чтобы Composer был доступен глобально.</p><p>Выполните следующую команду для загрузки и установки laravel.</p><pre class="brush: bash noskimlinks noskimwords">composer global require "laravel/installer"</pre><p>Если вы правильно настроили переменную <code class="inline">$PATH</code> и добавили <code class="inline">~/.composer/vendor/bin</code> в свой путь, вы должны создать новый проект Laravel следующим образом:</p><pre class="brush: bash noskimlinks noskimwords">laravel new PROJECT-NAME</pre><p>Кроме того, вы можете использовать Composer для создания нового проекта без установщика laravel.</p><pre class="brush: bash noskimlinks noskimwords">composer create-project --prefer-dist laravel/laravel blog</pre><p>Если все будет хорошо, вы сможете запустить свое приложение на сервере разработки по адресу <span><code class="inline">http://localhost:8000</code></span>.</p><pre class="brush: bash noskimlinks noskimwords">php artisan serve</pre><p><em>Примечание: Artisan - это инструмент командной строки, без которого не обойтись при работе с Laravel. Artisan принимает большой список команд, которые позволяют генерировать код для вашего приложения.</em> <em>Запустите</em> <code class="inline"><em>php</em></code> <code class="inline"><em>artisan list</em></code>, чтобы просмотреть все доступные команды.</p><h2>Настройка среды</h2><p>Ваше приложение будет иметь <strong>.env</strong> файл в корневом каталоге. Здесь описывается вся информация о конфигурации, специфичная для среды. Создайте базу данных для своего приложения, если вы еще этого не сделали, и добавьте конфигурацию базы данных в файл <strong>.env</strong>.</p><pre class="brush: plain noskimlinks noskimwords">DB_CONNECTION=mysqlDB_HOST=127.0.0.1DB_PORT=3306DB_DATABASE=sampledbDB_USERNAME=rootDB_PASSWORD=</pre><h2>Общие сведения о моделях, роутах и контроллерах</h2><p>Laravel - это фреймворк, который следует архитектуре Model-View-Controller (MVC). Проще говоря, MVC помогает вам отделить запросы к базе данных (Модель) от логики, связанной с тем, как должны обрабатываться запросы (контроллер) и как должен быть отображен макет (вид). На изображении ниже демонстрируется работа типичного Laravel приложения. </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29442/image/RESTful-API-using-Laravel:MVC-Architecture.jpg" alt="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API..." title="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API..." width="50" height="50"><figcaption>Архитектура Laravel. Контроллер возвращает ответ, и, следовательно, слой представления не требуется.</figcaption></figure><p>Поскольку мы создаем API с использованием Laravel, мы ограничим наше обсуждение моделью и контроллером. Мы рассмотрим наши варианты создания представления во второй части этого руководства. </p><h2>Роутинг</h2><p>Когда сервер получает HTTP-запрос, Laravel пытается сопоставить его с роутом, зарегистрированным внутри любого из файлов роутинга. Все файлы роутинга находятся внутри соответсвующего каталога. <strong>route/web.php</strong> содержит роуты для веб-интерфейса, тогда как <strong>route/api.php</strong> содержит роуты для API. Роуты, зарегистрированные в <strong>api.php</strong>, будут иметь префикс <code class="inline">/api</code> (как в localhost:3000/api). Если вам нужно изменить это поведение, вы должны перейти в класс <code class="inline">RouteServiceProvider</code> в <strong>/app/Providers/RouteServiceProvider.php</strong> и внести туда изменения. </p><p>Поскольку мы создаем приложение для списка продуктов, здесь указаны конечные точки API и HTTP-методы, связанные с этими конечными точками. </p><ul><li>GET <code class="inline">/products/</code>: Получение всех продуктов.</li> <li>GET <code class="inline">/product/{id}:</code> Получение продукта, соответствующего <code class="inline">id</code>.</li> <li>POST <code class="inline">/products:</code> Создание нового продукта и вставка его в базу данных.</li> <li>PUT <code class="inline">/products/{id}:</code> Обновление существующего продукта, соответствующего <code class="inline">id</code>.</li> <li>DELETE <code class="inline">/products/{id}:</code> Удаление продукта с заданным <code class="inline">id</code>.</li> </ul><p>Давайте вернемся к терминологии. GET, POST, PUT и DELETE - это HTTP-глаголы (более известные как HTTP-методы), необходимые для создания RESTful-сервиса. <code class="inline">/products</code> - это URI, связанный с ресурсом продуктов. HTTP-методы  запрашивают сервер для выполнения желаемого действия на заданном ресурсе.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29442/image/RESTful-API-using-Laravel:HTTP-actions.jpg" alt="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API..." title="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API..." width="50" height="50"><figcaption>GET, POST, PUT и DELETE являются наиболее часто используемымы действиями REST</figcaption></figure><p>Роутер позволяет объявлять роуты для ресурса вместе с HTTP-методами, которые нацелены на этот ресурс. Вот пример файла роутинга, который возвращает некоторые жестко кодированные данные.</p><h4>routes/api.php</h4><pre class="brush: php noskimlinks noskimwords">/**** Basic Routes for a RESTful service:**** Route::get($uri, $callback);** Route::post($uri, $callback);** Route::put($uri, $callback);** Route::delete($uri, $callback);****/Route::get("products", function () {    return response(["Product 1", "Product 2", "Product 3"],200);});Route::get("products/{product}", function ($productId) {    return response()-&gt;json(["productId" =&gt; "{$productId}"], 200);}); Route::post("products", function() {    return  response()-&gt;json([            "message" =&gt; "Create success"        ], 201);});Route::put("products/{product}", function() {  return  response()-&gt;json([            "message" =&gt; "Update success"        ], 200);});Route::delete("products/{product}",function() {return  response()-&gt;json(null, 204);});</pre><p>Если вы хотите проверить, что роуты работают должным образом, вы должны использовать тулинг, например POSTMAN или curl.</p><h2>Модель продукта</h2><p>Ресурсу продуктов требуется модель, которая может взаимодействовать с базой данных. Модель - это слой, который находится поверх базы данных, скрывая все специфичные для базы данных детали. Laravel использует Eloquent ORM для моделирования базы данных. </p><blockquote>Eloquent ORM, входящий в состав Laravel, обеспечивает красивую, простую реализацию ActiveRecord для работы с вашей базой данных. Каждая таблица базы данных имеет соответствующую "Модель", которая используется для взаимодействия с этой таблицей. Модели позволяют запрашивать данные из ваших таблиц, а также вставлять новые записи в таблицу. <br>— <span>Laravel Docs</span><br></blockquote><p>Что относительно определения схемы базы данных? Миграция Laravel"а позаботится об этом. У Artisan есть команда миграции, которая позволяет вам определять вашу схему и постепенно обновлять ее на более позднем этапе. Давайте создадим модель и миграции для сущьности Product. </p><pre class="brush: bash noskimlinks noskimwords">$ php artisan make:model Product -m</pre><p>Примечание: Есть множество команд Artisan, и их легко забыть. Таким образом, каждая команда artisan включает хелпер, который отображает дополнительную информацию, такую ​​как доступные параметры и аргументы. Чтобы перейти на страницу справки, имя команды должно сопровождаться c <em>help</em>. Выполните следующую команду <code class="inline">help</code>, чтобы увидеть, что означает параметр <code class="inline">-m</code>: <code class="inline">$ php artisan help make: model</code>.</p><p>Вот файл миграции.</p><h4>database/migrations/timestamp_create_products_table.php</h4><pre class="brush: php noskimlinks noskimwords">&lt;?phpuse Illuminate\Support\Facades\Schema;use Illuminate\Database\Schema\Blueprint;use Illuminate\Database\Migrations\Migration;class CreateProductsTable extends Migration{      public function up()    {        Schema::create("products", function (Blueprint $table) {            $table-&gt;increments("id");            $table-&gt;timestamps();        });    }      public function down()    {        Schema::dropIfExists("products");    }}</pre><p>Метод <code class="inline">up</code> вызывается при переносе новых таблиц и столбцов в базу данных, тогда как метод <code class="inline">down</code> вызывается при откате миграции. Мы создали схему для таблицы с тремя столбцами: <code class="inline">id</code>, <code class="inline">created_at</code> и <code class="inline">updated_at</code>. Метод <code class="inline">$table-&gt;timestamps()</code> отвечает за сохранение столбцов <code class="inline">created_at</code> и <code class="inline">updated_at</code>. Давайте добавим еще пару строк в определение схемы.</p><pre class="brush: php noskimlinks noskimwords">   /* Let"s add columns for title, description, price, availability */      public function up()    {        Schema::create("products", function (Blueprint $table) {            $table-&gt;increments("id");            $table-&gt;timestamps();            $table-&gt;string("title");            $table-&gt;text("description");            $table-&gt;integer("price");            $table-&gt;boolean("availability");        });    }</pre><p>Мы обновили схему с четырьмя новыми столбцами. Конструктор схем Laravel поддерживает множество типов столбцов, таких как <code class="inline">string</code>, <code class="inline">text</code>, <code class="inline">integer</code>, <code class="inline">boolean</code> и т. д.</p><p>Чтобы выполнить ожидающие миграции, вы должны выполнить следующую команду:</p><pre class="brush: bash noskimlinks noskimwords">php artisan migrate</pre><p>По соглашению, Laravel предполагает, что модель <strong>Product</strong> связана с таблицей <strong>products</strong>. Однако, если вам нужно связать модель с пользовательским именем таблицы, вы можете использовать свойство <code class="inline">$table</code> для объявления имени таблицы. Затем модель будет связана с таблицей с именем <strong>custom_products</strong>.</p><pre class="brush: php noskimlinks noskimwords">protected $table = "custom_products";</pre><p>Но мы оставим все на своих местах и продолжим пользоваться соглашениями. Сгенерированная модель продукта находится внутри каталога <strong>app/</strong>. Хотя класс модели может казаться пустым, он оснащен различными методами построения запросов, которые можно использовать для запросов к базы данных. Например, вы можете использовать <code class="inline">Product::all()</code> для извлечения всех продуктов или <code class="inline">Product::find(1)</code> для получения определенного продукта с id 1. </p><p>Модели Laravel имеют встроенный механизм защиты от <span>уязвимости массового назначения</span>. Свойство <code class="inline">fillable</code> используется, чтобы объявить имена атрибутов, который можно смело присвоить. </p><h4>app/Product.php</h4><pre class="brush: php noskimlinks noskimwords">/* Add the fillable property into the Product Model */protected $fillable = ["title", "description", "price", "availability"];</pre><p>Вышеуказанный код присваивает атрибуты <code class="inline">title</code>, <code class="inline">description</code>, <code class="inline">price</code> и <code class="inline">availability</code> и рассматривает их как назначаемые массово. Теперь мы можем использовать метод <code class="inline">Product::create</code> для вставки новых строк в таблицу продуктов. </p><h2>Заполнение базы данных</h2><p>Laravel позволяет вам заполнить базу данных разработки и продакшена фиктивными данными, которые затем можно использовать для тестирования конечных точек API. Вы можете создать класс seed, выполнив следующую команду Artisan.</p><pre class="brush: bash noskimlinks noskimwords">$ php artisan make:seeder ProductsTableSeeder</pre><p>Сгенерированные файлы сидов будут помещены в каталог <strong>database/seeds</strong>.</p><p>Чтобы создать фиктивные данные, вы можете использовать что-то вроде <code class="inline">str_random(10)</code>, которое возвращает случайную строку. Но если вам нужны данные, которые достаточно близки к фактическим данным, вы должны использовать что-то вроде библиотеки faker. Faker - это сторонняя библиотека, которая поставляется с Laravel для генерации фейковых данных.</p><h4>database/seeds/ProductsTableSeeder.php</h4><pre class="brush: php noskimlinks noskimwords">use App\Product;class ProductsTableSeeder extends Seeder{    public function run()    {        $faker = \Faker\Factory::create();        // Create 50 product records        for ($i = 0; $i &lt; 50; $i++) {            Product::create([                "title" =&gt; $faker-&gt;title,                "description" =&gt; $faker-&gt;paragraph,                "price" =&gt; $faker-&gt;randomNumber(2),                "availability" =&gt; $faker-&gt;boolean(50)            ]);        }    }}</pre><p>Выполните команду artisan <code class="inline">db:seed</code> для заполнения базы данных. </p><pre class="brush: bash noskimlinks noskimwords">$ php artisan db:seed --class=ProductsTableSeeder</pre><p>Вернемся к <strong>routes/api.php</strong> и добавим недостающие части.</p><h4>routes/api.php</h4><pre class="brush: php noskimlinks noskimwords">/****Basic Routes for a RESTful service:**Route::get($uri, $callback);**Route::post($uri, $callback);**Route::put($uri, $callback);**Route::delete($uri, $callback);***/Route::get("products", function () {    return response(Product::all(),200);});Route::get("products/{product}", function ($productId) {    return response(Product::find($productId), 200);}); Route::post("products", function(Request $request) {   $resp = Product::create($request-&gt;all());    return $resp;});Route::put("products/{product}", function(Request $request, $productId) {    $product = Product::findOrFail($productId);    $product-&gt;update($request-&gt;all());    return $product;});Route::delete("products/{product}",function($productId) {Product::find($productId)-&gt;delete();    return 204;});</pre><h2>Контроллер</h2><p>В файле роутинга в настоящее время размещается логика роутинга и обработки запросов. Мы можем переместить логику обработки запросов в класс контроллера, чтобы наш код был лучше организован и более читабельным. Давайте сначала сгенерируем класс контроллера.</p><pre class="brush: plain noskimlinks noskimwords">$ php artisan make:controller ProductsController</pre><p>Класс Controller состоит из различных методов (index, show, save, update и delete), которые соответствуют различным HTTP-действиям . Я переместил логику обработки запросов с роутинга в контроллер.</p><h4>app/HTTP/Controllers/ProductsController.php</h4><pre class="brush: php noskimlinks noskimwords">&lt;?phpnamespace App\Http\Controllers;use Illuminate\Http\Request;use App\Product;class ProductsController extends Controller{    public function index(){    return Product::all();}public function show(Product $product){    return $product;}public function store(Request $request){    $product = Product::create($request-&gt;all());    return response()-&gt;json($product, 201);}public function update(Request $request, Product $product){    $product-&gt;update($request-&gt;all());    return response()-&gt;json($product, 200);}public function delete(Product $product){    $product-&gt;delete();    return response()-&gt;json(null, 204);}}</pre><h4>routes/api.php</h4><pre class="brush: php noskimlinks noskimwords">/****Basic Routes for a RESTful service:**Route::get($uri, $callback);**Route::post($uri, $callback);**Route::put($uri, $callback);**Route::delete($uri, $callback);***/Route::get("products", "ProductsController@index");Route::get("products/{product}", "ProductsController@show");Route::post("products","ProductsController@store");Route::put("products/{product}","ProductsController@update");Route::delete("products/{product}", "ProductsController@delete");</pre><p>Если вы не заметили, я включил экземпляр Product в методы контроллера. Это пример неявной привязки Laravel. Laravel пытается сопоставить имя экземпляра модели <code class="inline">Product $product</code> с названием URI-сегмента <code class="inline">{product}</code>. Если совпадение найдено, экземпляр модели продукта вводится в действия контроллера. Если база данных не имеет продукта, она возвращает ошибку 404. Конечный результат такой же, как и раньше, но с меньшим количеством кода.</p><p>Откройте POSTMAN, и конечные точки продукта должны работать. Убедитесь, что заголовок <code class="inline">Accept: application/json</code> включен. <br></p><h2>Валидация и обработка исключений</h2><p>Если вы перейдете к несуществующему ресурсу, это то, что вы увидите. </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1795/posts/29442/image/REST-API-using-Laravel5.5.-NotFoundHTTPException.jpg.jpg" alt="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API..." title="Создайте приложения на React и Laravel RESTful Back End: Часть 1, Laravel 5.5 API..." width="50" height="50"></figure><p>Исключение <code class="inline">NotFoundHTTPException</code> - это то, как Laravel отображает ошибку 404. Если вы хотите, чтобы сервер возвращал ответ JSON, вам придется изменить поведение обработки исключений по умолчанию. Laravel имеет класс Handler, предназначенный для обработки исключений, расположенный в <strong>app/Exceptions/Handler.php</strong>. Класс имеет два метода: <code class="inline">report()</code> и <code class="inline">render()</code>. Метод <code class="inline">report</code> полезен для отчетов и регистрации событий исключения, тогда как метод render используется для возврата ответа при возникновении исключения. Обновите метод render, чтобы вернуть ответ JSON:</p><h4>app/Exceptions/Handler.php</h4><pre class="brush: php noskimlinks noskimwords">public function render($request, Exception $exception)  {          if ($exception instanceof \Illuminate\Database\Eloquent\ModelNotFoundException)       {       return response()-&gt;json([            "message" =&gt; "Resource not found"        ], 404);      }            return parent::render($request, $exception);  }</pre><p>Laravel также позволяет нам валидировать входящие HTTP-запросы с помощью набора правил валидации и автоматически возвращать ответ в JSON, если валидация не прошла. Логика проверки будет помещена внутри контроллера. Объект <code class="inline">Illuminate\Http\Request</code> предоставляет метод validate, который мы можем использовать для определения правил валидации. Давайте добавим несколько валидаций в методе store.</p><h4><strong>app/HTTP/Controllers/ProductsController.php</strong></h4><pre class="brush: php noskimlinks noskimwords">public function store(Request $request)    {$this-&gt;validate($request, [        "title" =&gt; "required|unique:products|max:255",        "description" =&gt; "required",        "price" =&gt; "integer",        "availability" =&gt; "boolean",    ]);    $product = Product::create($request-&gt;all());    return response()-&gt;json($product, 201);}</pre><h2>Заключение<br></h2><p>Теперь у нас есть рабочий API для приложения с листингом продуктов. Однако API не имеет базовых функций, таких как аутентификация и ограничение доступа к неавторизованным пользователям. У Laravel есть встроенная поддержка аутентификации, а создание API для нее делается относительно просто. Я рекомендую вам добавить API аутентификации в качестве упражнения. </p><p>Для тех из вас, кто только начинает работать с Laravel или хочет расширить свои знания, найти примеры сайтов или приложений, у нас есть множество материалов, которые вы можете изучить на <span>Envato Market</span>.<br></p><p>Теперь, когда мы закончили работу с бекендом, мы сосредоточим внимание на концепциях фронтенда. Оставайтесь с нами во второй части руководства. Оставляйте свои комментарии.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Laravel" href="https://norma-studio.github.io/article/220824880-sozdajte-prilozheniya-na-react-i-laravel-restful-back-end-chast-1-laravel-55-api" class="tm-article-body__tags-item-link">Laravel</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
43332</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
552</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
