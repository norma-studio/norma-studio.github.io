
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>База данных Realm для iOS... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="База данных Realm для iOS... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="База данных Realm для iOS... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="База данных Realm для iOS... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В этом уроке я расскажу вам как использовать мощное и элегантное решение, мобильную базу данных-для ваших приложений iOS: Мобильная база данных Realm. Альтернатива-Apple Core Data или SQLite с объектно-реляционной моделью (ORM), Мобильная база данных Realm предоставляет разработчикам простой и понятный путь для сохранения данных и запросов к ним....">
<meta property="og:description" content="В этом уроке я расскажу вам как использовать мощное и элегантное решение, мобильную базу данных-для ваших приложений iOS: Мобильная база данных Realm. Альтернатива-Apple Core Data или SQLite с объектно-реляционной моделью (ORM), Мобильная база данных Realm предоставляет разработчикам простой и понятный путь для сохранения данных и запросов к ним....">
<meta name="twitter:description" content="В этом уроке я расскажу вам как использовать мощное и элегантное решение, мобильную базу данных-для ваших приложений iOS: Мобильная база данных Realm. Альтернатива-Apple Core Data или SQLite с объектно-реляционной моделью (ORM), Мобильная база данных Realm предоставляет разработчикам простой и понятный путь для сохранения данных и запросов к ним....">
<meta property="aiturec:description" content="В этом уроке я расскажу вам как использовать мощное и элегантное решение, мобильную базу данных-для ваших приложений iOS: Мобильная база данных Realm. Альтернатива-Apple Core Data или SQLite с объектно-реляционной моделью (ORM), Мобильная база данных Realm предоставляет разработчикам простой и понятный путь для сохранения данных и запросов к ним....">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1802/posts/29018/final_image/realm_banner.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1802/posts/29018/final_image/realm_banner.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1802/posts/29018/final_image/realm_banner.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1802/posts/29018/final_image/realm_banner.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1802/posts/29018/final_image/realm_banner.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios.html" title="База данных Realm для iOS... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="База данных Realm для iOS... | envatomarket.ru | norma-studio.github.io" title="База данных Realm для iOS... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64533jfgfsfxcv.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios.html" class="tm-user-info__username" title="
О. Гуськов" aria-label="
О. Гуськов">
О. Гуськов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>База данных Realm для iOS...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="iOS SDK" href="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios" class="tm-article-snippet__hubs-item-link"><span>iOS SDK</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=800/uploads/users/1802/posts/29018/final_image/realm_banner.png">
    <meta itemprop="headline name" content="База данных Realm для iOS... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В этом уроке я расскажу вам как использовать мощное и элегантное решение, мобильную базу данных-для ваших приложений iOS: Мобильная база данных Realm. Альтернатива-Apple Core Data или SQLite с объектно-реляционной моделью (ORM), Мобильная база данных Realm предоставляет разработчикам простой и понятный путь для сохранения данных и запросов к ним....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В этом уроке я расскажу вам как использовать мощное и элегантное решение, мобильную базу данных-для ваших приложений iOS: Мобильная база данных Realm. Альтернатива-Apple Core Data или SQLite с объектно-реляционной моделью (ORM), Мобильная база данных Realm предоставляет разработчикам простой и понятный путь для сохранения данных и запросов к ним....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<h2>Введение<br></h2><p>В этом уроке я расскажу вам как использовать мощное и элегантное решение, мобильную базу данных для ваших приложений iOS: <span>Мобильная база данных Realm</span>. Альтернатива <span>Apple Core Data</span> или SQLite с объектно-реляционной моделью (ORM), Мобильная база данных Realm предоставляет разработчикам простой и понятный путь для сохранения данных и запросов к ним.</p><h3>Что такое мобильная база данных Realm?</h3><p>Изначально спроектированная как настоящая объектно-ориентированная база данных, Realm отличается от других аналогичных библиотек, тем что рассматривает объекты данных как <em>живые объекты</em> — это значит, что объекты обновляются синхронно. Они мгновенно реагируют на изменения и легко сохраняются. Вам не придётся изучать крутые диаграммы которые есть в сценариях Core Data или SQLite. Вместо этого вы можете работать по настоящему объектно-ориентированным способом. Мобильная база данных Realm распространяется с открытым исходным кодом с 2016 года и бесплатна для разработчиков.</p><p>В дополнение к <span>мобильной базе данных Realm</span>, разработчик также предлагает <span>мобильную платформу Realm</span>, и её флагманский продукт PAAS дополняющий мобильную базу данных Realm серверным решением.</p><blockquote><p><em>Мобильная платформа Realm, расширена синхронизацией данных в реальном времени и обработкой событий на стороне сервера, которые встроены в приложение. Разработчики используют платформу для создания приложений с мощной функциональностью, такие как мессенджеры, приложения для совместной работы и приложения с оффлайн функционалом. <em>Платформа идеально подходит для адаптации под мобильные устройства существующих API, что позволяет легко создавать удобные и мощные приложения подключённые к устаревшим системам и сервисам. (realm.io)</em></em></p></blockquote><p>Так что <span>мобильная платформа Realm</span> работает с сервером так же удобно, как и мобильная база данных Realm, обеспечивая автоматическую синхронизацию данных и обработку событий между клиентом и сервером, и в процессе абстракции уводит от сложностей, возникающих при работе с синхронизацией данных. Описание <span>мобильной платформы Realm</span> выходит за рамки данного урока, но я вернусь к нему в следующей статье.</p><h3> Почему именно <span>база данных Realm</span>?</h3><p>Помимо того, что она уберегает разработчиков от головной боли и изучения крутых диаграмм Core Data, мобильная база данных Realm предоставляет особые преимущества уже готовые к использованию.</p><h4> <span>Производительность &amp; Безопасность потока</span></h4><p>С позиции работоспособности было доказано что мобильная база данных Realm выполняет запросы и синхронизирует объекты значительно быстрее, чем Core Data, и осуществляет <span>параллельный доступ</span> к данным без проблем. Это значит, что несколько источников могут получить доступ к одному и тому же объекту без необходимости управлять блокировкой или каких-либо проблем с несогласованностью данных.</p><h4> <span>Шифрование</span></h4><p>Мобильная база данных Realm предлагает службы <span>шифрования</span> для защиты базы на диске с помощью <em>AES-256 + SHA2</em> 64-разрядного шифрования.</p><blockquote><p><em>Это позволяет все данные, хранящиеся на диске зашифровывать и расшифровывать с помощью алгоритма AES-256 и проверять с помощью технологии HMAC SHA-2. Ключ шифрования должен быть сгенерироан каждый раз, когда вы получаете экземпляр Realm.</em></p></blockquote><h4> <span>Кроссплатформенность</span></h4><p>В отличие от основных данных, мобильная база данных Realm действительно кроссплатформенная и поддерживает iOS, Android, JavaScript веб-приложения и Xamarin.</p><h4> <span>Реактивная природа</span></h4><p>Тем способом которым работают живые объекты, вы можете присоединить элементы пользовательского интерфейса к модели данных и ваш интерфейса будет обновлён реактивно как и изменения в данных! Больше нет сложного кода синхронизации или путей логики, необходимых, как если бы вы работали с Core Data.</p><p>При совместной работе <span>мобильной платформы Realm</span> и сервером объектов Realm, разработчики получают дополнительные преимущества синхронизации своих данных с облаком, просто указав URL Realm объекта.</p><p>Даже используя мобильную платформу Realm, вам не придется беспокоиться о прерванных соединениях, так как Realm имеет встроенные возможности автономной работы и будет создавать очередь запросов изменения данных, для отправки на сервер.</p><h3> <span>Клиенты</span></h3><p>Realm имеет многочисленных уважаемых клиентов, которые открыто применяют мобильную базу данных Realm, среди них Netflix и Starbucks.</p><h3> <span>Альтернативы мобильной базе данных Realm</span></h3><p>Конечно, мобильная базы данных Realm это решение не только для работы в памяти приложений. Я уже упоминал <span>Core Data</span> принадлежащий Apple, и хотя он изначально сложный в изучении, тот факт, что он принадлежит Apple означает он будет <em>де-факто</em> решением для многих разработчиков iOS и будут иметь большое сообщество разработчиков и поддержку.</p><p>Решение, которое было схоже с мобильной базой Realm это Google <span>Firebase</span> — хотя это комбинированное решение клиента и сервера. Firebase так же прост в использовании и позволяет начать работу бесплатно, но расходы будут возрастать пропорционально использованию ресурсов. Недостаток у Firebase, это то что вы привязаны к их платформе, тогда как с Realm вы можете использовать свою собственную панель управления — или не использовать её вообще!</p><h2>Ваше первое приложение Realm</h2><h3> <span>Необходимые знания</span></h3><p>Это руководство предполагает, что вы работали со Swift, но нет необходимости знания Core Data или других баз данных. </p><p>Также как и Realm мы будем использовать следующие части iOS:</p><ul><li>UIKit: для визуализации наших данных</li> <li> <span>CocoaPods:</span> сторонняя библиотека, которая будет использоваться для установки мобильной базы данных Realm</li> </ul><h3> <span>Цели этого урока</span></h3><p>К концу этого урока вы разработаете простое приложение to-do, написанное на Swift с использованием мобильной базы данных Realm для сохранения данных локально. Вы получите полнофункциональный, созданный на Realm приложение to-do, и попутно изучите следующие концепции:</p><ol><li>Настройка библиотеки Realm для нового проекта с помощью CocoaPods</li> <li>Настройка App Delegate для импорта библиотеки Realm</li> <li>Создание «живых» объектов модели </li> <li>Создание представления контроллеров и панели в пользовательском интерфейсе</li> <li>Подключение модели данных к контроллерам представления и предствлениям</li> </ol><p>Вы можете скачать исходный код из урока на <span>GitHub</span>.</p><h2> <span>Настройка проекта</span></h2><p>Итак, давайте создадим наше приложение Realm: <em>RealmDo</em>. Мы собираемся создать новый проект Xcode, так что переходим дальше и создаём приложение Master-Detail.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1802/posts/29018/image/realm_image_1.png" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"></figure><p>Затем, если CocoaPods не установлен на вашем компьютере, вам нужно сделать это сейчас. Переходите в терминал и введите следующую команду:<br></p><p><code>$ sudo gem install cocoapods</code></p><p>Вы должны получить подтверждение что cocoapods установлен. Пока вы все еще в терминале, перейдите к только что созданному проекту Xcode и введите следующую команду, чтобы инициализировать новый Podfile:</p><p><code>$ pod init</code></p><p>Вы должны увидеть новый файл с именем <strong>Podfile</strong>, расположенный в корневом каталоге вашего проекта. В основном этот файл устанавливает библиотеки, которые мы хотим использовать в нашем проекте. Обратитесь к <span>официальной документации CocoaPods</span> для получения дополнительной информации о работе Podfiles.</p><p>Далее мы должны добавить библиотеку cocoapod для Realm, так что открывайте Podfile в текстовом редакторе и добавляйте следующие код <code class="inline"># Pods for RealmDo</code>:</p><pre class="brush: plain noskimlinks noskimwords">...    use dynamic frameworks    use_frameworks!  # Pods for RealmDo    pod "RealmSwift"  target "RealmDoTests" do...</pre><p>Сохраните файл, выходите и набирайте:<br><code>pod install</code></p><p>После завершения установки библиотеки CocoaPods попросит закрывать наш проект Xcode и открыть рабочую область. Сделайте это, и мы будем готовы приступить к программированию. Мы начнем с <code class="inline">AppDelegate</code>.</p><h3> <span>Настройка делегата App Delegate для импорта библиотеки Realm</span></h3><p>В нашем <code class="inline">AppDelegate</code> мы импортируем библиотеку Realm, поэтому добавьте следующую запись в файл <strong>AppDelegate.swift</strong>:</p><pre class="brush: plain noskimlinks noskimwords">import UIKitimport RealmSwift@UIApplicationMainclass AppDelegate:. .. </pre><p>Оставьте класс, таким какой он есть, и обратим наше внимание на объект модели.</p><h2> <span>Модели "живых" объектов</span></h2><p>Определение модели в Realm убийственна проста; вы просто создаёте класс логической модели. В нашем проекте мы будем хранить напоминания, поэтому давайте создадим класс под названием <strong>Reminder.swift</strong>, с помощью следующего кода:</p><pre class="brush: plain noskimlinks noskimwords">import RealmSwiftclass Reminder: Object {    dynamic var name = ""    dynamic var done = false}</pre><p>В этом уроке нам нужно только модель <code class="inline">Reminder</code>, так что мы все сделали! Это очень просто и создание экземпляров модели так же проста, о чём мы узнаем позже. </p><h2> <span>Настройка контроллеров представления и панели</span></h2><p>Теперь мы обратим наше внимание на представлении контроллеров, но прежде чем мы перейдем к классу <strong>MasterViewController.swift</strong>, давайте откроем <strong>Main.storyboard</strong> и добавим панель кнопки в верхний правый угол, назовём его <strong>Add</strong>, как показано ниже:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1802/posts/29018/image/realm_image_2.png" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"></figure><p>Проект был инициализирован Xcode в datasource и delegate связанным с контроллером представления, поэтому все, что нам нужно сделать, это добавить кнопку, которую мы только что создали для контроллера представления <code class="inline">IBOutlet</code>. Удерживая и перетаскивая кнопку к контроллеру представления в режиме сплит-просмотра, чтобы создать ссылку.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1802/posts/29018/image/realm_image_3.png" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"></figure><h3>Инициализация Realm</h3><p>Перейдём к файлу <strong>MasterViewController.swift</strong>, мы объявляем переменные которые нам нужны, эти действия выглядят примерно следующим образом:</p><pre class="brush: plain noskimlinks noskimwords">class MasterViewController: UITableViewController {    var realm : Realm! //(1)    @IBOutlet weak var addButton: UIBarButtonItem!    var remindersList: Results&lt;Reminder&gt; {     //(2)        get {            return realm.objects(Reminder.self)        }    }      override func viewDidLoad() {                 //(3)        super.viewDidLoad()        // Do any additional setup after loading the view, typically from a nib.            realm = try! Realm()    }…</pre><p>Сначала в строке (1), мы объявляем Realm, переменную, на которую мы будем ссылаться чтобы добраться до нашего хранилища данных. Затем мы загружаем <code class="inline">remindersList</code> называемый объектами Realm для получения всего списка напоминаний. Наконец, мы инициируем переменную Realm, которую мы объявили в начале. Пока ничего слишком сложного!</p><h3>Настройка View Delegate и Datasource</h3><p>Далее, мы устанавливаем наши <code class="inline">tableView</code> методы delegate и datasource, следующим образом:<br></p><pre class="brush: plain noskimlinks noskimwords">override func numberOfSections(in tableView: UITableView) -&gt; Int {          return 1    }    override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {      // (4)        return remindersList.count    }    override func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell {        let cell = tableView.dequeueReusableCell(withIdentifier: "Cell", for: indexPath)        let item = remindersList[indexPath.row]        cell.textLabel!.text = item.name        // (5)        cell.textLabel!.textColor = item.done == false ? UIColor.black : UIColor.lightGray        return cell    }</pre><p>В строке (4) мы получаем количество <code class="inline">remindersList</code> списка объектов, которые установят счетчик на количество рядов в нашем разделе <code class="inline">tableView</code>.</p><p>Затем для каждой ячейки, мы получим свойство живого объекта <code class="inline">Reminder</code> для создания метки, а также как отметки выполнен объект или нет.</p><h3>Записи изменений в базу данных</h3><p>Мы хотим, чтобы наши пользователи могли переключить элемент как выполненный (и не выполненный), который показывает это, изменив цвет метки. Мы также хотим сделать редактируемой представление таблицы (пользователи смогут удалить ячейки свайпом справа налево), которые мы осуществляем, добавив следующий код:</p><pre class="brush: plain noskimlinks noskimwords">override func tableView(_ tableView: UITableView,                   didSelectRowAt indexPath: IndexPath) {        let item = remindersList[indexPath.row]        try! self.realm.write({     // (6)            item.done = !item.done        })        //refresh rows        tableView.reloadRows(at: [indexPath], with: .automatic)    }    override func tableView(_ tableView: UITableView, canEditRowAt indexPath: IndexPath) -&gt; Bool {        return true    }    override func tableView(_ tableView: UITableView, commit editingStyle: UITableViewCellEditingStyle, forRowAt indexPath: IndexPath) {        if (editingStyle == .delete){            let item = remindersList[indexPath.row]            try! self.realm.write({                self.realm.delete(item)     // (7)            })            tableView.deleteRows(at:[indexPath], with: .automatic)        }    } </pre><p>В строке (6) это первый раз, когда мы записываем в нашу базу данных, которую вы можете выполнить внутри контейнера <code class="inline">self.realm.write</code>. Обратите внимание, что все, что вам нужно сделать с экземпляром объекта это установить его значение, и ничего больше. Поэтому в данном случае мы переключаем значение done, делая его <code class="inline">item.done =! item.done</code>. <br></p><p>Строка (7) это наш второй пример написания запроса в нашу базу данных: мы удалим объект из базы данных, удалив объект экземпляра.</p><h3>Добавление новых объектов</h3><p>Мы сделали большой прогресс, и на самом деле мы почти закончили! Теперь мы можем загружать, редактировать и удалять наши напоминания, но нам не хватает одного из важных действий: <em>Добавление нового напоминания</em>. Чтобы выполнить это, создайте новый метод <code class="inline">@IBAction</code> и привяжите ваш макет кнопки <strong>Добавить</strong> из панели к методу. </p><p>Мы собираемся создать простой <code class="inline">AlertViewController</code> в нашем примере, но в качестве отдельного упражнения, вместо этого попытайтесь улучшить приложение путем модернизации контроллера в новый вид. </p><p>Теперь, переходите дальше и добавьте следующий код:</p><pre class="brush: plain noskimlinks noskimwords">@IBAction func addReminder(_ sender: Any) {        let alertVC : UIAlertController = UIAlertController(title: "New Reminder", message: "What do you want to remember?", preferredStyle: .alert)        alertVC.addTextField { (UITextField) in        }        let cancelAction = UIAlertAction.init(title: "Cancel", style: .destructive, handler: nil)        alertVC.addAction(cancelAction)        //Alert action closure        let addAction = UIAlertAction.init(title: "Add", style: .default) { (UIAlertAction) -&gt; Void in            let textFieldReminder = (alertVC.textFields?.first)! as UITextField            let reminderItem = Reminder()       // (8)            reminderItem.name = textFieldReminder.text!            reminderItem.done = false            // We are adding the reminder to our database            try! self.realm.write({                self.realm.add(reminderItem)    // (9)                self.tableView.insertRows(at: [IndexPath.init(row: self.remindersList.count-1, section: 0)], with: .automatic)            })        }        alertVC.addAction(addAction)        present(alertVC, animated: true, completion: nil)    }</pre><p>В строке (8) мы создаем новый экземпляр напоминания и задаём его свойства. Затем в строке (9) мы добавляем напоминание через <code class="inline">self.realm.add(item)</code>.</p><h3>Тестирование приложения</h3><p>Теперь давайте проверим наше приложение, соберём его и запустим в симуляторе. Перейдите вперёд и добавьте два напоминания, установите одно из них как выполненное нажав на него. Если вы выйдите из вашего приложения и снова откроете его обратно, ваши записи должны быть на месте.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1802/posts/29018/image/realm_image_4.png" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"></figure><h2>Браузер Realm</h2><p>И вот оно! Практически без обучения, минуя сложности работы с основными данными мы получили полнофукнциональную серверную часть на девайсе. Это и есть база данных Realm. Можно также проверить, что данные хранятся на устройстве, загрузив <span>браузер Realm</span>, macOS приложение, которое позволяет просматривать, осуществлять отладку и редактировать объекты данных Realm. </p><p>Скачайте приложение из <span>Mac App Store</span> и откройте базу данных Realm, которая расположена в папке <strong>CoreSimulator/Devices/appID/data/</strong>.... <strong>Db.realm</strong> файл, который вы ищете.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1802/posts/29018/image/realm_image_6.jpg" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"></figure><p>Открыв его, вы сможете не только просматривать данные, но также редактировать и добавлять новые. Вперёд, попробуйте!</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1802/posts/29018/image/realm_image_5.png" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"></figure><h2> Заключение</h2><p>В этом руководстве вы узнали о <span>базе данных Realm</span> и почему она является мощным инструментом для разработчиков iOS. Также, мы кратко коснулись её серверной части, <span>мобильной платформы Realm</span>, о которых мы расскажем подробнее в отдельной статье.</p><p>Затем мы создали простое приложение "напоминалку", на основе <span>базы данных Realm</span>. Всего в нескольких десятках строк кода мы смогли:</p><ol><li>Установили "живую" объектную модель для "напоминалки"</li> <li>Привязали наш вид контроллера к модели данных</li> <li>Объявляли, регистрировали, загружали, добавляли и удаляли из базы данных Realm</li> </ol><p>И наконец, вы увидели как использовать браузер Realm для отладки и просмотра данных.</p><p>Это было лишь только введение в сферу базы данных Realm, но вы можете использовать его как отправную точку для перехода на более сложные темы. В качестве следующих шагов вы можете обратить внимание на статьи:</p><ul><li><em><span>Модель данных Realm</span></em></li> <li><span>Документация Realm для Swift</span></li> <li><em><span>Документация Realm для Objective-C</span> </em></li> <li><span>Справочник по API базы данных Realm</span></li> </ul><p>Обязательно изучите некоторые из продвинутых тем в упомянутой выше документации, такие как, как работа со <span>связями</span> данных, <span>тестирование объектов Realm</span>, <span>заголовки</span> и <span>шифрование</span>. </p><p>И пока вы ещё здесь, не забудьте почитать некоторые из наших статей на тему разработки приложений для iOS!</p><ul class="roundup-block__contents posts--half-width roundup-block--list"><li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/769/posts/28154/preview_image/cloud%20services%20-%20mobile.jpg" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Разработка для мобильных устройств</div> <div class="roundup-block__content-title">Панель управления как сервис для мобильных приложений</div> <div class="roundup-block__author">Bala Durage Sandamal Siripathi</div></span></li> <li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/41/posts/23205/preview_image/preview_image@2x.jpg" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Swift</div> <div class="roundup-block__content-title">Рекомендация: Перечисления в Swift</div> <div class="roundup-block__author">Bart Jacobs</div></span></li> <li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/769/posts/28462/preview_image/thumbnail.jpg" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Шаблоны приложений</div> <div class="roundup-block__content-title">15 лучших шаблонов приложений</div> <div class="roundup-block__author">Davis Allie</div></span></li> <li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/41/posts/25065/preview_image/preview-image@2x.jpg" alt="База данных Realm для iOS..." title="База данных Realm для iOS..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Основные данные</div> <div class="roundup-block__content-title">Основные данные и Swift: основные данные стека</div> <div class="roundup-block__author">Bart Jacobs</div></span></li> </ul><p></p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="iOS SDK" href="https://norma-studio.github.io/article/220824958-baza-dannyh-realm-dlya-ios" class="tm-article-body__tags-item-link">iOS SDK</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
32068</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
655</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
