
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Руководство для начинающих по HTTP и REST... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Руководство для начинающих по HTTP и REST... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Руководство для начинающих по HTTP и REST... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Руководство для начинающих по HTTP и REST... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Протокол передачи гипертекста (HTTP) - это основа жизни в Интернете. Он используется каждый раз при передаче документа или в запросе AJAX. Но HTTP на удивление мало известен некоторым веб-разработчикам....">
<meta property="og:description" content="Протокол передачи гипертекста (HTTP) - это основа жизни в Интернете. Он используется каждый раз при передаче документа или в запросе AJAX. Но HTTP на удивление мало известен некоторым веб-разработчикам....">
<meta name="twitter:description" content="Протокол передачи гипертекста (HTTP) - это основа жизни в Интернете. Он используется каждый раз при передаче документа или в запросе AJAX. Но HTTP на удивление мало известен некоторым веб-разработчикам....">
<meta property="aiturec:description" content="Протокол передачи гипертекста (HTTP) - это основа жизни в Интернете. Он используется каждый раз при передаче документа или в запросе AJAX. Но HTTP на удивление мало известен некоторым веб-разработчикам....">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/851_rest/screenshots/firebug.jpg">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/851_rest/screenshots/firebug.jpg">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/851_rest/screenshots/firebug.jpg">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/851_rest/screenshots/firebug.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/851_rest/screenshots/firebug.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest.html" title="Руководство для начинающих по HTTP и REST... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Руководство для начинающих по HTTP и REST... | envatomarket.ru | norma-studio.github.io" title="Руководство для начинающих по HTTP и REST... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64533jghfdd.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest.html" class="tm-user-info__username" title="
Д. Слесарев" aria-label="
Д. Слесарев">
Д. Слесарев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Руководство для начинающих по HTTP и REST...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest" class="tm-article-snippet__hubs-item-link"><span>Web Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/851_rest/screenshots/firebug.jpg">
    <meta itemprop="headline name" content="Руководство для начинающих по HTTP и REST... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Протокол передачи гипертекста (HTTP) - это основа жизни в Интернете. Он используется каждый раз при передаче документа или в запросе AJAX. Но HTTP на удивление мало известен некоторым веб-разработчикам....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Протокол передачи гипертекста (HTTP) - это основа жизни в Интернете. Он используется каждый раз при передаче документа или в запросе AJAX. Но HTTP на удивление мало известен некоторым веб-разработчикам....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Протокол передачи гипертекста (HTTP) - это основа жизни в Интернете. Он используется каждый раз при передаче документа или в запросе <code>AJAX</code>. Но HTTP на удивление мало известен некоторым веб-разработчикам.</p> <p>В этом введении мы познакомимся с принципами разработки REST, лежащими в основе HTTP и использованию их мощи для создания интерфейсов, которые могут выполняться практически с любого устройства или операционной системы.</p> <p></p> <div> <strong>Переизданный урок</strong> <p>Каждые несколько недель мы пересматриваем некоторые из любимых сообщений наших читателей за всю историю сайта. Этот урок впервые был опубликован в ноябре 2010 года.</p> </div> <hr><h2>Почему REST?</h2> <blockquote> <p>REST - простой способ организации взаимодействия между независимыми системами.</p> </blockquote> <p>REST - простой способ организации взаимодействия между независимыми системами. Он пользуется популярностью с 2005 года и вдохновляет дизайн сервисов, таких как API Twitter. Благодаря тому, что REST обеспечивает взаимодействие с такими разнообразными клиентами, как мобильные телефоны и другие веб-сайты. Теоретически, REST не привязан к сети, но почти всегда реализован как таковой и был вдохновлен HTTP. В результате REST можно использовать везде, где возможен HTTP.</p> <p>Альтернативой является создание относительно сложных соглашений поверх HTTP. Часто это принимает форму новых XML-языков. Самый яркий пример - <span>SOAP</span>. Вам нужно выучить совершенно новый набор соглашений, но вы никогда не используете HTTP в полную силу. Поскольку REST был вдохновлён HTTP и играет на его сильные стороны, это лучший способ узнать, как работает HTTP.</p> <p>После первоначального обзора мы рассмотрим каждый из строительных блоков HTTP: URL-адреса, HTTP-команды и коды ответов. Мы также рассмотрим, как использовать их в RESTful. Попутно мы проиллюстрируем теорию примером приложения, которое имитирует процесс отслеживания данных, связанных с клиентами компании через веб-интерфейс.</p> <hr><h2>HTTP</h2> <blockquote> <p>HTTP - это протокол, который позволяет отправлять документы в Интернете.</p> </blockquote> <p>HTTP - это протокол, который позволяет отправлять документы в Интернете. Протокол - это набор правил, определяющих, какие сообщения можно обменивать, и какие сообщения являются подходящими ответами для других. Другим распространенным протоколом является POP3, который вы можете использовать для извлечения электронной почты на вашем жёстком диске.</p> <p>В HTTP есть две разные роли: сервер и клиент. Как правило, клиент всегда инициирует разговор; сервер отвечает. HTTP основан на тексте; то есть сообщения по сути являются битами текста, хотя тело сообщения может также содержать другие носители. Использование текста позволяет легко отслеживать обмен HTTP.</p> <p>HTTP-сообщения состоят из заголовка и тела. Тело часто может оставаться пустым; оно содержит данные, которые вы хотите передать по сети, чтобы использовать их в соответствии с инструкциями в заголовке. Заголовок содержит метаданные, например информацию о кодировке; но, в случае запроса, он также содержит важные HTTP-методы. В стиле REST вы обнаружите, что данные заголовка часто более значимы, чем тела. </p> <hr><h2>Шпионство HTTP на работе</h2> <p>Если вы используете Chrome Developer Tools или Firefox с расширением <span>Firebug</span>, щелкните на панели <code>Net</code> и установите его в <code>enabled</code>. После этого у вас будет возможность просматривать информацию о HTTP-запросах по мере вашего поиска. Например:</p> <div> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/851_rest/screenshots/firebug.jpg" alt="Руководство для начинающих по HTTP и REST..." title="Руководство для начинающих по HTTP и REST..." width="50" height="50"></div> <p>Другим полезным способом ознакомиться с HTTP является использование выделенного клиента, такого как cURL. </p> <blockquote> <p>cURL  - это инструмент <span>command line</span>, который доступен во всех основных операционных системах.</p> </blockquote> <p>После установки cURL введите:</p> <pre class="brush: bash noskimlinks noskimwords">curl -v google.com</pre> <p>Будет отображен полный диалог HTTP. Запросам предшествует <code>&gt;</code>, а ответам предшествует <code>&lt;</code>.</p> <hr><h2>URLS</h2> <p>URL - это, как вы определяете то, на чём вы хотите работать. Мы говорим, что каждый URL-адрес идентифицирует ресурс. Это те же самые URL-адреса, которые назначены веб-страницам. Фактически, веб-страница - это тип ресурса. Давайте рассмотрим более экзотический пример с нашим образцом приложения, которое управляет списком клиентов компании:</p> <pre class="brush: bash noskimlinks noskimwords">/clients</pre> <p>будет идентифицировать всех клиентов, в то время как</p> <pre class="brush: bash noskimlinks noskimwords">/clients/jim</pre> <p>определяет клиента с именем "Jim", предполагая, что он единственный с таким именем.</p> <p>В этих примерах мы обычно не включаем hostname в URL, так как это не имеет никакого отношения к организации интерфейса. Тем не менее, hostname важно для того, чтобы идентификатор ресурса был уникальным во всей сети. Мы часто говорим, что вы отправляете запрос <em>на </em>ресурс <em>к </em>host. Хост включается в заголовок отдельно от пути ресурса, который идёт прямо над заголовком запроса:</p> <pre class="brush: bash noskimlinks noskimwords">GET /clients/jim HTTP/1.1Host: example.com</pre> <p>Ресурсы лучше всего рассматривать как существительные. Например, следующее не RESTful:</p> <pre class="brush: bash noskimlinks noskimwords">/clients/add</pre> <p>Это связано с тем, что для описания действия используется URL-адрес. Это довольно фундаментальный момент в различиях систем RESTful от систем без RESTful.</p> <p>Наконец, URL-адреса должны быть максимально точными; всё, что необходимо для уникальной идентификации ресурса, должно быть в URL-адресе. Вам не нужно включать в запрос данные, идентифицирующие ресурс. Таким образом, URL-адреса выступают в качестве полной карты всех данных, обрабатываемых приложением.</p> <p>Но как вы определяете действие? Например, как сообщить, что вы хотите создать новую запись клиента вместо её получения? Именно здесь вступают в действие глаголы HTTP.</p> <hr><h2>Глаголы HTTP</h2> <p>Каждый запрос указывает определенный HTTP глагол или метод в заголовке запроса. Это первое слово в заголовке запроса. Например,</p> <pre class="brush: bash noskimlinks noskimwords">GET / HTTP/1.1</pre> <p>означает, что используется метод GET, а  </p> <pre class="brush: bash noskimlinks noskimwords">DELETE /clients/anne HTTP/1.1</pre> <p>означает использование метода <code>DELETE</code> .</p> <blockquote> <p>Глаголы HTTP сообщают серверу, что делать с данными, указанными URL.</p> </blockquote> <p>Глаголы HTTP сообщают серверу, что делать с данными, указанными URL. Запрос может ещё содержать дополнительную информацию в своем теле, которая может потребоваться для выполнения операции - например, данные, которые вы хотите сохранить с ресурсом. Эти данные можно указать в cURL с параметром <code>-d</code>.</p> <p>Если вы когда-либо создавали HTML-формы, то знакомы с двумя из наиболее важных HTTP-глаголов: <code>GET</code> и <code>POST</code>. Но есть гораздо больше доступных HTTP-глаголов. Наиболее важными для построения RESTful API являются <code>GET</code>, <code>POST</code>, <code>PUT</code> и <code>DELETE</code>. Доступны другие методы, такие как <code>HEAD</code> и <code>OPTIONS</code>, но они более редки (если вы хотите знать обо всех других методах HTTP, официальным источником является <span>IETF</span>).</p> <h3>GET</h3> <p><code>GET</code> - это самый простой тип HTTP-запроса; которым браузер пользуется каждый раз, когда вы нажимаете ссылку или вводите URL-адрес в адресную строку. Он инструктирует сервер передавать клиенту данные, идентифицированные URL-адресом. Никогда не последует изменений данных на стороне сервера в результате запроса <code>GET</code>. В этом смысле <code>GET</code>-запрос доступен только для чтения, но, конечно, как только клиент получит данные, он может самостоятельно выполнять любые операции с ними, например, форматировать для отображения.</p> <h3>PUT</h3> <p>Запрос <code>PUT</code> используется, когда вы хотите создать или обновить ресурс, указанный URL-адресом. Например,</p> <pre class="brush: bash noskimlinks noskimwords">PUT /clients/robin</pre> <p>может создать клиента с именем <code>Robin</code> на сервере. Вы заметите, что <code>REST</code> полностью независим от бэкэнда; в запросе нет ничего, что информирует сервер о том, как данные должны создаваться - просто так должно быть. Это позволяет вам легко менять базовую технологию по необходимости. Запросы <code>PUT</code> содержат данные для использования при обновлении или создании ресурса в body. В cURL вы можете добавить данные в запрос с помощью  <code>-d</code>.</p> <pre class="brush: bash noskimlinks noskimwords">curl -v -X PUT -d "some text"</pre> <h3>DELETE</h3> <p><code>DELETE</code> должен выполнять противоположное <code>PUT</code>; его следует использовать, если вы хотите удалить ресурс, указанный URL-адресом запроса.</p> <pre class="brush: bash noskimlinks noskimwords">curl -v -X DELETE /clients/anne</pre> <p>Это приведёт к удалению всех данных, связанных с ресурсом, идентифицированных <code>/clients/anne</code>.</p> <h3>POST</h3> <p><code>POST</code> используется, когда обработка, которую вы хотите выполнить на сервере, должна повторяться, если запрос <code>POST</code> повторяется (то есть, они не являются <em>идемпотентными</em>, подробнее об этом ниже). Кроме того, <code>POST</code>-запросы должны вызывать обработку body запроса как подчинённого URL-адреса, который вы отправляете.</p> <p>Проще говоря:</p> <pre class="brush: bash noskimlinks noskimwords">POST /clients/</pre> <p>не должен вызывать изменение ресурса в <code>/clients/</code> сам, но ресурс URL начинается <em>с него</em> <code>/clients/</code>. Например, он может добавить в список нового клиента, с <code>id</code>, сгенерированным сервером.</p> <pre class="brush: bash noskimlinks noskimwords">/clients/some-unique-id</pre> <p>Запросы <code>PUT</code> легко используются вместо запросов <code>POST </code>и наоборот. Некоторые системы используют только один, некоторые используют <code>POST</code> для создания операций и <code>PUT</code> для операций обновления (поскольку с запросом <code>PUT</code> вы всегда указываете полный URL-адрес), некоторые используют <code>POST</code> для обновлений и <code>PUT</code> для создания.</p> <p>Часто запросы <code>POST</code> используются для запуска операций на сервере, которые не вписываются в парадигму <code>Create/Update/Delete</code>; но это, однако, выходит за рамки <code>REST</code>. В нашем примере мы будем полностью придерживаться <code>PUT</code>.</p> <hr><h2>Классификация методов HTTP  </h2> <div> <strong>Безопасные и небезопасные методы:</strong> <div>безопасными являются методы, которые никогда не изменяют ресурсы. Единственными безопасными методами, из четырёх перечисленных выше, является <code>GET</code>. Другие небезопасны, так как они могут привести к модификации ресурсов.<p></p> </div> <strong>Idempotent методы:</strong> <div>Эти методы достигают того же результата, независимо от того, сколько раз запрос повторяется: это <code>GET</code>, <code>PUT</code> и <code>DELETE</code>. Единственным неидемпотентным методом является <code>POST</code>. <code>PUT</code> и <code>DELETE</code>, считающиеся идемпотентами, могут быть неожиданными, хотя, на самом деле, это довольно легко объяснить: повторение метода <code>PUT</code> с точно таким же body должно модифицировать ресурс таким образом, чтобы он оставался идентичным описанному в предыдущем запросе <code>PUT</code>: ничего не изменится! Аналогичным образом, нет смысла дважды удалять ресурс. Из этого следует, что независимо от того, сколько раз запрос <code>PUT</code> или <code>DELETE </code>повторяется, результат должен быть таким же, как если бы это было сделано только один раз.</div> </div> <div> <p><strong>Помните</strong>: именно вы, программист, в конечном счете решаете, что происходит, когда используется определённый HTTP-метод. В реализациях HTTP нет ничего, что автоматически приведёт к созданию ресурсов, их перечислению, удалению или обновлению. Вы должны быть осторожны, чтобы правильно применять HTTP-протокол и вводить эту семантику самостоятельно.</p> </div> <hr><h2>Представительства</h2> <blockquote> <p>HTTP-клиент и HTTP-сервер обмениваются информацией о ресурсах, определённых URL-адресами.</p> </blockquote> <p>Мы можем суммировать то, что мы узнали до сих пор, следующим образом: HTTP-клиент и HTTP-сервер обмениваются информацией о ресурсах, определённых URL-адресами.</p> <p>Мы говорим, что запрос и ответ содержат представление ресурса. Под представлением мы подразумеваем информацию в определённом формате о состоянии ресурса или о том, каким это состояние должно быть в будущем. Оба, и header, и body - являются частями представления.</p> <p>Заголовки HTTP, содержащие метаданные, жёстко определяются спецификацией HTTP; они могут содержать только простой текст и должны быть отформатированы определённым образом.</p> <p>Тело может содержать данные в любом формате, и именно здесь видна сила HTTP. Вы знаете, что можете отправлять простой текст, изображения, HTML и XML на любом человеческом языке. Через метаданные запроса или различные URL-адреса вы можете выбирать между различными представлениями для одного и того же ресурса. Например, вы можете отправить веб-страницу в браузеры и <span>JSON</span> в приложения.</p> <p>HTTP-ответ должен указывать тип содержимого body. Это делается в заголовке, в поле <em>Content-Type</em>; например:</p> <pre class="brush: bash noskimlinks noskimwords">Content/Type: application/json</pre> <p>Для простоты наше приложение только отправляет JSON туда и обратно, но приложение должно быть спроектировано таким образом, чтобы вы могли легко изменять формат данных, чтобы адаптироваться для разных клиентов или предпочтений пользователя.</p> <hr><h2>Библиотеки клиента HTTP</h2> <blockquote> <p>cURL - это, чаще всего, HTTP-решение для PHP-разработчиков.</p> </blockquote> <p>Чтобы поэкспериментировать с различными методами запроса, вам нужен клиент, который позволит указать, какой метод использовать. К сожалению, формы HTML не подходят для счёта, так как они позволяют делать только запросы GET и POST. В реальной жизни API-интерфейсы доступны программно через отдельное клиентское приложение или через JavaScript в браузере.</p> <p>Именно поэтому в дополнение к серверу важно иметь хорошие возможности HTTP-клиента на выбранном вами языке программирования.</p> <p>Очень популярная клиентская HTTP-библиотека, опять же, cURL. Вы уже были ознакомлены с командой cURL ранее в этом уроке. CURL включает в себя как автономную программу командной строки, так и библиотеку, которая может использоваться различными языками программирования. В частности, cURL является, чаще всего, идеальным решением HTTP-клиента для разработчиков PHP. Другие языки, такие как Python, предлагают больше собственных клиентских HTTP-библиотек.</p> <hr><h2>Настройка примера приложения</h2> <blockquote> <p>Я хочу показать как можно более низкий уровень функциональности.</p> </blockquote> <p>Наш пример PHP-приложения чрезвычайно тощ. Я хочу выставить  как можно более низкоуровневую функциональность, без какой-либо магии framework . Я также не хотел использовать настоящий API, например, Twitter, потому что они могут неожиданно меняться, вам нужно настроить аутентификацию, что может быть проблемой и вы не сможете изучить реализацию.</p> <p>Чтобы запустить пример приложения, вам необходимо установить PHP5 и веб-сервер с механизмом для запуска PHP. Текущая версия должна быть не ниже версии 5.2, чтобы иметь доступ к функциям <code>json_encode ()</code> и <code>json_decode ()</code>.</p> <p>Что касается серверов, наиболее распространенным вариантом является Apache с <em>mod_php</em>, но вы можете использовать любые альтернативы, которые вам удобны. Существует пример конфигурации Apache, который содержит правила перезаписи, которые помогут вам быстро настроить приложение. Все запросы к любому URL, начиная с /clients/, должны быть направлены в наш файл <em>server.php</em>. </p> <p>В Apache вам нужно включить <em>mod_rewrite</em> и поместить прилагаемую конфигурацию <em>mod_rewrite</em> где-нибудь в вашей конфигурации Apache или в ваш файл <em>.htacess</em>. Таким образом, <em>server.php</em> будет отвечать на все запросы, поступающие с сервера. То же самое должно быть достигнуто с Nginx, или с любым другим сервером, который вы решите использовать.</p> <hr><h2>Как работает пример приложения</h2> <p>Есть два ключа по обработке запросов REST. Первый ключ - инициировать различную обработку, в зависимости от метода HTTP, даже когда URL-адреса одинаковы. В PHP в глобальном массиве <em>$ _SERVER</em> есть переменная, которая определяет, какой метод был использован для выполнения запроса:</p> <pre class="brush: php noskimlinks noskimwords">$_SERVER["REQUEST_METHOD"]</pre> <p>Эта переменная содержит имя метода в виде строки, например "<code>GET</code>", "<code>PUT</code>" и далее.</p> <p>Другой ключ - узнать, какой URL был запрошен. Для этого мы используем другую стандартную переменную PHP:</p> <pre class="brush: php noskimlinks noskimwords">$_SERVER["REQUEST_URI"]</pre> <p>Эта переменная содержит URL-адрес, начинающийся с первой косой черты. Например, если имя хоста - "<code>example.com</code>", "<code>http://example.com/</code>" вернётся "<code>/</code>", как "<code>http://example.com/test/</code>" вернётся "<code>/test/</code>".</p> <p>Давайте сначала попытаемся определить, какой URL-адрес был вызван. Мы рассматриваем только URL-адреса, начинающиеся с  "<code>clients</code>". Все остальные недействительны.</p> <pre class="brush: php noskimlinks noskimwords">$resource = array_shift($paths);if ($resource == "clients") {    $name = array_shift($paths);    if (empty($name)) {        $this-&gt;handle_base($method);    } else {        $this-&gt;handle_name($method, $name);    }} else {    // We only handle resources under "clients"    header("HTTP/1.1 404 Not Found");}</pre> <p>У нас есть два возможных результата:</p> <ul><li> Ресурс - это клиенты, и в этом случае мы возвращаем полный список </li> <li> Существует еще один идентификатор </li> </ul><p>Если есть ещё один идентификатор, мы предполагаем, что это имя клиента, и, опять же, перенаправляем его в другую функцию, в зависимости от <code>method</code>. Мы используем оператор <code>switch</code>, которого следует избегать в реальном приложении:</p> <pre class="brush: php noskimlinks noskimwords">switch($method) {  case "PUT":      $this-&gt;create_contact($name);      break;  case "DELETE":      $this-&gt;delete_contact($name);      break;  case "GET":      $this-&gt;display_contact($name);      break;  default:      header("HTTP/1.1 405 Method Not Allowed");      header("Allow: GET, PUT, DELETE");      break;  }</pre> <hr><h2>Коды ответов</h2> <blockquote> <p>Коды ответа HTTP стандартизируют способ информирования клиента о результате его запроса.</p> </blockquote> <p>Вы могли заметить, что пример приложения использует PHP <code>header()</code>, передавая некоторые странные строки в качестве аргументов. Функция <em>header()</em> печатает HTTP <code>headers</code> и гарантирует, что они отформатированы соответствующим образом. Заголовки должны быть первым в ответе, поэтому не стоит выводить что-либо ещё до того, как вы закончите с заголовками. Иногда ваш HTTP-сервер может быть настроен для добавления других заголовков в дополнение к тем, которые вы указали в коде.</p> <p>Заголовки содержат все виды метаинформации; например, текстовую кодировку, используемую в body сообщения, или MIME-тип содержимого body. В этом случае мы явно указываем коды ответа HTTP. Коды ответа HTTP стандартизируют способ информирования клиента о результате его запроса. По умолчанию PHP возвращает код ответа <code>200</code>, что означает, что ответ выполнен успешно.</p> <p>Сервер должен вернуть наиболее подходящий код ответа HTTP; таким образом клиент может попытаться исправить свои ошибки, если они есть. Большинство людей знакомы с распространенным кодом ответа <code>404 Not Found</code>, однако есть много более доступных, в соответствии множеству ситуаций.</p> <p>Имейте в виду, что значение кода ответа HTTP не является чрезвычайно точным; это следствие того, что HTTP сам по себе довольно общий. Вы должны попытаться найти код ответа, который наиболее точно соответствует ситуации. Но и не слишком переживайте, если не сможете найти точное соответствие.</p> <p>Вот несколько HTTP-кодов ответа, которые часто используются с REST:</p> <h3>200 OK</h3> <p>Этот код ответа указывает, что запрос был успешным.</p> <h3>201 Created</h3> <p>Это означает, что запрос был успешным и был создан ресурс. Он используется в случае успеха запроса <code>PUT</code> или <code>POST</code>.</p> <h3>400 Bad Request</h3> <p>Запрос был утерян. Это происходит особенно с запросами <code>POST</code> и <code>PUT</code>, когда данные не проходят валидацию или находятся в неправильном формате.</p> <h3>404 Not Found</h3> <p>Этот ответ указывает, что необходимый ресурс не найден. Обычно это относится ко всем запросам, которые указывают на URL-адрес без соответствующего ресурса.</p> <h3>401 Unauthorized</h3> <p>Эта ошибка означает, что вам необходимо выполнить проверку подлинности перед доступом к ресурсу.</p> <h3>405 Method Not Allowed</h3> <p>Используемый метод HTTP не поддерживается для этого ресурса.</p> <h3>409 Conflict</h3> <p>Это указывает на конфликт. Например, вы используете запрос <code>PUT</code> для создания одного и того же ресурса дважды.</p> <h3>500 Internal Server Error</h3> <p>Когда всё остальное терпит неудачу; как правило, ответ 500 используется, когда обработка завершается неудачно из-за непредвиденных обстоятельств на стороне сервера, что вызывает ошибку сервера.</p> <hr><h2>Выполнение образца приложения</h2> <p>Давайте начнем с простого извлечения информации из приложения. Нам нужны детали клиента, "<code>jim</code>", поэтому давайте отправим простой запрос <code>GET</code> на URL этого ресурса:</p> <pre class="brush: bash noskimlinks noskimwords">curl -v http://localhost:80/clients/jim</pre> <p>Это отобразит полные сообщения headers. Последней строкой ответа будет body сообщения; в этом случае это будет JSON, содержащий адрес Jim (помните, что пропуск имени метода приведет к <code>GET</code>-запросу, а также замените <code>localhost: 80</code> на имя сервера и порт, который вы используете).</p> <p>Затем мы можем получить информацию для всех клиентов одновременно: </p> <pre class="brush: bash noskimlinks noskimwords">curl -v http://localhost:80/clients/</pre> <p>Чтобы создать нового клиента с именем Paul ...</p> <pre class="brush: bash noskimlinks noskimwords">curl -v -X PUT http://localhost:80/clients/paul -d "{"address":"Sunset Boulevard" }</pre> <p>и вы получите список всех клиентов, содержащих Paul в качестве подтверждения.</p> <p>Наконец, чтобы удалить клиента:</p> <pre class="brush: bash noskimlinks noskimwords">curl -v -X DELETE http://localhost:80/clients/anne</pre> <p>Вы обнаружите, что возвращённый JSON больше не содержит никаких данных об Anne.</p> <p>Если вы пытаетесь получить несуществующего клиента, например:</p> <pre class="brush: bash noskimlinks noskimwords">curl -v http://localhost:80/clients/jerry</pre> <p>Вы получите ошибку 404, в то время как при попытке создать уже существующего клиента:</p> <p>curl -v -X PUT http://localhost:80/clients/anne</p> <p>вместо этого получите ошибку 409.</p> <hr><h2>Заключение</h2> <blockquote> <p>В общем, чем меньше предположений за пределами HTTP вы делаете, тем лучше.</p> </blockquote> <p>Важно помнить, что HTTP был задуман для взаимодействия между системами, которые ничто не разделяет, кроме понимания протокола. В целом, чем меньше допущений за пределами HTTP вы делаете, тем лучше: это позволяет широкому кругу программ и устройств получать доступ к вашему API.</p> <p>Я использовал PHP в этом уроке, потому что это, скорее всего, язык, наиболее знакомый читателям Nettuts +. Тем не менее, PHP, хотя и предназначен для Интернета, вероятно, не самый лучший язык для работы при REST-способе, поскольку он обрабатывает запросы <code>PUT</code> совсем иначе, чем <code>GET</code> и <code>POST</code>. </p> <p>Помимо PHP, вы можете принять во внимание следующее: </p> <ul><li>Различные Ruby frameworks (<span>Rails</span> и <span>Sinatra</span>)</li> <li>В Python есть отличная поддержка REST. Должны работать Plain <span>Django</span> и <span>WebOb</span>, или <span>Werkzeug</span>. </li> <li> <span>node.js</span> отлично поддерживает REST</li> </ul><p>Среди приложений, которые пытаются придерживаться принципов REST, классическим примером является <span>Atom Publishing Protocol</span>, хотя на самом деле он не используется слишком часто на практике. За современным приложением, основанным на философии использования HTTP в полной мере, обратитесь к <span>Apache CouchDB</span>.</p> <p>Удачи!</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article/220824625-rukovodstvo-dlya-nachinayuschih-po-http-i-rest" class="tm-article-body__tags-item-link">Web Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
31405</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
374</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
