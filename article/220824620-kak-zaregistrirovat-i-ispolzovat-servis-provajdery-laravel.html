
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Как зарегистрировать и использовать сервис провайдеры Laravel... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Как зарегистрировать и использовать сервис провайдеры Laravel... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Как зарегистрировать и использовать сервис провайдеры Laravel... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Как зарегистрировать и использовать сервис провайдеры Laravel... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Если вы когда-либо сталкивались с фреймворком Laravel, маловероятно, что вы не слышали о сервис контейнерах и поставщиках сервисов. Фактически, они являются основой фреймворка Laravel и делают весь тяжелый старт, когда вы запускаете экземпляр любого приложения Laravel....">
<meta property="og:description" content="Если вы когда-либо сталкивались с фреймворком Laravel, маловероятно, что вы не слышали о сервис контейнерах и поставщиках сервисов. Фактически, они являются основой фреймворка Laravel и делают весь тяжелый старт, когда вы запускаете экземпляр любого приложения Laravel....">
<meta name="twitter:description" content="Если вы когда-либо сталкивались с фреймворком Laravel, маловероятно, что вы не слышали о сервис контейнерах и поставщиках сервисов. Фактически, они являются основой фреймворка Laravel и делают весь тяжелый старт, когда вы запускаете экземпляр любого приложения Laravel....">
<meta property="aiturec:description" content="Если вы когда-либо сталкивались с фреймворком Laravel, маловероятно, что вы не слышали о сервис контейнерах и поставщиках сервисов. Фактически, они являются основой фреймворка Laravel и делают весь тяжелый старт, когда вы запускаете экземпляр любого приложения Laravel....">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel.html" title="Как зарегистрировать и использовать сервис провайдеры Laravel... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Как зарегистрировать и использовать сервис провайдеры Laravel... | envatomarket.ru | norma-studio.github.io" title="Как зарегистрировать и использовать сервис провайдеры Laravel... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/636536435.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel.html" class="tm-user-info__username" title="
С. Торгашев" aria-label="
С. Торгашев">
С. Торгашев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Как зарегистрировать и использовать сервис провайдеры Laravel...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Laravel" href="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel" class="tm-article-snippet__hubs-item-link"><span>Laravel</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
    <meta itemprop="headline name" content="Как зарегистрировать и использовать сервис провайдеры Laravel... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Если вы когда-либо сталкивались с фреймворком Laravel, маловероятно, что вы не слышали о сервис контейнерах и поставщиках сервисов. Фактически, они являются основой фреймворка Laravel и делают весь тяжелый старт, когда вы запускаете экземпляр любого приложения Laravel....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Если вы когда-либо сталкивались с фреймворком Laravel, маловероятно, что вы не слышали о сервис контейнерах и поставщиках сервисов. Фактически, они являются основой фреймворка Laravel и делают весь тяжелый старт, когда вы запускаете экземпляр любого приложения Laravel....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Если вы когда-либо сталкивались с фреймворком <span>Laravel</span>, маловероятно, что вы не слышали о сервис контейнерах и поставщиках сервисов. Фактически, они являются основой фреймворка Laravel и делают весь тяжелый старт, когда вы запускаете экземпляр любого приложения Laravel.</p><p>В этой статье мы увидим, что такое контейнер служб, и после этого мы подробно обсудим сервис провайдеров В ходе этой статьи я также продемонстрирую, как создать свой пользовательский сервис провайдер в Laravel. Когда вы создаете сервис провайдера, вам также необходимо зарегистрировать его в своем приложении Laravel, чтобы можно было его использовать, поэтому мы это тоже рассмотрим.</p><p>Существует два важных метода: boot и register, которые может реализовать ваш сервис провайдер, и в последнем разделе этой статьи мы подробно их обсудим.</p><p>Прежде чем перейти к обсуждению поставщика услуг, я попытаюсь представить контейнер сервисов, поскольку он будет активно использоваться в вашей реализации сервис провайдера</p><h2>Понимание сервисных контейнеров и сервис провайдеров</h2><h3>Что такое контейнер сервисов?</h3><p>В простейших терминах можно сказать, что контейнер в Laravel - это ящик, который содержит привязки различных компонентов, и они обслуживаются по мере необходимости во всем приложении.</p><p>По словам официальной документации Laravel:</p><blockquote>Сервисный контейнер Laravel - это мощный инструмент для управления зависимостями классов и выполнения инъекции зависимостей.</blockquote><p>Таким образом, всякий раз, когда вам нужно встроить какой-либо компонент или службу, вы можете указать его в своем конструкторе или методе, и он будет автоматически встраиваться из контейнера служб, поскольку он содержит все, что вам нужно! Разве это не круто? Это избавляет вас от ручной компоновки компонентов и, таким образом, позволяет избежать жесткой связи в вашем коде.</p><p>Давайте посмотрим на быстрый пример, чтобы понять это.</p><pre class="brush: php noskimlinks noskimwords">Class SomeClass{    public function __construct(FooBar $foobarObject)    {        // use $foobarObject object    }}</pre><p>Как вы можете видеть, <code class="inline">SomeClass</code> нуждается в экземпляре <code class="inline">FooBar</code> для создания экземпляра. Таким образом, в основном, у него есть зависимость, которую нужно встроить. Laravel делает это автоматически, просматривая контейнер и встраивая соответствующую зависимость.</p><p>И если вам интересно, как Laravel знает, какие компоненты или сервисы включить в контейнер, ответ будет - сервис провайдер. Сервис провайдер сообщает Laravel о подключении различных компонентов в контейнер служб. Фактически, это называется привязкой к контейнерам службы, и вам нужно сделать это через сервис провайдер.</p><p>Таким образом, сервис провайдер регистрирует все привязки контейнера, и это делается с помощью метода register реализации сервис провайдера.</p><p>Сразу должен всплыть еще один вопрос: как Laravel знает о различных сервис провайдерах? Вы только что сказали что-нибудь? Я только что слышал, как кто-то сказал, что Laravel тоже должен это понять автоматически! Ох, вы просите слишком много: Laravel - это фреймворк, а не сверхчеловек, не так ли? Так что сервис провайдеры, это то, что вам нужно, чтобы сообщить Ларавелю напрямую.</p><p>Перейдите и посмотрите содержимое файла <code class="inline">config/app.php</code>. Вы найдете запись массива, в котором перечислены все сервис провайдеры, которые будут загружены во время начальной загрузки приложения Laravel.</p><pre class="brush: php noskimlinks noskimwords">"providers" =&gt; [         /*         * Laravel Framework Service Providers...         */        Illuminate\Auth\AuthServiceProvider::class,        Illuminate\Broadcasting\BroadcastServiceProvider::class,        Illuminate\Bus\BusServiceProvider::class,        Illuminate\Cache\CacheServiceProvider::class,        Illuminate\Foundation\Providers\ConsoleSupportServiceProvider::class,        Illuminate\Cookie\CookieServiceProvider::class,        Illuminate\Database\DatabaseServiceProvider::class,        Illuminate\Encryption\EncryptionServiceProvider::class,        Illuminate\Filesystem\FilesystemServiceProvider::class,        Illuminate\Foundation\Providers\FoundationServiceProvider::class,        Illuminate\Hashing\HashServiceProvider::class,        Illuminate\Mail\MailServiceProvider::class,        Illuminate\Notifications\NotificationServiceProvider::class,        Illuminate\Pagination\PaginationServiceProvider::class,        Illuminate\Pipeline\PipelineServiceProvider::class,        Illuminate\Queue\QueueServiceProvider::class,        Illuminate\Redis\RedisServiceProvider::class,        Illuminate\Auth\Passwords\PasswordResetServiceProvider::class,        Illuminate\Session\SessionServiceProvider::class,        Illuminate\Translation\TranslationServiceProvider::class,        Illuminate\Validation\ValidationServiceProvider::class,        Illuminate\View\ViewServiceProvider::class,         /*         * Package Service Providers...         */        Laravel\Tinker\TinkerServiceProvider::class,         /*         * Application Service Providers...         */        App\Providers\AppServiceProvider::class,        App\Providers\AuthServiceProvider::class,        // App\Providers\BroadcastServiceProvider::class,        App\Providers\EventServiceProvider::class,        App\Providers\RouteServiceProvider::class,],</pre><p>Итак, это был контейнер в вашем распоряжении. В следующем разделе мы сосредоточимся на сервис провайдере, который является основной темой этой статьи!</p><h3>Что такое сервис провайдер?</h3><p>Если контейнер - это то, что позволяет вам определять привязки и устанавливать зависимости, сервис провайдер - это место, где все это происходит.</p><p>Давайте быстро взглянем на одного из основных сервис провайдеров, чтобы понять, что он делает. Откройте файл <code class="inline">vender/laravel/framework/src/Illuminate/Cache/CacheServiceProvider.php.</code></p><pre class="brush: php noskimlinks noskimwords">public function register(){    $this-&gt;app-&gt;singleton("cache", function ($app) {        return new CacheManager($app);    });     $this-&gt;app-&gt;singleton("cache.store", function ($app) {        return $app["cache"]-&gt;driver();    });     $this-&gt;app-&gt;singleton("memcached.connector", function () {        return new MemcachedConnector;    });}</pre><p>Здесь важно отметить метод <code class="inline">register</code>, который позволяет вам определять привязки контейнера. Как вы можете видеть, существует три привязки для служб <code class="inline">cache</code>, <code class="inline">cache.store</code> и <code class="inline">memcached.connector</code>.</p><p>В основном, мы информируем Laravel о том, что всякий раз, когда есть необходимость разрешить получить сервис <code class="inline">cache</code>, он должен вернуть экземпляр <code class="inline">CacheManager</code>. Поэтому мы просто добавляем это соответствие в контейнер, к которому можно получить доступ через <code class="inline">$this-&gt;app</code>.</p><p>Это правильный способ добавления любого сервиса в контейнер Laravel. Это также позволяет вам понять, как Laravel проходит через метод register всех сервис провайдеров и заполняет контейнер! Как мы уже упоминали ранее, он использует список сервис провайдеров из файла <code class="inline">config/app.php</code>.</p><p>И это была история о сервис провайдере. В следующем разделе мы обсудим, как создать специализированного сервис провайдера, чтобы вы могли зарегистрировать свои пользовательские сервисы в контейнере Laravel.</p><h2>Создание собственного сервис провайдера</h2><p>В Laravel уже есть удобная утилита командной строки, <code class="inline">artisan</code>, которая позволяет вам создавать код шаблона, так что вам не нужно создавать его с нуля. Перейдите в командную строку и выполните следующую команду в корне приложения, чтобы создать пользовательский сервис провайдер.</p><pre class="brush: powershell noskimlinks noskimwords">$php artisan make:provider EnvatoCustomServiceProviderProvider created successfully.</pre><p>И эта команда должна создать файл <code class="inline">EnvatoCustomServiceProvider.php</code> в каталоге <code class="inline">app/Providers</code>. Откройте файл, чтобы узнать, что в нем держится.</p><pre class="brush: php noskimlinks noskimwords">&lt;?phpnamespace App\Providers; use Illuminate\Support\ServiceProvider; class EnvatoCustomServiceProvider extends ServiceProvider{    /**     * Bootstrap the application services.     *     * @return void     */    public function boot()    {        //    }     /**     * Register the application services.     *     * @return void     */    public function register()    {        //    }}</pre><p>Как мы обсуждали ранее, существует два метода: register и booy, с которыми вы будете иметь дело большую часть времени, когда работаете с вашим пользовательским сервис провайдером.</p><p>Метод <code class="inline">register</code> - это место, где вы определяете все пользовательские привязки контейнера. С другой стороны, метод <code class="inline">boot</code> - это место, где вы можете использовать уже зарегистрированные через метод register службы. В последнем разделе этой статьи мы подробно обсудим эти два метода, поскольку мы рассмотрим некоторые практические примеры, чтобы понять использование обоих методов.</p><h2>Зарегистрируйте свой пользовательский сервис провайдер</h2><p>Таким образом, вы создали своей собственный сервис провайдер. Замечательно! Затем вам нужно сообщить Laravel о своем специализированном сервис провайдере, чтобы он мог загрузить его вместе с другими провайдерами во время начальной загрузки.</p><p>Чтобы зарегистрировать сервис провайдер, вам просто нужно добавить запись в массив сервис провайдеров в файле <code class="inline">config/app.php</code>.</p><pre class="brush: php noskimlinks noskimwords">"providers" =&gt; [         /*         * Laravel Framework Service Providers...         */        Illuminate\Auth\AuthServiceProvider::class,        Illuminate\Broadcasting\BroadcastServiceProvider::class,        Illuminate\Bus\BusServiceProvider::class,        Illuminate\Cache\CacheServiceProvider::class,        Illuminate\Foundation\Providers\ConsoleSupportServiceProvider::class,        Illuminate\Cookie\CookieServiceProvider::class,        Illuminate\Database\DatabaseServiceProvider::class,        Illuminate\Encryption\EncryptionServiceProvider::class,        Illuminate\Filesystem\FilesystemServiceProvider::class,        Illuminate\Foundation\Providers\FoundationServiceProvider::class,        Illuminate\Hashing\HashServiceProvider::class,        Illuminate\Mail\MailServiceProvider::class,        Illuminate\Notifications\NotificationServiceProvider::class,        Illuminate\Pagination\PaginationServiceProvider::class,        Illuminate\Pipeline\PipelineServiceProvider::class,        Illuminate\Queue\QueueServiceProvider::class,        Illuminate\Redis\RedisServiceProvider::class,        Illuminate\Auth\Passwords\PasswordResetServiceProvider::class,        Illuminate\Session\SessionServiceProvider::class,        Illuminate\Translation\TranslationServiceProvider::class,        Illuminate\Validation\ValidationServiceProvider::class,        Illuminate\View\ViewServiceProvider::class,         /*         * Package Service Providers...         */        Laravel\Tinker\TinkerServiceProvider::class,         /*         * Application Service Providers...         */        App\Providers\AppServiceProvider::class,        App\Providers\AuthServiceProvider::class,        // App\Providers\BroadcastServiceProvider::class,        App\Providers\EventServiceProvider::class,        App\Providers\RouteServiceProvider::class,        App\Providers\EnvatoCustomServiceProvider::class,],</pre><p>Вот и все! Вы зарегистрировали свой сервис провайдер с помощью схемы Laravel! Но созданный нами сервис провайдер - это почти пустой шаблон и он не используется на данный момент. В следующем разделе мы рассмотрим несколько практических примеров, чтобы узнать, что вы можете сделать с помощью методов register и boot.</p><h2>Пройдемся по методам regsiter и boot</h2><p>Для начала мы рассмотрим метод <code class="inline">register</code>, чтобы понять, как вы можете его использовать. Откройте созданный ранее файл сервис провайдера <code class="inline">app/Providers/EnvatoCustomServiceProvider.php</code> и замените существующий код следующим.</p><pre class="brush: php noskimlinks noskimwords">&lt;?phpnamespace App\Providers; use Illuminate\Support\ServiceProvider;use App\Library\Services\DemoOne; class EnvatoCustomServiceProvider extends ServiceProvider{    public function boot()    {    }     public function register()    {        $this-&gt;app-&gt;bind("App\Library\Services\DemoOne", function ($app) {          return new DemoOne();        });    }}</pre><p>Здесь есть два важных момента:</p><ul><li>Мы импортировали <code class="inline">App\Library\Services\DemoOne</code>, чтобы мы могли его использовать. Класс <code class="inline">DemoOne</code> еще не создан, но мы сделаем это через мгновение.</li> <li>В методе register мы использовали метод <code class="inline">bind</code> контейнера служб для добавления привязки нашего сервиса к контейнеру. Таким образом, всякий раз, когда должна быть разрешена зависимость<code class="inline"> App\Library\Services\DemoOne</code>, она вызывает замыкание, которое создает экземпляр и возвращает объект <code class="inline">App\Library\Services\DemoOne</code>.</li> </ul><p>Для этого вам просто нужно создать файл <code class="inline">app/Library/Services/DemoOne.php</code>.</p><pre class="brush: php noskimlinks noskimwords">&lt;?phpnamespace App\Library\Services; class DemoOne{    public function doSomethingUseful()    {      return "Output from DemoOne";    }}</pre><p>И вот код где-то в вашем контроллере, где будет введена зависимость.</p><pre class="brush: php noskimlinks noskimwords">&lt;?phpnamespace App\Http\Controllers; use App\Http\Controllers\Controller;use App\Library\Services\DemoOne; class TestController extends Controller{    public function index(DemoOne $customServiceInstance)    {        echo $customServiceInstance-&gt;doSomethingUseful();    }}</pre><p>Это очень простой пример привязки класса. Фактически, в приведенном выше примере нет необходимости создавать сервис провайдер и внедрять метод register, как это было сделано, поскольку Laravel может автоматически разрешать его с помощью отражения.</p><p>Очень важное замечание из документации Laravel:</p><blockquote>Нет необходимости связывать классы в контейнер, если они не зависят от каких-либо интерфейсов. Контейнеру не нужно указывать, как создавать эти объекты, поскольку он может автоматически разрешать эти объекты с помощью отражения.</blockquote><p>С другой стороны, это было бы очень полезно, если бы вы связали интерфейс с определенной реализацией. Давайте рассмотрим пример, чтобы понять это.</p><p>Давайте создадим очень простой интерфейс в <code class="inline">app/Library/Services/Contracts/CustomServiceInterface.php.</code></p><pre class="brush: php noskimlinks noskimwords">&lt;?php// app/Library/Services/Contracts/CustomServiceInterface.phpnamespace App\Library\Services\Contracts; Interface CustomServiceInterface{    public function doSomethingUseful();}</pre><p>Затем давайте создадим две реализации этого интерфейса. В принципе, нам просто нужно создать два класса, которые реализуют интерфейс <code class="inline">CustomServiceInterface</code>.</p><p>Создайте класс <code class="inline">DemoOne</code> в <code class="inline">app/Library/Services/DemoOne.php</code>.</p><pre class="brush: php noskimlinks noskimwords">&lt;?php// app/Library/Services/DemoOne.phpnamespace App\Library\Services; use App\Library\Services\Contracts\CustomServiceInterface; class DemoOne implements CustomServiceInterface{    public function doSomethingUseful()    {      return "Output from DemoOne";    }}</pre><p>Аналогично, <code class="inline">DemoTwo</code> будет в <code class="inline">App/Library/Services/DemoTwo.php</code>.</p><pre class="brush: php noskimlinks noskimwords">&lt;?php// app/Library/Services/DemoTwo.phpnamespace App\Library\Services; use App\Library\Services\Contracts\CustomServiceInterface; class DemoTwo implements CustomServiceInterface{    public function doSomethingUseful()    {      return "Output from DemoTwo";    }}</pre><p>Теперь вместо привязки класса мы свяжем интерфейс. Снова откройте <code class="inline">EnvatoCustomServiceProvider.php</code> и измените код, как показано ниже.</p><pre class="brush: php noskimlinks noskimwords">&lt;?phpnamespace App\Providers; use Illuminate\Support\ServiceProvider;use App\Library\Services\DemoOne; class EnvatoCustomServiceProvider extends ServiceProvider{    public function boot()    {    }     public function register()    {        $this-&gt;app-&gt;bind("App\Library\Services\Contracts\CustomServiceInterface", function ($app) {          return new DemoOne();        });    }}</pre><p>В этом случае мы привязали интерфейс <code class="inline">App\Library\Services\Contracts\CustomServiceInterface</code> к реализации <code class="inline">DemoOne</code>. Следовательно, всякий раз, когда необходимо разрешить зависимость <code class="inline">App\Library\Services\Contracts\CustomServiceInterface</code>, будет создан экземпляр и возвращен объект <code class="inline">App\Library\Services\DemoOne</code>. Теперь это имеет смысл, не так ли?</p><p>Давайте быстро пересмотрим код контроллера.</p><pre class="brush: php noskimlinks noskimwords">&lt;?phpnamespace App\Http\Controllers; use App\Http\Controllers\Controller;use App\Library\Services\Contracts\CustomServiceInterface; class TestController extends Controller{    public function index(CustomServiceInterface $customServiceInstance)    {        echo $customServiceInstance-&gt;doSomethingUseful();    }}</pre><p>Как вы, возможно, догадались, <code class="inline">$customServiceInstance</code> должен быть экземпляром <code class="inline">App\Library\Services\DemoOne</code>! Красота такого подхода заключается в том, что вы можете легко заменить реализацию <code class="inline">DemoOne</code> на другой класс. <br></p><p>Предположим, вы хотите использовать реализацию <code class="inline">DemoTwo</code> вместо <code class="inline">DemoOne</code>. В этом случае вам просто нужно внести следующие изменения в сервис-провайдер <code class="inline">EnvatoCustomServiceProvider.php</code>.</p><p>Найдите следующую строку:</p><pre class="brush: php noskimlinks noskimwords">use App\Library\Services\DemoOne;</pre><p>И замените ее на:</p><pre class="brush: php noskimlinks noskimwords">use App\Library\Services\DemoTwo;</pre><p>Аналогичным образом найдите это:</p><pre class="brush: php noskimlinks noskimwords">return new DemoOne();</pre><p>Это должно быть заменено на:</p><pre class="brush: php noskimlinks noskimwords">return new DemoTwo();</pre><p>Тот же подход можно использовать, если вы хотите заменить любую основную реализацию своей собственной. И это не только метод bind, который вы могли бы использовать для привязки сервиса к контейнеру; Контейнер Laravel предоставляет различные способы привязки. Пожалуйста, ознакомьтесь с <span>официальной документацией</span> Laravel для полной справки.</p><p>Следующий кандидат - это метод <code class="inline">boot</code>, который можно использовать для расширения функциональности ядра Laravel. В этом методе вы можете получить доступ ко всем службам, которые были зарегистрированы с использованием метода register у сервис провайдеров. В большинстве случаев вы хотите зарегистрировать слушателей событий в этом методе, которые будут срабатывать, когда что-то произойдет.</p><p>Давайте рассмотрим несколько примеров, требующих реализации метода boot.</p><p>Вы хотите добавить свой собственный инструмент проверки поля формы в Laravel.</p><pre class="brush: php noskimlinks noskimwords">public function boot(){    Validator::extend("my_custom_validator", function ($attribute, $value, $parameters, $validator) {        // validation logic goes here...    });}</pre><p>Если вы хотите зарегистрировать компоновщик отображений, то это идеальное место для этого! Фактически, можно сказать, что метод boot часто используется для добавления компоновщиков отображений!</p><pre class="brush: php noskimlinks noskimwords">public function boot(){    View::composer(        "demo", "App\Http\ViewComposers\DemoComposer"    );}</pre><p>Конечно, вам нужно в первую очередь импортировать фасад <code class="inline">Illuminate\Support\Facades\View</code> в своем сервис провайдере.</p><p>На этой же территории вы можете делиться данными и по нескольким представлениям!</p><pre class="brush: php noskimlinks noskimwords">public function boot(){    View::share("key", "value");}</pre><p>Он также может использоваться для определения явных привязок к модели.</p><pre class="brush: php noskimlinks noskimwords">public function boot(){    parent::boot();     Route::model("user", App\User::class);}</pre><p>Это было несколько примеров, чтобы продемонстрировать использование метода boot. Чем больше вы погружаетесь в Laravel, тем больше причин вы найдете для его реализации!</p><p>И вот мы дошли до конца этой статьи. Надеюсь, вам понравились темы, которые в ней обсуждались.</p><h2>Заключение</h2><p>Именно обсуждение сервис провайдеров было главной достопримечательностью этой статьи, хотя мы начали нашу статью с контейнера для сервисов, поскольку это было важным компонентом для понимания работы сервис провайдера.</p><p>После этого мы разработали свой собственный сервис провайдер, а во второй половине статьи мы рассмотрели несколько практических примеров.</p><p>Для тех из вас, кто только начинает работать с Laravel или хочет расширить свои знания, сайт или приложение с расширениями, у нас есть множество вещей, которые вы можете изучать на <span>Envato Market</span>.<br></p><p>Если у вас есть какие-либо вопросы или комментарии, то обязательно оставляйте их в обратной связи ниже!</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Laravel" href="https://norma-studio.github.io/article/220824620-kak-zaregistrirovat-i-ispolzovat-servis-provajdery-laravel" class="tm-article-body__tags-item-link">Laravel</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
39855</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
596</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
