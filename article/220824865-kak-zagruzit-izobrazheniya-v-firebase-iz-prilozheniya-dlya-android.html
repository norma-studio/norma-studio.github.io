
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Как загрузить изображения в Firebase из приложения для Android
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Как загрузить изображения в Firebase из приложения для Android
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Как загрузить изображения в Firebase из приложения для Android
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Как загрузить изображения в Firebase из приложения для Android
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Firebase - это платформа для разработки мобильных и веб-приложений, а Firebase Storage обеспечивает безопасную загрузку файлов и загрузку приложений Firebase. В этом посте вы создадите приложение для Android с возможностью загрузки изображений в хранилище Firebase....">
<meta property="og:description" content="Firebase - это платформа для разработки мобильных и веб-приложений, а Firebase Storage обеспечивает безопасную загрузку файлов и загрузку приложений Firebase. В этом посте вы создадите приложение для Android с возможностью загрузки изображений в хранилище Firebase....">
<meta name="twitter:description" content="Firebase - это платформа для разработки мобильных и веб-приложений, а Firebase Storage обеспечивает безопасную загрузку файлов и загрузку приложений Firebase. В этом посте вы создадите приложение для Android с возможностью загрузки изображений в хранилище Firebase....">
<meta property="aiturec:description" content="Firebase - это платформа для разработки мобильных и веб-приложений, а Firebase Storage обеспечивает безопасную загрузку файлов и загрузку приложений Firebase. В этом посте вы создадите приложение для Android с возможностью загрузки изображений в хранилище Firebase....">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1846/posts/29934/image/rsz_1.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1846/posts/29934/image/rsz_1.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1846/posts/29934/image/rsz_1.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1846/posts/29934/image/rsz_1.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1846/posts/29934/image/rsz_1.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android.html">
<link rel="canonical" href="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android.html">
<meta property="og:url" content="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android.html" title="Как загрузить изображения в Firebase из приложения для Android
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Как загрузить изображения в Firebase из приложения для Android
... | envatomarket.ru | norma-studio.github.io" title="Как загрузить изображения в Firebase из приложения для Android
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64533jfgfsfxcv.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android.html" class="tm-user-info__username" title="
О. Гуськов" aria-label="
О. Гуськов">
О. Гуськов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Как загрузить изображения в Firebase из приложения для Android
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Android SDK" href="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android" class="tm-article-snippet__hubs-item-link"><span>Android SDK</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1846/posts/29934/image/rsz_1.png">
    <meta itemprop="headline name" content="Как загрузить изображения в Firebase из приложения для Android
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Firebase - это платформа для разработки мобильных и веб-приложений, а Firebase Storage обеспечивает безопасную загрузку файлов и загрузку приложений Firebase. В этом посте вы создадите приложение для Android с возможностью загрузки изображений в хранилище Firebase....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Firebase - это платформа для разработки мобильных и веб-приложений, а Firebase Storage обеспечивает безопасную загрузку файлов и загрузку приложений Firebase. В этом посте вы создадите приложение для Android с возможностью загрузки изображений в хранилище Firebase....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



 <p>Firebase - это платформа для разработки мобильных и веб-приложений, а Firebase Storage обеспечивает безопасную загрузку файлов и загрузку приложений Firebase. В этом посте вы создадите приложение для Android с возможностью загрузки изображений в хранилище Firebase.<br></p> <h2>Настройка Firebase</h2> <p>Если у вас еще нет учетной записи Firebase, вы можете создать ее на <span>домашней странице Firebase</span>.</p> <p>Как только ваша учетная запись настроена, перейдите в <span>консоль Firebase</span> и нажмите кнопку «<strong>Добавить проект</strong>», чтобы добавить новый проект.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1846/posts/29934/image/rsz_1.png" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"></figure><p>Введите данные своего проекта и нажмите кнопку «<strong>Создать проект</strong>», когда закончите. На следующей странице нажмите ссылку <strong>Добавить Firebase в приложение для Android</strong>.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=638/uploads/users/1846/posts/29934/image/rsz_1rsz_2.png" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"></figure><p>Введите имя своего приложения. Мой пакет приложений - <strong>com.tutsplus.code.android.tutsplusupload</strong>. Обратите внимание, что имя пакета содержит имена с уникальной строкой, которая идентифицирует вас или вашу компанию. Легкий способ найти это - открыть файл <code class="inline">MainActivity</code> и скопировать имя пакета сверху.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=698/uploads/users/1846/posts/29934/image/3.png" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"></figure><p>По завершении нажмите «<strong>Зарегистрировать приложение</strong>». На следующей странице вам будет предоставлен <strong>google-services.json</strong> для загрузки на ваш компьютер. Скопируйте и вставьте этот файл в папку приложения вашего приложения. (Путь должен быть чем-то вроде <strong>TutsplusUpload/app</strong>.)</p> <h2>Установить разрешения для Firebase</h2> <p>Чтобы позволить вашему приложению доступ к Firebase Storage, вам необходимо настроить разрешения в консоли Firebase. На консоли нажмите « <strong>Storage</strong>», а затем нажмите « <strong>Rules</strong>».</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/1846/posts/29934/image/rsz_14.png" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"></figure><p>Вставьте правило ниже и опубликуйте. <br></p> <pre class="brush: plain noskimlinks noskimwords">service firebase.storage {   match /b/{bucket}/o {     match /{allPaths=**} {       allow read, write: if true;     }   } }</pre> <p>Это позволит читать и записывать доступ к вашему хранилищу Firebase.</p> <h2>Создаем приложение</h2> <p>Откройте Android Studio и создайте новый проект. Вы можете назвать свой проект тем, что хотите. Я назвал мой <strong>TutsplusUpload</strong>.</p> <p>Прежде чем продолжить, вам нужно добавить несколько зависимостей. На левой панели Android Studio нажмите «<strong>Сценарии Gradle</strong>».</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/769/posts/29934/image/5.jpg" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"></figure><p>Откройте <strong>build.gradle</strong> (<strong>Project: TutsplusUpload</strong>) и добавьте эту строку кода в блок зависимостей.</p> <pre class="brush: java noskimlinks noskimwords">  classpath "com.google.gms:google-services:3.0.0"</pre> <p>Затем откройте <strong>build.gradle</strong> (<strong>Module: app</strong>), чтобы добавить зависимости для Firebase. Они также входят в блок зависимостей. </p> <pre class="brush: java noskimlinks noskimwords">  compile "com.google.firebase:firebase-storage:9.2.1"   compile "com.google.firebase:firebase-auth:9.2.1"</pre> <p>Наконец, вне блока зависимостей добавьте плагин для <strong>Google Services</strong>.</p> <pre class="brush: java noskimlinks noskimwords">  apply plugin: "com.google.gms.google-services"</pre> <p>Сохраните, когда закончите, и он должен синхронизироваться.</p> <h2>Настройка макета <code class="inline">MainActivity</code></h2> <p>Для приложения потребуется один макет действия. Вам понадобятся две кнопки: одна для выбора изображения с вашего устройства, а другая для загрузки выбранного изображения. После выбора изображения, которое вы хотите загрузить, изображение будет отображаться в макете. Другими словами, изображение не будет установлено из макета, а из активности.</p> <p>В макете <code class="inline">MainActivity</code> вы будете использовать два макета - вложение линейного макета в относительный макет. Начните с добавления кода для вашей относительной компоновки.</p> <pre class="brush: xml noskimlinks noskimwords">&lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;RelativeLayout xmlns:android="https://schemas.android.com/apk/res/android"     xmlns:tools="http://schemas.android.com/tools"     android:layout_width="match_parent"     android:layout_height="match_parent"     android:padding="16dp"     tools:context="com.tutsplus.code.android.tutsplusupload.MainActivity"&gt;  &lt;/RelativeLayout&gt;</pre> <p><code class="inline">RelativeLayout</code> занимает все пространство, предоставляемое устройством. <code class="inline">LinearLayout</code> будет жить внутри <code class="inline">RelativeLayout</code> и будет иметь две кнопки. Кнопки должны располагаться рядом друг с другом, поэтому ориентация, используемая для <code class="inline">LinearLayout</code>, будет горизонтальной.</p> <p>Вот код для линейного макета.</p> <pre class="brush: xml noskimlinks noskimwords">    &lt;LinearLayout         android:id="@+id/layout_button"         android:orientation="horizontal"         android:layout_alignParentTop="true"         android:weightSum="2"         android:layout_width="match_parent"         android:layout_height="wrap_content"&gt;          &lt;Button             android:id="@+id/btnChoose"             android:text="Choose"             android:layout_weight="1"             android:layout_width="0dp"             android:layout_height="wrap_content" /&gt;          &lt;Button             android:id="@+id/btnUpload"             android:text="Upload"             android:layout_weight="1"             android:layout_width="0dp"             android:layout_height="wrap_content" /&gt;     &lt;/LinearLayout&gt;</pre> <p>Из приведенного выше кода вы можете видеть, что обе кнопки имеют идентификаторы. Идентификаторы будут использоваться для таргетинга кнопки из основного вида activity, так что при нажатии кнопки происходит инициирование взаимодействия. Вы скоро это увидите.</p> <p>Ниже <code class="inline">LinearLayout</code> добавьте код для <code class="inline">ImageView</code>.</p> <pre class="brush: xml noskimlinks noskimwords">&lt;ImageView         android:id="@+id/imgView"         android:layout_width="match_parent"         android:layout_height="match_parent" /&gt;</pre> <p>Вы также можете видеть, что <code class="inline">ImageView</code> имеет <code class="inline">id</code>; вы будете использовать это, чтобы заполнить макет выбранного изображения. Это будет сделано в основном действии.</p> <h2>Получить <code class="inline">MainActivity</code> Up<strong></strong> </h2> <p>Перейдите в свою <code class="inline">MainActivity</code> и начните с объявления полей. Эти поля будут использоваться для инициализации ваших представлений (кнопок и <code class="inline">ImageView</code>), а также URI, указывающего, откуда будет выбрано изображение. Добавьте это в свою основную activity, над методом <code class="inline">onCreate</code>.</p> <pre class="brush: java noskimlinks noskimwords">  private Button btnChoose, btnUpload;   private ImageView imageView;    private Uri filePath;    private final int PICK_IMAGE_REQUEST = 71;</pre> <p><code class="inline">PICK_IMAGE_REQUEST</code> - это код запроса, определяемый как переменная экземпляра.</p> <p>Теперь вы можете инициализировать свои представления так:</p> <pre class="brush: java noskimlinks noskimwords">    //Initialize Views     btnChoose = (Button) findViewById(R.id.btnChoose);     btnUpload = (Button) findViewById(R.id.btnUpload);     imageView = (ImageView) findViewById(R.id.imgView);</pre> <p>В приведенном выше коде вы создаете новые экземпляры <code class="inline">Button</code> и <code class="inline">ImageView</code>. Экземпляры указывают на кнопки, созданные вами в макете.</p> <p>Вы должны установить прослушиватель, который прослушивает взаимодействие с кнопками. Когда происходит взаимодействие, вы хотите вызвать метод, который инициирует выбор изображения из галереи или загрузку выбранного изображения в Firebase.</p> <p>Под инициализированными представлениями установите слушателя для обеих кнопок. Слушатель выглядит так.</p> <pre class="brush: java noskimlinks noskimwords">    btnChoose.setOnClickListener(new View.OnClickListener() {       @Override       public void onClick(View v) {         chooseImage();       }     });      btnUpload.setOnClickListener(new View.OnClickListener() {       @Override       public void onClick(View v) {         uploadImage();       }     });</pre> <p>Это должно быть в методе <code class="inline">onCreate()</code>. Как я уже упоминал выше, обе кнопки называют другой метод. Кнопка «<strong>Выбрать</strong>» вызывает метод <code class="inline">selectImage()</code>, а кнопка «<strong>Загрузить</strong>» вызывает метод <code class="inline">uploadImage()</code>. Давайте добавим эти методы. Оба метода должны быть реализованы вне метода <code class="inline">onCreate()</code>.</p> <p>Начнем с метода выбора изображения. Вот как это должно выглядеть:</p> <pre class="brush: java noskimlinks noskimwords">  private void chooseImage() {     Intent intent = new Intent();     intent.setType("image/*");     intent.setAction(Intent.ACTION_GET_CONTENT);     startActivityForResult(Intent.createChooser(intent, "Select Picture"), PICK_IMAGE_REQUEST);   }</pre> <p>Когда этот метод вызывается, создается новый экземпляр <code class="inline">Intent</code>. Тип намерения задается как изображение, и его действие настроено на получение некоторого содержимого. Intent создает диалог выбора изображений, который позволяет пользователю просматривать галерею устройства, чтобы выбрать изображение. <code class="inline">startActivityForResult</code> используется для получения результата, который является выбранным изображением. Чтобы отобразить это изображение, вы будете использовать метод, называемый <code class="inline">onActivityResult</code>.</p> <p><code class="inline">onActivityResult</code> получает код запроса, код результата и данные. В этом методе вы проверите, будет ли код запроса равен <code class="inline">PICK_IMAGE_REQUEST</code>, с результатом, равным <code class="inline">RESULT_OK</code>, и доступными данными. Если все это верно, вы хотите отобразить выбранное изображение в <code class="inline">ImageView</code>.</p> <p>Ниже метода <code class="inline">selectImage()</code> добавьте следующий код.</p> <pre class="brush: java noskimlinks noskimwords">  @Override   protected void onActivityResult(int requestCode, int resultCode, Intent data) {     super.onActivityResult(requestCode, resultCode, data);     if(requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == RESULT_OK             &amp;&amp; data != null &amp;&amp; data.getData() != null )     {       filePath = data.getData();       try {         Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);         imageView.setImageBitmap(bitmap);       }       catch (IOException e)       {         e.printStackTrace();       }     }   }</pre> <h2>Загрузка файла в Firebase</h2> <p>Теперь мы можем реализовать метод загрузки изображения в Firebase. Сначала объявите поля, необходимые для Firebase. Сделайте это ниже других полей, которые вы объявили для своего класса.</p> <pre class="brush: java noskimlinks noskimwords">  //Firebase   FirebaseStorage storage;   StorageReference storageReference;</pre> <p><code class="inline">storage</code> будет использоваться для создания экземпляра <code class="inline">FirebaseStorage</code>, а <code class="inline">storageReference</code> укажет на загруженный файл. Внутри метода <code class="inline">onCreate()</code> добавьте код для этого: создайте экземпляр <code class="inline">FirebaseStorage</code> и получите ссылку на хранилище. Ссылки можно рассматривать как указатели на файл в облаке.</p> <pre class="brush: java noskimlinks noskimwords">    storage = FirebaseStorage.getInstance();     storageReference = storage.getReference();</pre> <p>Вот как выглядит метод <code class="inline">uploadImage()</code>.</p> <pre class="brush: java noskimlinks noskimwords">  private void uploadImage() {      if(filePath != null)     {       final ProgressDialog progressDialog = new ProgressDialog(this);       progressDialog.setTitle("Uploading...");       progressDialog.show();        StorageReference ref = storageReference.child("images/"+ UUID.randomUUID().toString());       ref.putFile(filePath)               .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {                 @Override                 public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {                   progressDialog.dismiss();                   Toast.makeText(MainActivity.this, "Uploaded", Toast.LENGTH_SHORT).show();                 }               })               .addOnFailureListener(new OnFailureListener() {                 @Override                 public void onFailure(@NonNull Exception e) {                   progressDialog.dismiss();                   Toast.makeText(MainActivity.this, "Failed "+e.getMessage(), Toast.LENGTH_SHORT).show();                 }               })               .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {                 @Override                 public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {                   double progress = (100.0*taskSnapshot.getBytesTransferred()/taskSnapshot                           .getTotalByteCount());                   progressDialog.setMessage("Uploaded "+(int)progress+"%");                 }               });     }   }</pre> <p>Когда вызывается метод <code class="inline">uploadImage()</code>, инициализируется новый экземпляр <code class="inline">ProgressDialog</code>. Отображается текстовое уведомление, показывающее пользователя, что изображение загружается. Затем ссылка на загруженное изображение, <code class="inline">storageReference.child()</code>, используется для доступа к загруженному файлу в папке <strong>images</strong>. Эта папка создается автоматически при загрузке изображения. Слушатели также добавляются с сообщениями. Эти сообщения отображаются в зависимости от состояния загрузки.</p> <h2>Установить разрешение в приложении</h2> <p>Наконец, вам нужно запросить разрешение, которое будет использовать ваше приложение. Без этого пользователи вашего приложения не смогут просматривать свою галерею устройств и подключаться к Интернету с вашим приложением. Это легко - просто вставьте в файл <strong>AndroidManifest</strong> следующее. Вставьте его чуть выше тега элемента <code class="inline">application</code>.</p> <pre class="brush: xml noskimlinks noskimwords">    &lt;uses-permission android:name="android.permission.INTERNET" /&gt;     &lt;uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" /&gt;</pre> <p>Это запрашивает разрешение на использование Интернета и чтение внешнего хранилища.</p> <h2>Тестирование приложения</h2> <p>Теперь продолжайте и запустите свое приложение! Вы должны иметь возможность выбрать изображение и успешно загрузить его в Firebase. Чтобы подтвердить загруженное изображение, вернитесь на консоль и проверьте часть <strong>Files</strong> в вашем хранилище.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/769/posts/29934/image/app-1.png" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"></figure><h2>Заключение<br> </h2> <p>Firebase предоставляет разработчикам множество преимуществ, а загрузка файлов с помощью хранилища - одно из них. Для загрузки изображений из приложения Android вам необходимо работать с «Действиями и намерениями». Следуя вместе с этим руководством, ваше понимание деятельности и намерений углубилось. Надеюсь, вам понравилось!</p> <p>Ознакомьтесь с некоторыми из наших других статей, чтобы узнать больше о действиях и намерениях, или взгляните на некоторые из наших других руководств по использованию Firebase с Android!</p> <ul class="roundup-block__contents posts--half-width roundup-block--list"> <li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/1846/posts/29335/preview_image/rsz_droid.jpg" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Android SDK</div> <div class="roundup-block__content-title">Что такое Android Intent?</div> <div class="roundup-block__author">Chinedu Izuchukwu</div></span></li> <li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/769/posts/29518/preview_image/android-preview@2x.jpg" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Android SDK</div> <div class="roundup-block__content-title">Каков жизненный цикл Android-активности?</div> <div class="roundup-block__author">Chinedu Izuchukwu</div></span></li> <li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/798/posts/27376/preview_image/firebase@2x.png" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Android SDK</div> <div class="roundup-block__content-title">Firebase для Android: хранилище файлов</div> <div class="roundup-block__author">Пол Требилкокс-Руис</div></span></li> <li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/769/posts/27397/preview_image/spirit-firebase@2x.jpg" alt="Как загрузить изображения в Firebase из приложения для Android..." title="Как загрузить изображения в Firebase из приложения для Android..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Android SDK</div> <div class="roundup-block__content-title">Как создать приложение для Android-чата с использованием Firebase</div> <div class="roundup-block__author">Ашраф Хатибелагал</div></span></li> </ul> <p></p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Android SDK" href="https://norma-studio.github.io/article/220824865-kak-zagruzit-izobrazheniya-v-firebase-iz-prilozheniya-dlya-android" class="tm-article-body__tags-item-link">Android SDK</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
35248</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
392</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
