
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Как написать свои собственные пакеты Python... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Как написать свои собственные пакеты Python... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Как написать свои собственные пакеты Python... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Как написать свои собственные пакеты Python... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Python - замечательный язык программирования. Одной из самых слабых его сторон является пакеты. Это общеизвестный факт в сообществе. Установка, импорт, использование и создание пакетов улучшилась с годами, но она по-прежнему не соответствует новым языкам, таким как Go и Rust, которые могут многому научиться из-за проблем Python и других более зрелы...">
<meta property="og:description" content="Python - замечательный язык программирования. Одной из самых слабых его сторон является пакеты. Это общеизвестный факт в сообществе. Установка, импорт, использование и создание пакетов улучшилась с годами, но она по-прежнему не соответствует новым языкам, таким как Go и Rust, которые могут многому научиться из-за проблем Python и других более зрелы...">
<meta name="twitter:description" content="Python - замечательный язык программирования. Одной из самых слабых его сторон является пакеты. Это общеизвестный факт в сообществе. Установка, импорт, использование и создание пакетов улучшилась с годами, но она по-прежнему не соответствует новым языкам, таким как Go и Rust, которые могут многому научиться из-за проблем Python и других более зрелы...">
<meta property="aiturec:description" content="Python - замечательный язык программирования. Одной из самых слабых его сторон является пакеты. Это общеизвестный факт в сообществе. Установка, импорт, использование и создание пакетов улучшилась с годами, но она по-прежнему не соответствует новым языкам, таким как Go и Rust, которые могут многому научиться из-за проблем Python и других более зрелы...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python.html" title="Как написать свои собственные пакеты Python... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Как написать свои собственные пакеты Python... | envatomarket.ru | norma-studio.github.io" title="Как написать свои собственные пакеты Python... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/45343254534.jpg" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python.html" class="tm-user-info__username" title="
С. Баранов" aria-label="
С. Баранов">
С. Баранов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Как написать свои собственные пакеты Python...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Python" href="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python" class="tm-article-snippet__hubs-item-link"><span>Python</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
    <meta itemprop="headline name" content="Как написать свои собственные пакеты Python... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Python - замечательный язык программирования. Одной из самых слабых его сторон является пакеты. Это общеизвестный факт в сообществе. Установка, импорт, использование и создание пакетов улучшилась с годами, но она по-прежнему не соответствует новым языкам, таким как Go и Rust, которые могут многому научиться из-за проблем Python и других более зрелы...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Python - замечательный язык программирования. Одной из самых слабых его сторон является пакеты. Это общеизвестный факт в сообществе. Установка, импорт, использование и создание пакетов улучшилась с годами, но она по-прежнему не соответствует новым языкам, таким как Go и Rust, которые могут многому научиться из-за проблем Python и других более зрелы...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<h2>Обзор</h2><p>Python - замечательный язык программирования. Одной из самых слабых его сторон является пакеты. Это общеизвестный факт в сообществе. Установка, импорт, использование и создание пакетов улучшилась с годами, но она по-прежнему не соответствует новым языкам, таким как Go и Rust, которые могут многому научиться из-за проблем Python и других более зрелых языков. </p><p>В этом уроке вы узнаете все, что вам нужно знать, чтобы создавать и делиться своими собственными пакетами. Для общей информации о пакетах Python ознакомьтесь с разделом «<span>Как использовать пакеты Python</span>».</p><h2>Упаковка проекта</h2><p>Упаковка проекта - это процесс, с помощью которого вы берете надежно согласованный набор модулей Python и, возможно, других файлов и помещаете их в структуру, которую можно легко использовать. Существуют различные вещи, которые вы должны учитывать, такие как зависимости от других пакетов, внутренняя структура (подпакеты), управление версиями, целевая аудитория и форма пакета (исходный код и/или двоичный файл).</p><h3>Пример</h3><p>Начнем с быстрого примера. Пакет <span>conman</span> представляет собой пакет для управления конфигурацией. Он поддерживает несколько форматов файлов, а также распределенную конфигурацию с помощью <span>etcd</span>.</p><p>Содержимое пакета обычно хранится в одной директории (хотя обычно для разделения подпакетов в нескольких каталогах), а иногда, как и в этом случае, в собственном репозитории git. </p><p>Корневой каталог содержит различные файлы конфигурации (<code class="inline">setup.py</code> является обязательным и наиболее важным), а сам код пакета обычно находится в подкаталоге, имя которого является именем пакета и в идеале является каталогом тестов. Вот как это выглядит для «conman»:</p><pre class="brush: bash noskimlinks noskimwords">&gt; tree.├── LICENSE├── MANIFEST.in├── README.md├── conman│   ├── __init__.py│   ├── __pycache__│   ├── conman_base.py│   ├── conman_etcd.py│   └── conman_file.py├── requirements.txt├── setup.cfg├── setup.py├── test-requirements.txt├── tests│   ├── __pycache__│   ├── conman_etcd_test.py│   ├── conman_file_test.py│   └── etcd_test_util.py└── tox.ini</pre><p>Давайте быстро заглянем в файл setup.py. Он импортирует две функции из пакета <span>setuptools</span>: <code class="inline">setup()</code> и <code class="inline">find_packages()</code>. Затем он вызывает функцию <code class="inline">setup()</code> и использует <code class="inline">find_packages()</code> для одного из параметров.</p><pre class="brush: python noskimlinks noskimwords">from setuptools import setup, find_packagessetup(name="conman",      version="0.3",      url="https://github.com/the-gigi/conman",      license="MIT",      author="Gigi Sayfan",      author_email="the.gigi@gmail.com",      description="Manage configuration files",      packages=find_packages(exclude=["tests"]),      long_description=open("README.md").read(),      zip_safe=False,      setup_requires=["nose&gt;=1.0"],      test_suite="nose.collector")</pre><p>Это довольно нормально. Хотя файл <code class="inline">setup.py</code> является обычным файлом Python, и вы можете делать все, что хотите, его основное задание - вызвать функцию <code class="inline">setup()</code> с соответствующими параметрами, поскольку он будет запускаться различными инструментами стандартным способом при установке вашего пакета. Я расскажу подробности в следующем разделе.</p><h2>Файлы конфигурации</h2><p>В дополнение к <code class="inline">setup.py</code> есть еще несколько дополнительных файлов конфигурации, которые могут отображаться здесь и обслуживать различные цели.</p><h3>Setup.py</h3><p>Функция <code class="inline">setup()</code> принимает большое количество именованных аргументов для управления многими аспектами установки пакета, а также для запуска различных команд. Многие аргументы указывают метаданные, используемые для поиска и фильтрации при загрузке вашего пакета в репозиторий.</p><ul><li>name: имя вашего пакета (и как оно будет указано в PYPI)</li> <li>version: это важно для поддержания правильного управления зависимостями</li> <li>url: URL вашего пакета, обычно GitHub или URL-адрес readthedocs</li> <li>packages: список подпакетов, которые необходимо включить;  здесь помогает <code class="inline">find_packages()</code></li> <li>setup_requires: здесь вы указываете зависимости</li> <li>test_suite: какой инструмент запускается во время тестирования</li> </ul><p><code class="inline">long_description</code> устанавливается здесь на содержимое файла <code class="inline">README.md</code>, что является наилучшей практикой для использования одного источника правды.</p><h3>setup.cfg</h3><p>Файл setup.py также поддерживает интерфейс командной строки для запуска различных команд. Например, чтобы запустить модульные тесты, вы можете ввести: <code class="inline">python setup.py test</code></p><pre class="brush: bash noskimlinks noskimwords">running testrunning egg_infowriting conman.egg-info/PKG-INFOwriting top-level names to conman.egg-info/top_level.txtwriting dependency_links to conman.egg-info/dependency_links.txtreading manifest file "conman.egg-info/SOURCES.txt"reading manifest template "MANIFEST.in"writing manifest file "conman.egg-info/SOURCES.txt"running build_exttest_add_bad_key (conman_etcd_test.ConManEtcdTest) ... oktest_add_good_key (conman_etcd_test.ConManEtcdTest) ... oktest_dictionary_access (conman_etcd_test.ConManEtcdTest) ... oktest_initialization (conman_etcd_test.ConManEtcdTest) ... oktest_refresh (conman_etcd_test.ConManEtcdTest) ... oktest_add_config_file_from_env_var (conman_file_test.ConmanFileTest) ... oktest_add_config_file_simple_guess_file_type (conman_file_test.ConmanFileTest) ... oktest_add_config_file_simple_unknown_wrong_file_type (conman_file_test.ConmanFileTest) ... oktest_add_config_file_simple_with_file_type (conman_file_test.ConmanFileTest) ... oktest_add_config_file_simple_wrong_file_type (conman_file_test.ConmanFileTest) ... oktest_add_config_file_with_base_dir (conman_file_test.ConmanFileTest) ... oktest_dictionary_access (conman_file_test.ConmanFileTest) ... oktest_guess_file_type (conman_file_test.ConmanFileTest) ... oktest_init_no_files (conman_file_test.ConmanFileTest) ... oktest_init_some_bad_files (conman_file_test.ConmanFileTest) ... oktest_init_some_good_files (conman_file_test.ConmanFileTest) ... ok----------------------------------------------------------------------Ran 16 tests in 0.160sOK</pre><p>Файл setup.cfg является файлом формата ini, который может содержать параметры по умолчанию для команд, которые вы передаете <code class="inline">setup.py</code>. Здесь setup.cfg содержит некоторые опции для <code class="inline">nosetests</code> (наш тестовый раннер):</p><pre class="brush: plain noskimlinks noskimwords">[nosetests]verbose=1nocapture=1</pre><h3>MANIFEST.in</h3><p>Этот файл содержит файлы, которые не являются частью внутреннего каталога пакетов, но вы все еще хотите включить его. Обычно это файл <code class="inline">readme</code>, файл лицензи Важным файлом является файл <code class="inline">requirements.txt</code>. Этот файл используется pip для установки других необходимых пакетов.</p><p>Вот файл <code class="inline">MANIFEST.in</code> в conman:</p><pre class="brush: plain noskimlinks noskimwords">include LICENSEinclude README.mdinclude requirements.txt</pre><h3>Зависимости</h3><p>Вы можете указать зависимости как в разделе <code class="inline">install_requires</code> файла <code class="inline">setup.py</code>, так и в файле <code class="inline">requirements.txt</code>. Pip установит автоматически зависимости от <code class="inline">install_requires</code>, но не из файла <code class="inline">requirements.txt</code>. Чтобы установить эти требования, вам нужно будет указать его явно при запуске <code class="inline">pip install -r requirements.txt</code>.</p><p>Параметр <code class="inline">install_requires</code> предназначен для указания минимальных и более абстрактных требований на основном уровне версии. Файл requirements.txt предназначен для более конкретных требований, часто с привязкой к второстепенным версиям.</p><p>Вот файл требований conman. Вы можете видеть, что все версии зафиксированы, что означает, что это может негативно повлиять, если один из этих пакетов обновится и внесет изменения, которые ломают conman.</p><pre class="brush: plain noskimlinks noskimwords">PyYAML==3.11python-etcd==0.4.3urllib3==1.7pyOpenSSL==0.15.1psutil==4.0.0six==1.7.3</pre><p>Пиннинг дает вам предсказуемость и спокойствие. Это особенно важно, если многие люди устанавливают ваш пакет в разное время. Без закрепления каждый человек получит различное сочетание версий зависимостей на основе того, когда они его установили. Недостатком пиннинга является то, что если вы не справляетесь с развитием зависимостей, вы можете застрять на старой, плохо исполняющейся и даже уязвимой версии некоторой зависимости.</p><p>Я изначально написал conman в 2014 году и не обращал на него особого внимания. Теперь для этого урока я обновил все, и для почти каждой зависимости были некоторые существенные улучшения.</p><h2>Распределения</h2><p>Вы можете создать дистрибутив источника или бинарный дистрибутив. Я расскажу об обоих.</p><h3>Распределение источников</h3><p>Вы создаете исходный дистрибутив с помощью команды: <code class="inline">python setup.py sdist</code>. Вот вывод для conman:</p><pre class="brush: bash noskimlinks noskimwords">&gt; python setup.py sdistrunning sdistrunning egg_infowriting conman.egg-info/PKG-INFOwriting top-level names to conman.egg-info/top_level.txtwriting dependency_links to conman.egg-info/dependency_links.txtreading manifest file "conman.egg-info/SOURCES.txt"reading manifest template "MANIFEST.in"writing manifest file "conman.egg-info/SOURCES.txt"warning: sdist: standard file not found: should have one of README, README.rst, README.txtrunning checkcreating conman-0.3creating conman-0.3/conmancreating conman-0.3/conman.egg-infomaking hard links in conman-0.3...hard linking LICENSE -&gt; conman-0.3hard linking MANIFEST.in -&gt; conman-0.3hard linking README.md -&gt; conman-0.3hard linking requirements.txt -&gt; conman-0.3hard linking setup.cfg -&gt; conman-0.3hard linking setup.py -&gt; conman-0.3hard linking conman/__init__.py -&gt; conman-0.3/conmanhard linking conman/conman_base.py -&gt; conman-0.3/conmanhard linking conman/conman_etcd.py -&gt; conman-0.3/conmanhard linking conman/conman_file.py -&gt; conman-0.3/conmanhard linking conman.egg-info/PKG-INFO -&gt; conman-0.3/conman.egg-infohard linking conman.egg-info/SOURCES.txt -&gt; conman-0.3/conman.egg-infohard linking conman.egg-info/dependency_links.txt -&gt; conman-0.3/conman.egg-infohard linking conman.egg-info/not-zip-safe -&gt; conman-0.3/conman.egg-infohard linking conman.egg-info/top_level.txt -&gt; conman-0.3/conman.egg-infocopying setup.cfg -&gt; conman-0.3Writing conman-0.3/setup.cfgcreating distCreating tar archiveremoving "conman-0.3" (and everything under it)</pre><p>Как вы можете видеть, я получил одно предупреждение о том, что отсутствует файл README с одним из стандартных префиксов, потому что мне нравится Markdown, поэтому вместо этого у меня есть «README.md». Кроме этого, все исходные файлы пакета были включены и дополнительные файлы. Затем в каталоге <code class="inline">conman.egg-info</code> была создана куча метаданных. Наконец, создается сжатый tar-архив под названием <code class="inline">conman-0.3.tar.gz</code> и помещается в подкаталог <code class="inline">dist</code>.</p><p>Для установки этого пакета потребуется шаг сборки (хотя это чистый Python). Вы можете установить его с помощью pip, просто передав путь к пакету. Например:</p><pre class="brush: bash noskimlinks noskimwords">pip install dist/conman-0.3.tar.gzProcessing ./dist/conman-0.3.tar.gzInstalling collected packages: conman  Running setup.py install for conman ... doneSuccessfully installed conman-0.3</pre><p>Conman был установлен в site-packages и может быть импортирован как любой другой пакет:</p><pre class="brush: python noskimlinks noskimwords">import conmanconman.__file__"/Users/gigi/.virtualenvs/conman/lib/python2.7/site-packages/conman/__init__.pyc"</pre><h2>Wheels</h2><p>Wheels - относительно новый способ упаковки кода Python и, возможно, C-расширений. Они заменяют формат egg. Существует несколько типов колес: чистые колеса Python, платформы и универсальные колеса. Чистые колеса Python - это пакеты, такие как conman, у которых нет кода расширения C. </p><p>Платформенные колеса имеют код расширения C. Универсальные колеса - это чистые колеса Python, которые совместимы как с Python 2, так и с Python 3 с одинаковой базой кода (они не требуют даже 2to3). Если у вас есть чистый пакет Python и вы хотите, чтобы ваш пакет поддерживал как Python 2, так и Python 3 (становится все более и более важным), вы можете создать единую универсальную сборку вместо одного колеса для Python 2 и одного колеса для Python 3. </p><p>Если в вашем пакете есть код расширения C, вы должны создать колесо платформы для каждой платформы. Огромное преимущество колес, особенно для пакетов с расширениями C, заключается в том, что нет необходимости иметь компилятор и поддерживающие библиотеки, доступные на целевой машине. Колесо уже содержит встроенный пакет. Таким образом, вы знаете, что его гораздо быстрее установить, потому что это буквально просто копия. Люди, которые используют научные библиотеки, такие как Numpy и Pandas, действительно могут это оценить, поскольку установка таких пакетов требует много времени и может быть неудачной, если какая-то библиотека отсутствует или компилятор не настроен должным образом.</p><p>Команда для создания чистых или платформенных колес: <code class="inline">python setup.py bdist_wheel</code>.</p><p><span>Setuptools</span> - движок, который обеспечивает функцию <code class="inline">setup()</code>, будет автоматически обнаруживаться, если требуется чистое или платформенное колесо.</p><pre class="brush: bash noskimlinks noskimwords">running bdist_wheelrunning buildrunning build_pycreating buildcreating build/libcreating build/lib/conmancopying conman/__init__.py -&gt; build/lib/conmancopying conman/conman_base.py -&gt; build/lib/conmancopying conman/conman_etcd.py -&gt; build/lib/conmancopying conman/conman_file.py -&gt; build/lib/conmaninstalling to build/bdist.macosx-10.9-x86_64/wheelrunning installrunning install_libcreating build/bdist.macosx-10.9-x86_64creating build/bdist.macosx-10.9-x86_64/wheelcreating build/bdist.macosx-10.9-x86_64/wheel/conmancopying build/lib/conman/__init__.py -&gt; build/bdist.macosx-10.9-x86_64/wheel/conmancopying build/lib/conman/conman_base.py -&gt; build/bdist.macosx-10.9-x86_64/wheel/conmancopying build/lib/conman/conman_etcd.py -&gt; build/bdist.macosx-10.9-x86_64/wheel/conmancopying build/lib/conman/conman_file.py -&gt; build/bdist.macosx-10.9-x86_64/wheel/conmanrunning install_egg_inforunning egg_infocreating conman.egg-infowriting conman.egg-info/PKG-INFOwriting top-level names to conman.egg-info/top_level.txtwriting dependency_links to conman.egg-info/dependency_links.txtwriting manifest file "conman.egg-info/SOURCES.txt"reading manifest file "conman.egg-info/SOURCES.txt"reading manifest template "MANIFEST.in"writing manifest file "conman.egg-info/SOURCES.txt"Copying conman.egg-info to build/bdist.macosx-10.9-x86_64/wheel/conman-0.3-py2.7.egg-inforunning install_scriptscreating build/bdist.macosx-10.9-x86_64/wheel/conman-0.3.dist-info/WHEEL<br></pre><p>При проверке каталога <code class="inline">dist</code> вы можете увидеть, что было создано чистое колесо Python:</p><pre class="brush: bash noskimlinks noskimwords">ls -la distdist/total 32-rw-r--r--  1 gigi  staff   5.5K Feb 29 07:57 conman-0.3-py2-none-any.whl-rw-r--r--  1 gigi  staff   4.4K Feb 28 23:33 conman-0.3.tar.gz</pre><p>Название «conman-0.3-py2-none-any.whl» имеет несколько компонентов: имя пакета, версию пакета, версию Python, версию платформы и, наконец, расширение «whl».</p><p>Чтобы создавать универсальные пакеты, вы просто добавляете <code class="inline">--universal</code>, как в <code class="inline">python setup.py bdist_wheel --universal</code>.</p><p>Полученное колесо называется "conman-0.3-py2.py3-none-any.whl".</p><p>Обратите внимание, что вы несете ответственность за то, чтобы ваш код действительно работал как с Python 2, так и с Python 3, если вы создаете универсальный пакет.</p><h2>Заключение</h2><p>Написание собственных пакетов Python требует использования большого количества инструментов, определения большого количества метаданных и тщательного анализа ваших зависимостей и целевой аудитории. Но награда велика. </p><p>Если вы правильно напишите полезный код и упакуете его, люди смогут легко его установить и извлечь из него выгоду.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Python" href="https://norma-studio.github.io/article5/220825188-kak-napisat-svoi-sobstvennye-pakety-python" class="tm-article-body__tags-item-link">Python</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
32153</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
420</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
