
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Начинаем работать с Firebase на Android
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Начинаем работать с Firebase на Android
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Начинаем работать с Firebase на Android
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Начинаем работать с Firebase на Android
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Для мобильных приложений необходим сервер для выполнения таких задач, как проверка подлинности пользователей и синхронизация пользовательских данных на нескольких устройствах. Однако для создания такого сервера требуется набор навыков, которого не хватает большинству независимых разработчиков приложений. К счастью, есть несколько back-end как серви...">
<meta property="og:description" content="Для мобильных приложений необходим сервер для выполнения таких задач, как проверка подлинности пользователей и синхронизация пользовательских данных на нескольких устройствах. Однако для создания такого сервера требуется набор навыков, которого не хватает большинству независимых разработчиков приложений. К счастью, есть несколько back-end как серви...">
<meta name="twitter:description" content="Для мобильных приложений необходим сервер для выполнения таких задач, как проверка подлинности пользователей и синхронизация пользовательских данных на нескольких устройствах. Однако для создания такого сервера требуется набор навыков, которого не хватает большинству независимых разработчиков приложений. К счастью, есть несколько back-end как серви...">
<meta property="aiturec:description" content="Для мобильных приложений необходим сервер для выполнения таких задач, как проверка подлинности пользователей и синхронизация пользовательских данных на нескольких устройствах. Однако для создания такого сервера требуется набор навыков, которого не хватает большинству независимых разработчиков приложений. К счастью, есть несколько back-end как серви...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/802/preview_image/firebase-1.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/802/preview_image/firebase-1.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/802/preview_image/firebase-1.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/802/preview_image/firebase-1.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/802/preview_image/firebase-1.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android.html" title="Начинаем работать с Firebase на Android
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Начинаем работать с Firebase на Android
... | envatomarket.ru | norma-studio.github.io" title="Начинаем работать с Firebase на Android
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/636536435.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android.html" class="tm-user-info__username" title="
С. Торгашев" aria-label="
С. Торгашев">
С. Торгашев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Начинаем работать с Firebase на Android
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Android SDK" href="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android" class="tm-article-snippet__hubs-item-link"><span>Android SDK</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/802/preview_image/firebase-1.png">
    <meta itemprop="headline name" content="Начинаем работать с Firebase на Android
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Для мобильных приложений необходим сервер для выполнения таких задач, как проверка подлинности пользователей и синхронизация пользовательских данных на нескольких устройствах. Однако для создания такого сервера требуется набор навыков, которого не хватает большинству независимых разработчиков приложений. К счастью, есть несколько back-end как серви...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Для мобильных приложений необходим сервер для выполнения таких задач, как проверка подлинности пользователей и синхронизация пользовательских данных на нескольких устройствах. Однако для создания такого сервера требуется набор навыков, которого не хватает большинству независимых разработчиков приложений. К счастью, есть несколько back-end как серви...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



 <p>Для мобильных приложений необходим сервер для выполнения таких задач, как проверка подлинности пользователей и синхронизация пользовательских данных на нескольких устройствах. Однако для создания такого сервера требуется набор навыков, которого не хватает большинству независимых разработчиков приложений. К счастью, есть несколько back-end как сервисных платформ, которые часто называют BaaS, которые вы можете использовать сегодня. <span>Firebase</span> от Google - одна из таких платформ.<br></p> <p>Firebase бесплатно предоставляет такие важные услуги, как аналитика, отчеты о сбоях, аутентификация пользователей и облачные сообщения. Его услуги freemium включают в себя базу данных NoSQL в режиме реального времени, хостинг файлов и статический хостинг веб-сайтов.<br></p> <p>В этом уроке я покажу вам, как добавить аутентификацию пользователей, аналитику и удаленное хранилище данных в приложение Android с помощью Firebase.<br></p> <h2>Предпосылки<br> </h2> <p>Чтобы следовать материалу, вам понадобятся:<br></p> <ul><li>Android Studio <span>2.2 RC</span>2 или выше</li></ul> <ul class="roundup-block__contents posts--half-width roundup-block--list"> <li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/802/preview_image/firebase-1.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"><div class="roundup-block__primary-category topic-code">JavaScript</div> <div class="roundup-block__content-title">Используем Firebase в качестве Back-End</div> <div class="roundup-block__author">Реджинальд Доусон</div></span></li> <li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/611/preview_image/ionic-1.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Мобильное приложение</div> <div class="roundup-block__content-title">Мобильные приложения с Ionic и Firebase</div> <div class="roundup-block__author">Реджинальд Доусон</div></span></li> </ul> <h2> <span class="sectionnum">1.</span> Использование Firebase Analytics</h2> <p>Firebase Analytics является одним из самых популярных решений для аналитики мобильных приложений, доступных сегодня. Используя его, вы можете получить точное представление о том, кто ваши пользователи и как они используют ваше приложение.<br></p> <h3>Шаг 1: Настройка Firebase Analytics<br> </h3> <p>В последних версиях Android Studio есть встроенная поддержка Firebase Analytics. Это означает, что вы можете добавить Firebase Analytics в свой проект, не покидая Android Studio.<br></p> <p>Чтобы начать интеграцию Firebase Analytics с вашим проектом, нажмите<strong> «Сервис»&gt; «Firebase»</strong>. Вам будет предоставлено следующее окно <strong>помощника</strong>:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/362/posts/27248/image/p1.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"></figure><p>Нажмите «<strong>Аналитика</strong>», а затем «<strong>Зарегистрировать событие Analytics</strong>».<br></p> <p>Теперь вы должны связать свой проект Android Studio с проектом Firebase. Поэтому нажмите кнопку «<strong>Подключиться к Firebase</strong>».</p> <p>В появившемся диалоговом окне вы сможете увидеть все существующие проекты Firebase. Вы можете выбрать один из них или выбрать новый проект. На данный момент я предлагаю вам выбрать вариант «<strong>Создать новый проект Firebase</strong>» и дать уникальное имя проекту.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/362/posts/27248/image/p21.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"></figure><p>После нажатия кнопки «<strong>Подключиться к Firebase</strong>», которая находится внутри диалогового окна, Android Studio автоматически выполнит все необходимые изменения конфигурации, такие как создание файла <strong>google-services.json</strong> и загрузка SHA1.<br></p> <p>Теперь вы можете нажать кнопку <strong>Добавить Google Analytics</strong>, чтобы добавить плагин Firebase и зависимость Firebase Core к вашему проекту. Android Studio покажет вам точные изменения, которые будут внесены в файлы <strong>build.gradle</strong>.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/362/posts/27248/image/p3.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"></figure><p>Нажмите «<strong>Принять изменения</strong>», чтобы завершить настройку.<br></p> <h3>Шаг 2: Создание событий Analytics<br> </h3> <p>После того, как вы настроили Firebase Analytics для своего приложения, вам не нужно писать какой-либо дополнительный код, если вас устраивают только автоматически созданные события аналитики, такие как пользователь, открывающий ваше приложение в первый раз, использование приложения дольше чем 10 секунд, совершение покупки в приложении или удаление приложения. Таким образом, вы можете запустить приложение сейчас - на эмуляторе или на реальном устройстве - и в течение следующих 24 часов вы сможете увидеть журналы аналитики в <span>консоли Firebase</span>.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/362/posts/27248/image/p4.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"></figure><p>Если вы хотите более внимательно проанализировать поведение своих пользователей, вы можете создавать собственные события аналитики вручную, используя метод <code class="inline">logEvent()</code> класса <code class="inline">FirebaseAnalytics</code>. Метод ожидает два параметра: строку, определяющую имя настраиваемого события, и <code class="inline">Bundle</code>, содержащий сведения о событии в виде пар ключ-значение.<br></p> <p>Например, если вы хотите генерировать событие с именем <strong>my_custom_event</strong> каждый раз, когда пользователь нажимает на определенную кнопку, вам нужно добавить следующий код в обработчик кликов кнопки:</p> <pre class="brush: java noskimlinks noskimwords">// Create an instance of FirebaseAnalytics FirebaseAnalytics fa = FirebaseAnalytics.getInstance(this);  // Create a Bundle containing information about // the analytics event         Bundle eventDetails = new Bundle(); eventDetails.putString("my_message", "Clicked that special button");  // Log the event fa.logEvent("my_custom_event", eventDetails);</pre> <p>По большей части пользовательские события неотличимы от автоматически собранных событий в консоли Firebase.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/362/posts/27248/image/p5.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"></figure><p>Обратите внимание, что имена событий чувствительны к регистру. Поэтому рекомендуется определять все имена событий как постоянные строки. Кроме того, вы можете использовать предопределенные константы имен событий, доступные в классе <code class="inline">FirebaseAnalytics.Event</code>.<br></p> <h2> <span class="sectionnum">2.</span> Использование Firebase Auth</h2> <p>Пользовательская аутентификация является важным требованием для большинства приложений Android сегодня. Имея возможность надежно аутентифицировать своих пользователей и, таким образом, уникально идентифицировать их, вы можете предложить им индивидуальный опыт на основе их интересов и предпочтений. Вы также можете убедиться, что у них нет проблем с доступом к своим личным данным при использовании вашего приложения с нескольких устройств.<br></p> <p>Firebase Auth позволяет вам аутентифицировать пользователей, используя различные механизмы входа. В этом уроке я покажу вам, как разрешить пользователям входить в ваше приложение, используя их адреса электронной почты и пароли.<br></p> <h3>Шаг 1: Настройте свой проект<br> </h3> <p>Чтобы иметь возможность использовать Firebase Auth в вашем проекте Android Studio, вы должны добавить следующую <code class="inline">compile</code> зависимость к файлу <code class="inline">build.gradle</code> модуля <strong>app</strong>.</p> <pre class="brush: groovy noskimlinks noskimwords">compile "com.google.firebase:firebase-auth:9.4.0"</pre> <h3>Шаг 2. Включение проверки подлинности на основе паролей<br> </h3> <p>По умолчанию Firebase не разрешает аутентификацию пользователя. Таким образом, вы должны вручную включить аутентификацию пользователя на основе пароля в консоли Firebase. Для этого перейдите в раздел <strong>Auth</strong> и нажмите кнопку «<strong>Настройка входа в систему</strong>». Теперь вы увидите список всех доступных входных провайдеров.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/362/posts/27248/image/p6.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"></figure><p>Выберите «<strong>Электронная почта / Пароль</strong>», включите его и нажмите «<strong>Сохранить</strong>».<br></p> <h3>Шаг 3: Поддержка регистрации пользователей<br> </h3> <p>При аутентификации на основе пароля новые пользователи должны регистрироваться, предоставляя уникальный адрес электронной почты и пароль. Чтобы добавить эту функциональность в свое приложение, вы можете использовать метод <code class="inline">createUserWithEmailAndPassword()</code> класса <code class="inline">FirebaseAuth</code>. Как следует из названия, метод ожидает, что в качестве аргументов будет указан адрес электронной почты и пароль.<br></p> <p>Чтобы определить результат метода <code class="inline">createUserWithEmailAndPassword()</code>, вы должны добавить к нему <code class="inline">OnCompleteListener</code>, используя метод <code class="inline">addOnCompleteListener()</code>. В следующем фрагменте кода показано, как зарегистрировать нового пользователя, а также сообщить, успешно ли завершен процесс регистрации:</p> <pre class="brush: java noskimlinks noskimwords">FirebaseAuth.getInstance()     .createUserWithEmailAndPassword(emailAddress, password)     .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {         @Override         public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {             if(task.isSuccessful()) {                 // User registered successfully             }         }     });</pre> <p>Обратите внимание, что вы несете ответственность за проверку адресов электронной почты и убедитесь, что пользователи используют надежные пароли.<br></p> <p>Вы можете просмотреть адреса электронной почты всех успешно зарегистрированных пользователей на вкладке «<strong>Users</strong>» в разделе <strong>Auth</strong> в консоли Firebase.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/362/posts/27248/image/p7.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"></figure><h3>Шаг 4: Поддержка входа пользователя<br> </h3> <p>После успешной регистрации пользователь будет автоматически залогинен. Пользователь будет залогинен, даже если ваше приложение перезагрузится. Тем не менее, ваше приложение должно включать код, который позволяет пользователям выполнять вход в систему вручную, используя адрес электронной почты и пароль, которые они указали в процессе регистрации.<br></p> <p>Чтобы залогинить пользователя вручную, вы должны использовать метод <code class="inline">signInWithEmailAndPassword()</code> класса <code class="inline">FirebaseAuth</code>. Метод ожидает адрес электронной почты и пароль в качестве его единственных аргументов и возвращает объект <code class="inline">Task&lt;AuthResult&gt;</code>. Добавив к нему <code class="inline">OnCompleteListener</code>, вы можете проверить, был ли вход успешно завершен.<br></p> <p>Чтобы избежать входа за пользователя, который уже вошел, вы должны вызвать метод <code class="inline">signInWithEmailAndPassword()</code>, только если текущий <code class="inline">FirebaseUser</code> имеет значение <code class="inline">NULL</code>.<br></p> <p>В следующем фрагменте кода показано, как залогинить пользователя:</p> <pre class="brush: java noskimlinks noskimwords">FirebaseAuth auth = FirebaseAuth.getInstance(); if (auth.getCurrentUser() != null) {     // Already signed in     // Do nothing } else {     auth.signInWithEmailAndPassword(emailAddress, password)         .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {             @Override             public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {                 if (task.isSuccessful()) {                     // User signed in successfully                 }             }         }); }</pre> <h3>Шаг 5: Поддержка выхода пользователя<br> </h3> <p>Чтобы отписать пользователя, вы можете просто вызвать метод <code class="inline">signOut()</code> класса <code class="inline">FirebaseAuth</code>.</p> <pre class="brush: java noskimlinks noskimwords">FirebaseAuth.getInstance().signOut();</pre> <h2> <span class="sectionnum">3.</span> Использование базы данных Firebase в реальном времени</h2> <p>Одна из самых мощных функций платформы Firebase - это база данных в режиме реального времени: все выполняемые на нем операции записи мгновенно доступны для всех клиентов, которые ее наблюдают. С помощью такой базы данных вы можете создавать приложения, которые позволяют пользователям беспрепятственно переключаться с одного устройства на другое, а также мгновенно взаимодействовать с другими пользователями.<br></p> <h3>Шаг 1: Настройте свой проект<br> </h3> <p>Прежде чем использовать базу данных в режиме реального времени, вам придется добавить следующую <code class="inline">compile</code> зависимость к файлу <code class="inline">build.gradle</code> вашего модуля <strong>app</strong>:</p> <pre class="brush: groovy noskimlinks noskimwords">compile "com.google.firebase:firebase-database:9.4.0"</pre> <h3>Шаг 2: Запись данных<br> </h3> <p>Вы можете представить базу данных в реальном времени как объект JSON. Это означает, что вы можете добавить к нему пары ключ-значение, где ключи всегда являются строками, а значения - это примитивы, массивы или другие объекты JSON.<br></p> <p>Прежде чем писать в базу данных реального времени, вы должны получить ссылку на нее с помощью метода <code class="inline">getInstance()</code> класса <code class="inline">FirebaseDatabase</code>. Затем вы можете получить ссылку на любой путь внутри базы данных с помощью метода <code class="inline">getReference()</code>. Путь может содержать либо один ключ, либо несколько ключей, расположенных иерархически.<br></p> <p>Когда у вас есть <code class="inline">DatabaseReference</code> к пути, вы можете установить его значение с помощью метода <code class="inline">setValue()</code>.<br></p> <p>В следующем фрагменте кода показано, как добавить в базу данных простую пару «ключ-значение»:</p> <pre class="brush: java noskimlinks noskimwords">FirebaseDatabase db = FirebaseDatabase.getInstance(); DatabaseReference ref = db.getReference("message"); // Key ref.setValue("This is a test message"); // Value</pre> <p>Перейдя в раздел «<strong>Database</strong>» консоли Firebase, вы можете просмотреть все данные, находящиеся внутри базы данных в режиме реального времени.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/362/posts/27248/image/p8.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"></figure><h3>Шаг 3: Чтение данных<br> </h3> <p>Чтобы прочитать значение из базы данных в реальном времени, вы должны присоединить асинхронный наблюдатель к связанному ключу или пути. Точнее, вы должны присоединить объект <code class="inline">ValueEventListener</code> к объекту <code class="inline">DatabaseReference</code>, используя метод <code class="inline">addValueEventListener()</code>.<br></p> <p>Метод <code class="inline">onDataChange()</code> <code class="inline">ValueEventListener</code> дает вам доступ к объекту <code class="inline">DataSnapshot</code>, метод <code class="inline">getValue(</code>) может использоваться для получения последнего значения ключа.<br></p> <p>Например, вот как вы можете получить значение, которое мы установили на предыдущем шаге:</p> <pre class="brush: java noskimlinks noskimwords">FirebaseDatabase db = FirebaseDatabase.getInstance(); DatabaseReference ref = db.getReference("message"); // Key  // Attach listener ref.addValueEventListener(new ValueEventListener() {     @Override     public void onDataChange(DataSnapshot dataSnapshot) {         // Retrieve latest value         String message = dataSnapshot.getValue(String.class);             }      @Override     public void onCancelled(DatabaseError databaseError) {         // Error handling     } });</pre> <p>Обратите внимание, что после добавления <code class="inline">ValueEventListener</code> метод <code class="inline">onDataChange()</code> запускается каждый раз, когда изменяется значение, которое оно отслеживает.<br></p> <h2>Заключение<br> </h2> <p>Платформа Firebase устраняет необходимость в создании внутреннего сервера и позволяет сосредоточиться на создании лучших приложений. В этом уроке вы научились использовать его для добавления аналитики, аутентификации пользователей и облачного хранилища данных в реальном времени в свое приложение для Android.<br></p> <p>Чтобы узнать больше о Firebase, вы можете обратиться к <span>официальной документации</span>. Вы также можете ознакомиться с нашим руководством по использованию Firebase Crash Reporting в Android:</p> <ul class="roundup-block__contents posts--half-width roundup-block--list"><li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/posts/27167/preview_image/firebase.png" alt="Начинаем работать с Firebase на Android..." title="Начинаем работать с Firebase на Android..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Android SDK</div> <div class="roundup-block__content-title">Android с нуля: Репорты Firebase</div> <div class="roundup-block__author">Ашраф Хатибелагал</div></span></li></ul> <br>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Android SDK" href="https://norma-studio.github.io/article5/220825139-nachinaem-rabotat-s-firebase-na-android" class="tm-article-body__tags-item-link">Android SDK</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
39796</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
471</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
