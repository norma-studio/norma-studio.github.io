
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Мы все в какой-то мере знакомы с Иллюстратором и его интерфейсом. В нашей ежедневной практике мы используем множество его функций: меню, палитры, плагины и инструменты. Мы используем эти функции в виде пользовательского интерфейса. Через пользовательский интерфейс мы получаем доступ к различным плагинам и скриптам....">
<meta property="og:description" content="Мы все в какой-то мере знакомы с Иллюстратором и его интерфейсом. В нашей ежедневной практике мы используем множество его функций: меню, палитры, плагины и инструменты. Мы используем эти функции в виде пользовательского интерфейса. Через пользовательский интерфейс мы получаем доступ к различным плагинам и скриптам....">
<meta name="twitter:description" content="Мы все в какой-то мере знакомы с Иллюстратором и его интерфейсом. В нашей ежедневной практике мы используем множество его функций: меню, палитры, плагины и инструменты. Мы используем эти функции в виде пользовательского интерфейса. Через пользовательский интерфейс мы получаем доступ к различным плагинам и скриптам....">
<meta property="aiturec:description" content="Мы все в какой-то мере знакомы с Иллюстратором и его интерфейсом. В нашей ежедневной практике мы используем множество его функций: меню, палитры, плагины и инструменты. Мы используем эти функции в виде пользовательского интерфейса. Через пользовательский интерфейс мы получаем доступ к различным плагинам и скриптам....">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/aim.jpg">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/aim.jpg">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/aim.jpg">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/aim.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/aim.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient.html">
<link rel="canonical" href="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient.html">
<meta property="og:url" content="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient.html" title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент... | envatomarket.ru | norma-studio.github.io" title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/543543242.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient.html" class="tm-user-info__username" title="
А. Морозов" aria-label="
А. Морозов">
А. Морозов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Design &amp; Illustration" href="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient" class="tm-article-snippet__hubs-item-link"><span>Design &amp; Illustration</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Scripts" href="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient" class="tm-article-snippet__hubs-item-link"><span>Scripts</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/aim.jpg">
    <meta itemprop="headline name" content="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Мы все в какой-то мере знакомы с Иллюстратором и его интерфейсом. В нашей ежедневной практике мы используем множество его функций: меню, палитры, плагины и инструменты. Мы используем эти функции в виде пользовательского интерфейса. Через пользовательский интерфейс мы получаем доступ к различным плагинам и скриптам....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Мы все в какой-то мере знакомы с Иллюстратором и его интерфейсом. В нашей ежедневной практике мы используем множество его функций: меню, палитры, плагины и инструменты. Мы используем эти функции в виде пользовательского интерфейса. Через пользовательский интерфейс мы получаем доступ к различным плагинам и скриптам....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Мы все в какой-то мере знакомы с Иллюстратором и его интерфейсом. В нашей ежедневной практике мы используем множество его функций: меню, палитры, плагины и инструменты. Мы используем эти функции в виде пользовательского интерфейса. Через пользовательский интерфейс мы получаем доступ к различным плагинам и скриптам.</p><p>Проще, мы можем сами написать скрипт, что бы автоматизировать какой либо процесс или, что бы создать какой либо эффект в Иллюстраторе. Посмотрите этот урок, что бы узнать, как это делать. В этом уроке, мы напишем скрипт в Javascript, который будет выполнять преобразование одноцветной заливки в соответствующий градиент.</p> <p></p> <h3>Vector Plus (Теперь Tuts+)</h3> <p>Хотите получить доступ к ресурсу с векторными файлами, к файлам для каждого урока, включая этот? Присоединяйтесь к ресурсу <span>Vector Plus</span> всего за 9$ в месяц.</p> <h3>Информация об Уроке</h3> <ul><li>Используемые программы: Adobe Illustrator CS3 и ExtendedScript Toolkit</li> <li>Уровень подготовки: Средний</li> <li>Приблизительное время на прохождение урока: от 3 до 4 Часов</li> </ul><h3>Назначение Скрипта</h3> <p>Мы хотим, что бы этот скрипт выполнял простую задачу. Когда пользователь в Иллюстраторе выбирает какие-то объекты с однотонной заливкой в системе CMYK, и запускает Скрипт, заливка объекта меняется на соответствующую градиентную заливку. Градиент на выходе будет напоминать эффект перекрытия в режиме наложения. Результат вы можете видеть ниже.</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/aim.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>Таким образом, назначение нашего скрипта менять однотонную CMYK заливку на градиент соответствующего цвета от темного к светлому. Это достаточно простая задача, решение которой будет хорошим примером для того, что бы узнать как писать скрипты для Иллюстратора.</p> <h3>Логика и алгоритм</h3> <p>Понятный алгоритм преобразования цвета в градиент от темного к светлому, можно записать за 5 шагов:</p> <ul><li> <strong>Шаг 1</strong>: Взять цвет текущего объекта, то есть currentColor (текущий цвет) = цвету выбранного объекта.</li> <li> <strong>Шаг 2</strong>: Создать новый градиент с двумя узловыми цветами: startColor и endColor.</li> <li> <strong>Шаг 3</strong>: stratColor = currentColor - gShift  - светлая часть нашего градиента, более светлая чем текущий цвет.</li> <li> <strong>Шаг 4</strong>: endColor = currentColor + gShift  - более темная часть нашего градиента.</li> <li> <strong>Шаг 5</strong>: Применить к объекту новый градиент, цвета которого изменяются от startColor до endColor. </li> </ul><p>Здесь, <em>gShift</em> - количественное значение для сдвига по цвету, которое вводится пользователем. Этот алгоритм легче будет понять, если взглянуть на картинки ниже:</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/algorithm.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>Помимо основного алгоритма, мы будем выполнять проверку различных условий для того, чтобы наш скрипт правильно работал. ,Проверочные условия будут рассматриваться на различных этапах этого урока. Прежде чем приступить к самому уроку, давайте пройдемся по некоторым предварительным материалам.</p> <h3>Введение в Написание Скриптов</h3> <p>Для прохождения урока необходимо быть немного знакомым с написанием скриптов и средой в которой они пишутся. Что бы узнать о среде Illustrator"s Scripting Environment, вы можете взглянуть на документацию которая доступна у вас в установочной папке для Иллюстратора: \ Adobe \ Adobe Illustrator CS3 \ Scripting \ Documentation (Прим. переводчика: у вас скорее будет немного другой адрес, проще сделать поиск папки в вашем проводнике. Здесь и далее, названия папок, документации, будут зависеть от версии вашего Иллюстратора, т.е СS3, поменяется, например на CC). Здесь вы найдете документацию с помощью которой вы можете начать работать с JavaScript:</p> <ul><li>Adobe Intro to Scripting.pdf</li> <li>Illustrator CS3 Scripting Guide.pdf</li> <li>Illustrator CS3 JavaScript Reference.pdf</li> <li>JavaScript Tools Guide CS3.pdf</li> </ul><h3>Виды Скрпитов</h3> <p>Есть три скриптовых языка, в которых мы можем писать программы для Иллюстратора. Это: <em>AppleScript, JavaScript</em> и <em>VBScript</em>. Так как JavaScript  поддерживается и в Windows и в Mac OS, мы будем писать наш код на JavaScript. Синтаксис и обозначения очень похожи на стандартный JavaScript. Единственное отличие — в расширении. Для Иллюстратора мы будем  давать расширения JavaScript файлам - .<em>jsx</em>, вместо обычного расширения .<em>js</em>.</p> <h3>Необходимые инструменты</h3> <p>Хотя вы можете писать весь код в вашем любимом текстовом редакторе, предпочтительно использовать для этого <em>Adobe ExtendedScript Toolkit</em>. С помощью этого приложения, мы можем запускать, отлаживать, тестировать и проверять как работает наш код в Иллюстраторе.</p> <p><em>Замечание: В уроке, мы будем писать аббревиатуру для ExtendedScript Toolkit - ESTK.</em></p> <h3>Шаг 1</h3> <p>Откройте Adobe ExtendedScript Toolkit и создайте Новый Файл  JavaScript.  Далее, выберите Adobe Illustrator в выпадающем меню в качестве целевого приложения (target application). Это сообщит ESTK, что мы пишем код для конкретного приложения, то есть для Adobe Illustrator.</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/1.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <h3>Шаг 2 - Напишите Фрагмент Простого Кода</h3> <p>В редакторе, напишите следующие строчки  кода:</p> <pre class="brush: noskimlinks noskimwords">if(app.documents.length &gt; 0)  alert("Documents are available");elsealert("No documents available");</pre> <p>В этом коде, мы проверяем открыт ли какой либо документ в иллюстраторе. Это делается через обращение</p> <p><code>app.documents.length</code>. То есть самый верхний уровень в Adobe Application DOM (DOM от англ. Document Object Model — «объектная модель документа»)) - это объект приложения. Следующий уровень - объект документа, который уже содержит такие объекты как цвета, слои, текст, страницы и так далее. Сохраните этот файл на жесткий диск под названием "test.jsx"/</p> <h3>Шаг 2.1 - Запустите Скрипт</h3> <p>Есть два способа запустить Скрипт:</p> <h4>1. Запустить его из ESTK</h4> <p>Если вы хотите запустить ваш скрипт в ESTK, нажмите кнопку Play, как показано на картинке.</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/2_1_1.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>Это автоматически запустит приложение Adobe Illustrator и выдаст предупреждающее сообщение. Вы можете остановить или прекратить выполнение скрипта, нажав кнопку паузы или кнопку  стоп.</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/2_1_2.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <h4>2. Запустить из Иллюстратора</h4> <p>Что бы запустить скрипт из Иллюстратора, зайдите в Файл &gt; Сценарии &gt; Другой Сценарий (Command + F12) (File &gt; Scripts &gt; Other Scripts) и найдите только, что созданный вами "test.jsx". После того как вы нажмете Открыть, скрипт запустится.</p> <p>И так что мы увидели? Предупреждающее сообщение, "No documents available" (нет доступных документов).</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=438/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/2_1_2_1.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>Теперь, создайте парочку новых документов в Иллюстраторе и запустите скрипт снова. В этот раз вы увидите сообщение: "Documents are available" (документы доступны).</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=438/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/2_1_2_2.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>К этому моменту, мы написали и протестировали небольшой фрагмент кода. Это было сделано в качестве упражнения для разминки, чтобы познакомиться с ESTK и Иллюстратором. Дальше мы начнем работу над нашим скриптом.</p> <h3>Шаг 3 - Структура Кода</h3> <p>Вернемся назад к ESTK и удалим тестовый код, который мы создали на Шаге 2. Теперь, добавьте следующие строки кода в файл "test.jsx":</p> <pre class="brush: noskimlinks noskimwords">/* To make sure there is at least one document available in Illustratorand atleast one object in that document to work upon*/if ( app.documents.length &gt; 0 &amp;&amp; app.activeDocument.pathItems.length &gt; 0) {// To make sure the Document Color Mode is CMYKif(app.activeDocument.documentColorSpace == DocumentColorSpace.CMYK){convertToGrad(); // Call to actual function which will contain all the logic}else{alert("Document Color Space is not CMYK. Change the Document Color Mode to CMYK Mode", "CMYK Document required");}}else{ alert("Either no document is available or the document is empty");}function convertTograd(){//Logic for converting flat color into gradient}</pre> <p>В этом коде, мы делаем предварительную проверку перед запуском нашей основной функции - converToGrad(). То есть, главная функция будет запускаться только в том случае, если удовлетворяются следующие условия:</p> <ol><li>Открыт хотя бы один документ, в котором есть хотя бы один объект, так что мы можем с ним работать.</li> <li>Цветовой схемой документа должна быть CMYK, потому, что алгоритм написан для такой схемы.</li> </ol><h3>Шаг 3.1 - Понимание Сущности DOM</h3> <p><code>app.documents.length</code> возвращает общее количество документов, открытых в Иллюстраторе.</p> <p>Объект <code>activeDocument</code> относится к текущему (активному) документу, в котором вы работаете.</p> <p><code>pathItems</code> ссылается на все объекты <code>pathItem</code> в документе Иллюстратор. Любой графический элемент, как то прямоугольник, эллипс, многоугольник, линия, нарисованные фигуры и т.д. обозначаются, как <code>pathItem</code>; и совокупность этих <code>pathItem</code> обозначаются, как <code>pathItems</code>. Следовательно, <code>app.activeDocument.pathItems.length</code> будет возвращать количество графических объектов, содержащихся в текущем документе.</p> <p>Объект <code>documentColorSpace</code> определяет цветовой режим документа. Мы делаем эту проверку потому, что вся логика в этом скрипте будет основываться на цветовом пространстве CMYK.</p> <p>С основной структурой кода мы закончили. Далее мы пойдем в функцию <code>convertToGrad()</code>.</p> <h3>Шаг 4 - Начало Основного Алгоритма</h3> <p>И прежде всего, согласно нашему основному алгоритму, нам необходимо получить общее количество выбранных элементов. Если ни одного объекта не выбрано, скрипт укажет, что надо выбрать хотя бы один объект. Для этого добавьте следующий код в функцию <code>convertToGrad()</code>:</p> <pre class="brush: noskimlinks noskimwords">function convertToGrad() {var items = selection;var totalSelected = items.length;if(totalSelected &gt; 0){// proceed with the main logic}else{alert("Please select atleast one object");}}//end convertToGrad</pre> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/4.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p><code>var items = selection</code> создает новую переменную <code>items</code> и присваивает ей новое значение. В следующей строке <code>items.length</code> возвращает общее количество выбранных элементов, которое присваивается переменной <code> totalSelected</code>.</p> <h3>Шаг 5 - Доступ к Данным Введенным Пользователем</h3> <p>Что бы преобразовать цвет в градиент, мы запрашиваем у пользователя некоторые величины для Gradient Shift (сдвига) и Gradien Angel (Угол Градиента). Но перед этим, давайте разберемся, что это за значения, и как и на что они влияют.</p> <p><strong>Сдвиг Градиента</strong>: Это числовое значение, на которое мы увеличиваем или уменьшаем текущий цвет. Это ключевой момент нашего алгоритма, что бы изменить однотонный цвет на градиентный.</p> <p>Как Градиентный Сдвиг работает? Что бы понять, как это работает, рассмотрим простой пример объекта с заливкой в цветовом пространстве CMYK со следующими величинами: C=50, M=20, Y=100 и K=30 соответственно. </p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/5_1.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>Далее, мы просим пользователя ввести значение для Градиентного Сдвига. Обозначим эту величину как <code>gShift</code>, и пользователь вводит 10 для <code>gShift</code>.</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/5_2.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>После того, как мы получили значение <code>gShift</code>, мы можем создать два узла градиента для нашего объекта. Первый узел - более светлый. Для него все величины CMYK уменьшаться на величину <code>gShift</code>. В то время как, второй узел - более темный. Для него все величины CMYK увеличатся на величину <code>gShift</code>.</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/5_3.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>Таким образом, градиент от темного к светлому, получается из цвета текущей заливки. Мы также выполним проверку, что бы величины для CMYK лежали в пределах от 0 до 100, так как прибавление или вычитание величины <code>gShift</code>, может вывести величины CMYK за пределы 0 - 100.</p> <p><strong>Угол градиента</strong>: Хотя это не является частью главного алгоритма, мы используем эту функцию для предоставления дополнительной возможности изменить угол полученного градиента. Использование угла градиента будет рассматриваться в в этом уроке позже.</p> <p>Давайте вернемся к нашему коду и добавим запрос пользовательских данных.</p> <h3>Шаг 6</h3> <p>Что бы запросить данные пользователя, запишите следующие сроки в эту <code>if(totalSelected &gt;0)</code>  часть кода:</p> <pre class="brush: noskimlinks noskimwords">if(totalSelected &gt; 0){var gShift = Math.round(prompt("Enter a value for gradient shift","10","Gradient Shift"));if(gShift == null || gShift &lt;=0) gShift=0;if(gShift &gt;=100) gShift =100;var gradAngle = prompt("Vector angle for Gradient","0.0","Gradient Angle")if(gradAngle == null) gradAngle=0;} //endif</pre> <p>В строках кода выше, мы просим пользователя ввести величины для градиентного сдвига и угла градиента. Функция <code>Math.round()</code> округляет введенные величины до целого числа. (<em>Примечание</em>: Вы можете не использовать <code>Math.round()</code>, если хотите разрешить использовать десятичные числа). Значения по умолчанию для <code>gShift</code> и <code>gradAngle</code> установлены "10" и "0.0" соответственно.</p> <p>Заметьте, что мы так же проверяем будет ли значение переменной null или ноль. Значение переменной Null - присваивается, когда пользователь нажал Отмена. Так же мы ограничиваем значение переменной <code>gShift</code> диапазоном от 0 до 100.</p> <p>Раз у нас есть значения для переменных <code>gShift</code> и <code>gradAngle</code>, мы можем перейти к остальной части кода.</p> <h3>Шаг 7 - Работа с Выделенными Объектами</h3> <p>Сразу же после объявления <code>gradAngle</code> введите следующие строки кода:</p> <pre class="brush: noskimlinks noskimwords">for(var j=0; j &lt; totalSelected; j++){var currentObject = app.activeDocument.selection[j];if(currentObject.typename != "CompoundPathItem" &amp;&amp; currentObject.typename != "GroupItem"){if(currentObject.filled==true &amp;&amp;    currentObject.fillColor.typename != "GradientColor" &amp;&amp;    currentObject.fillColor.typename != "PatternColor" &amp;&amp;    currentObject.fillColor.typename != "SpotColor" &amp;&amp;)   currentObject.fillColor.typename != "GrayColor"{//perform color conversion here} else{alert("Fill an object with CMYK color. Any objects containing\ngradients, patterns, spot colors or empty fills will be omitted."," Only CMYK Colors Allowed");}}else{alert("This script only works with Non-Compound Objects or Isolated Group items.\nAny items with Groups or Compound Objects will be omitted.", "Ungroup or Isolate the Group Items");}}//endfor</pre> <p><code>app.activeDocument.selection[j]</code> возвращает выбранные объекты по одному для каждой итерации <code>j</code>.</p> <p>Для каждого выбранного объекта мы делаем ряд проверок. Эти проверки имеют большое значение на данном этапе. Первая проверка, чтобы определить, является ли объект составным контуром или сгруппированным. Поскольку этот скрипт не будет работать с группами или составными контурами, то эта проверка является обязательной.</p> <p>На следующем уровне мы проверяем имеет ли выбранный объект градиентную заливку или паттерн, или залит плашечным цветом. Если это так, эти объекты будут пропущены при обработке.</p> <p>И еще одна проверка на градацию серого. Цветовая схема Градаций Серого, отличается от схемы CMYK.</p> <p><em>В программу добавлен код, который исправляет, ситуацию, когда у объекта заливка в Градациях Серого. Я не включил описание этого в урок, но в файле с кодом, эта часть есть, так что вы можете ее посмотреть.</em></p> <h3>Шаг 8 - Берем Цвет и Разбиваем</h3> <p>Согласно логике нашего алгоритма, мы должны взять цвет для каждого выбранного объекта и разделить его CMYK значение на четыре переменные, как показано ниже:</p> <pre class="brush: noskimlinks noskimwords">var currentColor = currentObject.fillColor;    var currentCyan= Math.round(currentColor.cyan);var currentMagenta = Math.round(currentColor.magenta);var currentYellow = Math.round(currentColor.yellow);var currentBlack = Math.round(currentColor.black);</pre> <p><em>Примечание: Все эти строки кода включаются в блок  "Perform color conversion"(«Выполняем преобразование цветов»), как показано в Шаге 7.</em></p> <p><code>pathItem.fillColor</code> возвращает цвет заливки элемента конкретного контура. В нашем случае элемент pathItem — <code>currentObject</code>. Мы используем <code>color.cyan</code>, <code>color.magenta</code>, <code>color.yellow</code> и <code>color.black </code>свойства, чтобы извлечь значения C, M, Y и K, соответственно, для четырех различных переменных. Как только назначим значения для этих переменных, мы легко можем изменить их на величину <code>gShift</code>.</p> <h3>Шаг 9 - Объявление Переменных Цвета для Узлов Градиента</h3> <p>Наш градиент будет иметь два узла. Давайте обозначим их как <code>startColor</code> и <code>endColor</code>. Объявление переменных для этих двух цветовых узлов показано ниже:</p> <pre class="brush: noskimlinks noskimwords">var startColor = new CMYKColor();var endColor = new CMYKColor();</pre> <p><code>CMYKColor</code> — это спецификация цвета CMYK, используемая для цветных объектов. Здесь <code>startColor</code> и <code>endColor</code> объявляются как новые  CMYK цвета.</p> <h3>Шаг 10 - Присваиваем Измененные Значения Переменным startColor и endColor</h3> <p>На данном этапе у нас есть все необходимое для создания нового градиента. У нас есть <code>currentColor</code> (с отдельными значениями CMYK), <code>startColor</code>, <code>endColor</code> и <code>gShift</code>. Теперь мы можем присвоить  значения для <code>startColor</code> и <code>endColor</code>, сместив значения на заданную величину.</p> <h3>Шаг 10.1 - Устанавливаем значение для startColor</h3> <p><code>StartColor</code> будет светлая часть градиента. Следовательно, мы вычтем <code>gShift</code> от значений C, M, Y и K для <code>currentColor</code>, что даст нам <code>startColor</code>.</p> <pre class="brush: noskimlinks noskimwords">startColor.cyan = currentCyan – gShift;startColor.magenta = currentMagenta - gShift;startColor.yellow= currentYellow - gShift;startColor.black = currentBlack - gShift;</pre> <p>Это просто, но мы должны кое-что проверить. Например, что произойдет, если <code>currentCyan</code> уже меньше, чем <code>gShift</code>? Скажем, <code>currentCyan</code> 10 и <code>gShift</code> 20. Тогда значение голубого для <code>startColor</code> станет 10-20 = (-) 10. Для исключить такую ошибку, мы изменим написанный выше код следующим образом:</p> <pre class="brush: noskimlinks noskimwords">        if(currentCyan &lt; gShift)            startColor.cyan= 0;        else            startColor.cyan= currentCyan - gShift;                if(currentMagenta &lt; gShift)            startColor.magenta= 0;        else            startColor.magenta = currentMagenta - gShift;                if(currentYellow &lt; gShift)            startColor.yellow= 0;        else            startColor.yellow= currentYellow - gShift;                if(currentBlack &lt; gShift)            startColor.black= 0;        else            startColor.black = currentBlack - gShift;</pre> <h3>Шаг 10.2 - Устанавливаем значение для endColor</h3> <p><code>EndColor</code> -темня часть градиента. Следовательно, мы будем добавлять <code>gShift</code>  к значениям C, M, Y и K для <code>currentColor</code> соответственно. После незначительного добавления, наш код будет выглядеть следующим образом:</p> <pre class="brush: noskimlinks noskimwords">    endColor.cyan= currentCyan + gShift;    endColor.magenta = currentMagenta + gShift;    endColor.yellow= currentYellow + gShift;    endColor.black = currentBlack + gShift;</pre> <p>Еще раз, вроде бы все хорошо. Но есть одна сложность. Что произойдет, если добавление <code>gShitf</code>, приведет к значениям выше чем 100? Например, <code>currentCyan</code> - 95 и <code>gShift</code> -20. Сложение этих двух величин приведет к <code>endColor.cyan</code> = 115, что будет ошибкой. Поэтому делаем проверку на такое событие.</p> <p>Давайте создадим новую переменную <code>gShiftEnd</code>, которая равна <code>100-gShift</code>. Далее, мы будем проверять, будут ли текущие значения C, M, Y и K больше чем <code>gShiftEnd</code>. Если это так, то мы присвоим значениям  C,M,Y или K для endColor"s величину 100. Если нет, то мы присвоим значения просто добавив величину <code>gShift</code> к текущим значениям C, M, Y и К. Это можно разобрать на примере, который мы только что рассматривали.</p> <p><em>У нас есть currentCyan = 95 и gShift = 20. Поэтому gShiftEnd = 100 – 20, то есть 80. Далее currentCyan больше чем gShiftEnd; Поэтому мы установим endColor.cyan 100.</em></p> <p>В соответствии с этим, наш код преобразуется в следующий:</p> <pre class="brush: noskimlinks noskimwords">        gShiftEnd = 100-gShift;                if(currentCyan &gt; gShiftEnd)            endColor.cyan= 100;        else            endColor.cyan= currentCyan + gShift;                if(currentMagenta &gt; gShiftEnd)            endColor.magenta= 100;        else            endColor.magenta = currentMagenta + gShift;                if(currentYellow &gt; gShiftEnd)            endColor.yellow= 100;        else            endColor.yellow= currentYellow + gShift;                if(currentBlack &gt; gShiftEnd)            endColor.black= 100;        else            endColor.black = currentBlack + gShift;</pre> <p>И тогда, к этому моменту, наш код должен выглядеть следующим образом:</p> <pre class="brush: noskimlinks noskimwords">if ( app.documents.length &gt; 0 &amp;&amp; app.activeDocument.pathItems.length &gt; 0) {if(app.activeDocument.documentColorSpace == DocumentColorSpace.CMYK){convertToGrad();}else{alert("Document Color Space is not CMYK. Change the Document Color Mode to CMYK Mode", "CMYK Document required");}}//end main ifelse{ alert("Either no document is available or the document is empty");}function convertToGrad() {var items = selection;var totalSelected = items.length;if(totalSelected &gt; 0){var gShift = Math.round(prompt("Enter a value for gradient shift","10","Gradient Shift"));if(gShift == null || gShift &lt;=0) gShift=0;if(gShift &gt;=100) gShift =100;var gradAngle = prompt("Vector angle for Gradient","0.0","Gradient Angle")if(gradAngle == null) gradAngle=0;for(var j=0; j &lt; totalSelected; j++){var currentObject = app.activeDocument.selection[j];if(currentObject.typename != "CompoundPathItem" &amp;&amp; currentObject.typename != "GroupItem"){if(currentObject.filled==true &amp;&amp; currentObject.fillColor.typename != "GradientColor" &amp;&amp; currentObject.fillColor.typename != "PatternColor" &amp;&amp; currentObject.fillColor.typename != "SpotColor" &amp;&amp;currentObject.fillColor.typename != "GrayColor"){var currentColor = currentObject.fillColor;var currentCyan = Math.round(currentColor.cyan);var currentMagenta = Math.round(currentColor.magenta);var currentYellow = Math.round(currentColor.yellow);var currentBlack = Math.round(currentColor.black);// Create a color for both ends of the gradientvar startColor = new CMYKColor();var endColor = new CMYKColor();if(currentCyan &lt; gShift)startColor.cyan = 0;elsestartColor.cyan = currentCyan - gShift;if(currentMagenta &lt; gShift)startColor.magenta = 0;elsestartColor.magenta = currentMagenta - gShift;if(currentYellow &lt; gShift)startColor.yellow = 0;elsestartColor.yellow = currentYellow - gShift;if(currentBlack &lt; gShift)startColor.black= 0;elsestartColor.black = currentBlack - gShift;gShiftEnd = 100 - gShift;if(currentCyan &gt; gShiftEnd)endColor.cyan = 100;elseendColor.cyan = currentCyan + gShift;if(currentMagenta &gt; gShiftEnd)endColor.magenta = 100;elseendColor.magenta = currentMagenta + gShift;if(currentYellow &gt; gShiftEnd)endColor.yellow = 100;elseendColor.yellow = currentYellow + gShift;if(currentBlack &gt; gShiftEnd)endColor.black = 100;elseendColor.black = currentBlack + gShift;// Gradient Declaration Block} //endifelse{alert("Fill an object with CMYK color. Any objects containing\ngradients, patterns, spot colors or empty fills will be omitted."," Only CMYK Colors Allowed");}}else{alert("This script only works with Non-Compound Objects or Isolated Group items.\nAny items with Groups or Compound Objects will be omitted.", "Ungroup or Isolate the Group Items");}}//endfor}//end selectedelse{alert("Please select atleast one object");}}</pre> <h3>Шаг 11 - Задаем Новый Градиент</h3> <p>Теперь, когда мы установили  значения для <code>startColor</code> и <code>endColor</code>; мы можем перейти с созданию нового градиента.</p> <h3>Шаг 11.11 - Объявляем Переменную Градиента</h3> <p>Чтобы добавить новый градиент, вставьте следующие строки кода в блок "<em>//Gradient Declaration Block</em>".</p> <pre class="brush: noskimlinks noskimwords">    var newGradient = app.activeDocument.gradients.add();    newGradient.type = GradientType.LINEAR;</pre> <p>Это добавит новый Линейны Градиент в текущий активный документ.</p> <h3>Шаг 11.2 - Устанавливаем Свойства для Созданного Градиента</h3> <p>Добавьте следующие строки кода после объявления градиента:</p> <pre class="brush: noskimlinks noskimwords">        // Modify the first gradient stop        newGradient.gradientStops[0].rampPoint = 0;        newGradient.gradientStops[0].midPoint = 50;        newGradient.gradientStops[0].color = startColor;                // Modify the last gradient stop        newGradient.gradientStops[1].rampPoint = 100;        newGradient.gradientStops[1].color = endColor;</pre> <p><code>gradientStop [0]</code> - первый градиентный узел, в то время как, <code>gradientStop [1]</code> - второй градиентный узел. Если вы хотите, что бы у вас было больше градиентных узлов,  их можно обозначать как <code>gradientStop [2], gradientStop [3]</code> и так далее.</p> <p><code>rampPoint</code> используется для  задания положения градиентного узла gradientStop. Мы установили положения для первого и последнего узлов 0 и 100, соответственно. <code>midpoint</code> используется для задания положения средней точки между двумя узлами градиента (средняя точка цветовых узлов). Мы установили это значение 50. Наконец, мы присвоили значения <code>startColor</code> и <code>endColor</code> первому и последнему узлам gradientStops соответственно.</p> <h3>Шаг 12 - Создание Объекта с Градиентной Заливкой</h3> <p>Мы почти закончили с преобразованием цвета и образованием градиентной заливки. Теперь мы должны применить созданный нами градиент к выбранному объекту. Что бы сделать это мы создадим объект Gradient Color, привязав его к созданному нами градиенту.</p> <p><em>Примечание: Мы не можем непосредственно применить созданный градиент к нашему объекту, как цвет заливки. Что бы сделать это мы должны создать новый объект Gradient Color, как показано ниже:</em></p> <pre class="brush: noskimlinks noskimwords">    // construct an Illustrator.GradientColor object referring to the    // newly created gradient    var colorOfGradient= new GradientColor();    colorOfGradient.gradient = newGradient;</pre> <h3>Шаг 13 - Применяем Градиент</h3> <p>Наконец, мы сделаем заливку для <code>currentObject</code> применив <code>colorOfGradient</code>, как показано ниже:</p> <pre class="brush: noskimlinks noskimwords">    // get current path item, apply new gradient as its fill    currentObject.fillColor = colorOfGradient;    currentObject.rotate(gradAngle, false, false, true, false, Transformation.CENTER);</pre> <p>Мы применили матрицу вращения к текущему объекту. Эта матрица вращения использует угол градиента, что бы преобразовать градиент. Синтаксис для функции вращения следующий:</p> <p><code><br> rotate<br> angle<br> [, changePositions]<br> [, changeFillPatterns]<br> [, changeFillGradients]<br> [, changeStrokePattern]<br> [, rotateAbout])<br></code></p> <p>Здесь, мы должны установить значение для <code>changeFillgradients</code> - "true" и для остальных аргументов на "false". Это хитрый способ для поворота градиента на заданный угол. <em>Спасибо <span>John Wundes</span>, что он поделился со мной  этой интересной техникой</em>.</p> <h3>Шаг 14 - Окончательный Результат</h3> <p>Окончательный вариант нашего скрипта выглядит следующим образом:</p> <pre class="brush: noskimlinks noskimwords">if ( app.documents.length &gt; 0 &amp;&amp; app.activeDocument.pathItems.length &gt; 0) {if(app.activeDocument.documentColorSpace == DocumentColorSpace.CMYK){convertToGrad();}else{alert("Document Color Space is not CMYK. Change the Document Color Mode to CMYK Mode", "CMYK Document required");}}//end main ifelse{ alert("Either no document is available or the document is empty");}function convertToGrad() {var items = selection;var totalSelected = items.length;if(totalSelected &gt; 0){var gShift = Math.round(prompt("Enter a value for gradient shift","10","Gradient Shift"));if(gShift == null || gShift &lt;=0) gShift=0;if(gShift &gt;=100) gShift =100;var gradAngle = prompt("Vector angle for Gradient","0.0","Gradient Angle")if(gradAngle == null) gradAngle=0;for(var j=0; j &lt; totalSelected; j++){var currentObject = app.activeDocument.selection[j];if(currentObject.typename != "CompoundPathItem" &amp;&amp; currentObject.typename != "GroupItem"){if(currentObject.filled==true &amp;&amp; currentObject.fillColor.typename != "GradientColor" &amp;&amp; currentObject.fillColor.typename != "PatternColor" &amp;&amp; currentObject.fillColor.typename != "SpotColor" &amp;&amp;currentObject.fillColor.typename != "GrayColor"){var currentColor = currentObject.fillColor;var currentCyan = Math.round(currentColor.cyan);var currentMagenta = Math.round(currentColor.magenta);var currentYellow = Math.round(currentColor.yellow);var currentBlack = Math.round(currentColor.black);// Create a color for both ends of the gradientvar startColor = new CMYKColor();var endColor = new CMYKColor();if(currentCyan &lt; gShift)startColor.cyan= 0;elsestartColor.cyan = currentCyan - gShift;if(currentMagenta &lt; gShift)startColor.magenta = 0;elsestartColor.magenta = currentMagenta - gShift;if(currentYellow &lt; gShift)startColor.yellow = 0;elsestartColor.yellow = currentYellow - gShift;if(currentBlack &lt; gShift)startColor.black = 0;elsestartColor.black = currentBlack - gShift;gShiftEnd = 100 - gShift;if(currentCyan &gt; gShiftEnd)endColor.cyan = 100;elseendColor.cyan = currentCyan + gShift;if(currentMagenta &gt; gShiftEnd)endColor.magenta = 100;elseendColor.magenta = currentMagenta + gShift;if(currentYellow &gt; gShiftEnd)endColor.yellow = 100;elseendColor.yellow = currentYellow + gShift;if(currentBlack &gt; gShiftEnd)endColor.black = 100;elseendColor.black = currentBlack + gShift;// Create a new gradient// A new gradient always has 2 stopsvar newGradient = app.activeDocument.gradients.add();newGradient.type = GradientType.LINEAR;// Modify the first gradient stopnewGradient.gradientStops[0].rampPoint = 0;newGradient.gradientStops[0].midPoint = 50;newGradient.gradientStops[0].color = startColor;// Modify the last gradient stopnewGradient.gradientStops[1].rampPoint = 100;newGradient.gradientStops[1].color = endColor;// construct an Illustrator.GradientColor object referring to the// newly created gradientvar colorOfGradient= new GradientColor();colorOfGradient.gradient = newGradient;// get current path item, apply new gradient as its fillcurrentObject.fillColor = colorOfGradient;currentObject.rotate(gradAngle, false, false, true, false, Transformation.CENTER);} //endifelse{alert("Fill an object with CMYK color. Any objects containing\ngradients, patterns, spot colors or empty fills will be omitted."," Only CMYK Colors Allowed");}}else{alert("This script only works with Non-Compound Objects or Isolated Group items.\nAny items with Groups or Compound Objects will be omitted.", "Ungroup or Isolate the Group Items");}}//endfor}//end selectedelse{alert("Please select atleast one object");}}</pre> <h3>Шаг 15 - Запускаем Скрипт</h3> <p>Сохраните скрипт и создайте новый документ в Adobe Illustrator. Далее, создайте несколько новых объектов в цветовом режиме CMYK. Выберите несколько из этих объектов и запустите скрипт, как было описано в Шаге 2.1.</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/15_1.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>Выскочит окно с просьбой ввести значение для Градиентного Сдвига. Введите какое-нибудь значение для <code>gShift</code>.</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/15_2.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>Теперь, вас попросят задать угол для градиента. Введите какую-то величину для gradAngle.</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/15_3.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <p>И наконец, вы увидите результат, как показано ниже:</p> <div><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/vector/uploads/legacy/tuts/000_2010/267_Scripts_One/15_4.jpg" alt="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." title="Скрипт для Иллюстратора - Как Преобразовать Однотонный Цвет в Соответствующий Градиент..." width="50" height="50"></div> <h3>Заключение и Область Применения</h3> <p>Мы научились писать скрипты, что бы автоматизировать или создавать новые эффекты. Приведенный в уроке пример - простая демонстрация того, что мы можем делать с помощью скриптов. В этом примере мы узнали как представлен цвет CMYК, как с ним работать, и как ведут себя объекты в DOМ Иллюстратора. В следующей части мы рассмотрим скрипт, который преобразует градиентную заливку в однотонный цвет CMYK. Надеюсь, вам понравился эта вводный урок по написанию скриптов.</p> <p>Подписывайтесь на <span>RSS рассылку Vectortuts+</span>, что бы быть в курсе последних статей и тьюториалов.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Design &amp; Illustration" href="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient" class="tm-article-body__tags-item-link">Design &amp; Illustration</a></span><span class="tm-article-body__tags-item"><a aria-label="Scripts" href="https://norma-studio.github.io/article7/220827656-skript-dlya-illyustratora--kak-preobrazovat-odnotonnyj-tsvet-v-sootvetstvuyuschij-gradient" class="tm-article-body__tags-item-link">Scripts</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
37952</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
329</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
