
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Создание дизайна и написание кода интегрированного с платформой Facebook приложения... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Создание дизайна и написание кода интегрированного с платформой Facebook приложения... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Создание дизайна и написание кода интегрированного с платформой Facebook приложения... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Создание дизайна и написание кода интегрированного с платформой Facebook приложения... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Добро пожаловать в третью часть серии «Создание дизайна и написание кода интегрированного с платформой Facebook приложения». На этой стадии я предполагаю, что вы создали HTML-код и CSS-код для вашего приложения. Если нет, то обратитесь к первой части этой серии. В этой части мы усовершенствуем наше приложение! ...">
<meta property="og:description" content="Добро пожаловать в третью часть серии «Создание дизайна и написание кода интегрированного с платформой Facebook приложения». На этой стадии я предполагаю, что вы создали HTML-код и CSS-код для вашего приложения. Если нет, то обратитесь к первой части этой серии. В этой части мы усовершенствуем наше приложение! ...">
<meta name="twitter:description" content="Добро пожаловать в третью часть серии «Создание дизайна и написание кода интегрированного с платформой Facebook приложения». На этой стадии я предполагаю, что вы создали HTML-код и CSS-код для вашего приложения. Если нет, то обратитесь к первой части этой серии. В этой части мы усовершенствуем наше приложение! ...">
<meta property="aiturec:description" content="Добро пожаловать в третью часть серии «Создание дизайна и написание кода интегрированного с платформой Facebook приложения». На этой стадии я предполагаю, что вы создали HTML-код и CSS-код для вашего приложения. Если нет, то обратитесь к первой части этой серии. В этой части мы усовершенствуем наше приложение! ...">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/tabs.png">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/tabs.png">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/tabs.png">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/tabs.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/tabs.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya.html" title="Создание дизайна и написание кода интегрированного с платформой Facebook приложения... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Создание дизайна и написание кода интегрированного с платформой Facebook приложения... | envatomarket.ru | norma-studio.github.io" title="Создание дизайна и написание кода интегрированного с платформой Facebook приложения... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/543543242.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya.html" class="tm-user-info__username" title="
А. Морозов" aria-label="
А. Морозов">
А. Морозов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Создание дизайна и написание кода интегрированного с платформой Facebook приложения...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya" class="tm-article-snippet__hubs-item-link"><span>PHP</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/tabs.png">
    <meta itemprop="headline name" content="Создание дизайна и написание кода интегрированного с платформой Facebook приложения... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Добро пожаловать в третью часть серии «Создание дизайна и написание кода интегрированного с платформой Facebook приложения». На этой стадии я предполагаю, что вы создали HTML-код и CSS-код для вашего приложения. Если нет, то обратитесь к первой части этой серии. В этой части мы усовершенствуем наше приложение! ...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Добро пожаловать в третью часть серии «Создание дизайна и написание кода интегрированного с платформой Facebook приложения». На этой стадии я предполагаю, что вы создали HTML-код и CSS-код для вашего приложения. Если нет, то обратитесь к первой части этой серии. В этой части мы усовершенствуем наше приложение! ...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Добро пожаловать в третью часть серии «<span>Создание дизайна и написание кода интегрированного с платформой Facebook приложения</span>». На этой стадии я предполагаю, что вы создали HTML-код и CSS-код для вашего приложения. Если нет, то<span> обратитесь к первой части этой серии</span>. В этой части мы усовершенствуем наше приложение! </p><p><!--more--></p> <hr><h2>Ознакомьтесь с предыдущими руководствами: </h2> <ul><li class="serieslist-li-current"><span>Design and Code an Integrated Facebook App: Theory</span></li> <li class="serieslist-li"><span>Design and Code an Integrated Facebook App: HTML + CSS</span></li> </ul><hr><h2>Краткий обзор </h2> <p>В этой части мы: </p> <ul><li>добавим пару крутых эффектов при помощи библиотеки jQuery;</li> <li>настроим наше приложение в конфигурационной панели нового приложения для Facebook, а также настроим SDK (* Software Development (Developer"s) Kit – набор средств для разработки) Facebook для PHP (* мощная библиотека, позволяющая вам получать информацию о пользователях, публиковать информацию в их профилях, добавлять возможность регистрации и входа на сайт при помощи Facebook);</li> <li>передадим наши данные с Feedburner (* веб-сервис для управления веб-каналом поставки контента (термин описывает поставку контента одного вида, например новостей или материалов аудиоблогов, видеоблогов и текстовых блогов. Доступ к этому контенту обеспечивают такие программы, как агрегаторы (aggregator) и веб-браузеры (Web browser ))) при помощи API YQL (* Yahoo Query Language – язык запросов Yahoo; SQL-подобный язык, при помощи которого вы можете запрашивать, фильтровать и объединять данные с веб-сервисов; также это веб-интерфейс для выполнения запросов при помощи этого языка) Yahoo;</li> <li>получим данные с социального графа Facebook при помощи API Facebook Graph (* основной способ для приложений получения и добавления данных в социальный граф ( представление информации на Facebook));</li> </ul><p>Так что оставайтесь со мной, приготовьте себе чашку чаю, и удачного вам программирования!</p> <p><!--next step--></p> <hr><h2>  Шаг 1: jQuery</h2> <p>Перед тем как приступим к преобразованию нашей HTML-версии в PHP-версию, нам необходимо сделать пару наших HTML-объектов работоспособными. Мы можем это выполнить довольно просто при помощи библиотеки jQuery. Если вы еще не начали использовать jQuery, то сейчас именно тот самый момент для этого. Она является отличным введением в JavaScript и несомненно довольно проста для использования. Вы и вправду можете создать кое-какие великолепные эффекты лишь за счет нескольких строк кода. В нашем приложении для ведения блога мы будем использовать jQuery для двух вещей. Во-первых, для реализации мгновенного поискового фильтра (* при его использовании результаты поиска отображаются без перезагрузки страницы во всплывающем списке; реализуется при помощи AJAX-запросов), и во-вторых, для вкладок, чтобы улучшить опыт взаимодействия пользователя с приложением при переходе со страницы на страницу.</p> <p>Если помните из предыдущего руководства, мы подключили JavaScript-файл в заголовке HTML-документа. Пришло время его создать. Так что перейдите в свой любимый редактор кода и создайте файл под названием "<code>myjava.js</code>". Мы начинаем с добавления метода jQuery ready, зарегистрированного для объекта document. При помощи него jQuery сообщается, что весь расположенный в нем код необходимо загрузить сразу после того, как DOM готова к выполнению над ней манипуляций.</p> <h3>Вкладки</h3> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/tabs.png" alt="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." title="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." width="50" height="50"></div> <p>Когда DOM готова, мы скрываем все вкладки. Затем мы делаем так, чтобы каждая страница постепенно проявлялась при выборе соответствующей вкладки или тогда, когда вкладка становится "активной" (* когда ей добавляется класс "active"). Также мы удаляем класс <code>active</code> у других вкладок и скрываем контент всех других страниц.</p> <pre class="brush: js noskimlinks noskimwords">  var tabContent = $(".tab_content"), //Define the tab as a variable     tabs = $("ul.tabs li");//Define the tabs li as a variabletabContent.hide(); //On page load hide all the contents of all tabstabs.eq(0).addClass("active").show(); //Default to the first tabtabContent.eq(0).show(); //Show the default tabs content//When the user clicks on the tabtabs.click(function(e) {var li = $(this), //define this li as a variable  activeTab = li.find("a"); //Get the href"s attribute value (class) and fade in the corresponding tabs contenttabs.removeClass("active"); //Remove the active classli.addClass("active"); //Add the active tab to the selected tabtabContent.hide(); //Hide all other tab contentactiveTab.fadeIn(); //Fade the tab ine.preventDefault();});</pre> <h3>Поисковый фильтр</h3> <p>Следующий элемент, для которого мы будем использовать jQuery, – наш поисковый фильтр. Он позволит нашим пользователям фильтровать результаты выполненного ими поиска в режиме реального времени (* термин относится к системе, в которой вводимые данные обрабатываются в течение миллисекунд, так что результат их обработки доступен практически мгновенно процессу, породившему их) по мере того как они набирают текст. Это осуществляется за счет получения текущего значения поля формы и отбора всего, что совпадает с ним в контенте наших элементов div "постов". Это осуществляется за счет получения текущего значения поля формы и отбора всего, что совпадает с ним в контенте наших элементов <code>div</code> "постов". Затем при помощи фильтра будут показаны элементы <code>div</code> "постов", содержащие это значение, и скрыты те, что его не содержат.</p> <pre class="brush: js noskimlinks noskimwords">//Filter Search$(".search").keyup(function () {var $this = $(this),  filter = $this.val(),   count = 0;$(".post").each(function () {var $this = $(this);if ($this.text().search(new RegExp(filter, "i")) &lt; 0) {   $this.hide();} else { $this.show();}});$("#filter-count").text(count);});</pre> <hr><h2>  Шаг 2: PHP</h2> <p>Теперь пришло время сделать этот статический файл динамическим и реализовать возможность получения данных с Facebook и Feedburner. Теперь, вероятно, подходящее время для того, чтобы переименовать ваш файл с <code>index.html</code> на <code>index.php</code> и скачать SDK для PHP. Вы можете скачать последнюю версию SDK Facebook для PHP на:</p> <p><span>SDK Facebook для PHP</span></p> <hr><h2>  Шаг 3: Настройка нашего приложения на Facebook</h2> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/setting-up-application-facebook.png" alt="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." title="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." width="50" height="50"></div> <p>Теперь нам необходимо настроить «холст» (* от англ. canvas – холст/полотно; страница на Facebook (Facebook.com), где располагается приложение (при этом приложение встраивается в iFrame)) для нашего приложения для Facebook. Как уже было упомянуто, страница для настройки приложения для Facebook недавно была обновлена; так что важно, чтобы вы воспользовались страницей для нового варианта настройки. Для начала закачайте <code>index.php</code> на ваш собственный аккаунт для веб-хостинга. Я закачал мой в подпапку вроде <code>www.yourdomain.com/tut.</code> После этого вы можете настроить ваше приложение, посетив <span>https://developers.facebook.com/apps</span>.</p> <p>Теперь нажмите кнопку "Сreate new app" в верхнем правом углу. Введите имя вашего приложения, и затем вы будете перенаправлены на страницу для настройки приложения. Facebook позволяет вам создавать различные варианты приложений: от десктопных до мобильных. В нашем случае нам необходимо выбрать вариант "App on Facebook". Имеется пять важных полей, которые вам необходимо заполнить, чтобы ваше приложение работало. Они выделены цветом на изображении выше. Как только завершили с этим, перейдите по адресу apps.facebook.com, за которым следует то, что вы ввели в поле "Аpp Namespace". В моем случае это "webdesigntuts", так что в качестве домена моего приложения выступает <span>http://apps.facebook.com/webdesigntuts/</span>.</p> <p>Когда вы перейдете по вашему URL-адресу, то должны будете увидеть результат выполнения вашего файла index.php в переделах холста на Facebook.</p> <p><!--next step--></p> <hr><h2>  Шаг 4: Настройка и конфигурация SDK Facebook для PHP</h2> <p>После добавления нашего приложения на Facebook пришло время получить данные с социального графа при помощи API Facebook Graph и реализовать для пользователей возможность входа в приложение и выхода из него.</p> <p>В папке для нашего приложения добавьте новую папку и назовите ее "<code>fb</code>". Откройте папку SDK, загруженного вами с GitHub. В ней вы должны будете найти несколько примеров кода: исходные тексты (* src) и некоторые тесты. Выделите контент папки <code>src</code> и перетащите его в вашу папку <code>fb</code>. Это тот код, что необходим нам для подключения к Facebook. В нашем файле <code>index.php</code> добавьте приведенный ниже код, начиная с добавления SDK Facebook из нашей папки "<code>fb</code>", и добавьте уникальный ID вашего приложения и секретный ключ. В коде ниже вы можете увидеть, как это должно быть настроено. По сути мы подключаемся к Facebook и получаем <code>ID</code> пользователя, использующего наше приложение. Если идентификация пользователя прошла успешно, то мы затем создаем переменную (* $logoutUrl) для хранения значения URL-адреса для выхода из приложения, если же нет, то мы создаем переменную (* $loginUrl) для хранения значения URL-адреса для входа в приложение.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?phprequire "fb/facebook.php";$fbconfig["appUrl"] = "The full url of your app on Facebook goes here"; // Create An instance of our Facebook Application.$facebook = new Facebook(array(  "appId"  =&gt; "Your App ID",  "secret" =&gt; "Your App Secret",  "cookies" =&gt; "true",));// Get the app User ID$user = $facebook-&gt;getUser();if ($user) {  try {// If the user has been authenticated then proceed$user_profile = $facebook-&gt;api("/me");  } catch (FacebookApiException $e) {error_log($e);$user = null;  }}// If the user is authenticated then generate the variable for the logout URLif ($user) {  $logoutUrl = $facebook-&gt;getLogoutUrl();  ?&gt;&lt;!-- Insert Logged in HTML here --&gt;&lt;?php  } else {  $loginUrl = $facebook-&gt;getLoginUrl();}?&gt;</pre> <p><!--next step--></p> <hr><h2>  Шаг 5: Реализация возможности входа в приложение и выхода из него</h2> <p>Между частями инструкции <code>if</code>...<code>else</code> нам нужно закрыть и открыть теги PHP, чтобы мы могли вставить наш созданный ранее HTML-код в PHP-документ. Теперь, если вы закачаете вашу страницу туда, где размещаете свое приложение, и обновите холст для приложения на Facebook, то должны будете увидеть приложение. Если вы уже вошли на Facebook, то вы его увидите; в ином случае, вы увидите URL-адрес для входа в приложение, как показано на изображении ниже:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/login.png" alt="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." title="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." width="50" height="50"></div> <pre class="brush: php noskimlinks noskimwords"> &lt;a href="&lt;?php echo $logoutUrl; ?&gt;"&gt;Logout&lt;/a&gt;</pre> <p>Мы настроили наше приложение на Facebook и реализовали для наших пользователей возможность входа в приложение и выхода из него. Все, что нам осталось, – заменить наши фиктивные данные (* вроде количества лайков / комментариев) на реальные рабочие (* в отличие от тестовых) данные.</p> <hr><h2>  Шаг 6: Получение данных с YQL при помощи JSON</h2> <blockquote class="pullquote"> <p><span>Изучите YQL глубже.</span> </p> </blockquote> <p>Первая часть данных, которые мы получим в нашем приложении, – посты блога. Мы получаем ее с нашего RSS-канала Feedburner (* RSS – Really Simple Syndication (действительно простая синдикация), технология (формат, механизм, стандарт) RSS; метод распространения новостной информации через Интернет по подписке) при помощи YQL. Если вы не пользовались YQL ранее, то вам точно следует попробовать эту технологию. Ее очень легко использовать, и она обладает потрясающей гибкостью. Если вы с ней не знакомы, то можете узнать подробнее о ней <span>здесь</span> и <span>здесь</span>.</p> <p>Здесь мы по сути отправляем запрос к YQL, используя синтаксис, подобный тому, что мог бы использоваться в MySQL. Затем мы декодируем данные (* преобразуем в объект PHP), возвращенные в формате JSON, и сохраняем их в переменной, чтобы мы могли получить конкретные части <code>array</code> в объектах постов нашего блога.</p> <p>Нам необходимо выполнить три запроса к YQL. Они перечислены ниже:</p> <ul><li> <strong>webdesigntuts-summary feed</strong> – в ответе на этот запрос содержится большинство данных, необходимых для постов нашего блога. В нем содержатся заголовок, URL-адрес, данные автора, дата публикации и краткое изложение поста;</li> <li>  <strong>webdesigntutsplus feed</strong> – из ответа на этот запрос нам необходима только информация о количестве комментариев. Нам нужно отправить этот запрос, поскольку эти данные не содержатся в ответе на запрос webdesigntuts-summary feed;</li> <li>  <strong>webdesigntuts-summary feed</strong> (снова) – в этот раз вместо получения всех данных мы получаем только категории, которые используются в боковой панели;</li> </ul><p>Код для выполнения этих запросов должен быть добавлен перед закрывающим тегом PHP, за которым идет HTML-код. Вы можете ознакомиться с тем, как реализовать вышеописанное, в коде ниже:</p> <pre class="brush: php noskimlinks noskimwords">// The YQL query to get the Webdesigntuts+ summary posts from FeedBurner$yqlurl = "http://query.yahooapis.com/v1/public/yql?q=";$yqlurl .= urlencode("select * from feed where url="http://feeds.feedburner.com/webdesigntuts-summary" LIMIT 10");$yqlurl .= "&amp;format=json"; $yqlfeed = file_get_contents($yqlurl, true);  $yqlfeed = json_decode($yqlfeed);// The YQL query to get the webdesigntuts+ posts from feedburner - We need this for the comments count only$yqlurl2 = "http://query.yahooapis.com/v1/public/yql?q=";$yqlurl2 .= urlencode("select * from feed where url="http://feeds.feedburner.com/webdesigntutsplus" LIMIT 10");$yqlurl2 .= "&amp;format=json"; $yqlfeed2 = file_get_contents($yqlurl2, true);  $yqlfeed2 = json_decode($yqlfeed2);// The YQL query to get the webdesigntuts+ categories.$yqlurl3 = "http://query.yahooapis.com/v1/public/yql?q=";$yqlurl3 .= urlencode("SELECT category FROM feed WHERE url="http://feeds.feedburner.com/webdesigntuts-summary" LIMIT 10");$yqlurl3 .= "&amp;format=json"; $yqlfeed3 = file_get_contents($yqlurl3, true);  $yqlfeed3 = json_decode($yqlfeed3);</pre> <p><!--next step--></p> <hr><h2>  Шаг 7: Получение количества лайков со страницы на Facebook</h2> <p>Сейчас мы отправим запрос к API Facebook Graph. Это осуществляется подобно тому, как мы выполнили запросы к YQL, однако имеются небольшие различия. Это очень просто выполнить, и код для реализации этого без сомнений должен находиться в папке для ваших фрагментов, поскольку я уверен, что он вам пригодится. Мы задаем в качестве значения переменной для хранения количества лайков = "0", выполняем запрос и затем говорим, что если в возвращенном массиве содержатся лайки, то мы задаем в качестве значения $likes возвращенное число лайков.</p> <pre class="brush: php noskimlinks noskimwords">//Make a call to the facebook graph api and decode the json to collect the number of likes from the webdesigntuts+ facebook page$json_url ="https://graph.facebook.com/webdesigntutsplus";$json = file_get_contents($json_url);$json_output = json_decode($json);$likes = 0;if($json_output-&gt;likes){$likes = $json_output-&gt;likes;}</pre> <p><!--next step--></p> <hr><h2>  Шаг 8: Отображение динамических данных</h2> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/blog-post.png" alt="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." title="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." width="50" height="50"></div> <p>Теперь, когда все наши данные хранятся в переменных PHP, нам необходимо получить и отобразить их на нашей странице. В случае с постом нашего блога мы выполняем это за счет создания простого цикла <code>foreach</code> и использования <code>$yqlfeed</code> в качестве значения. Затем мы можем при помощи инструкции <code>echo</code> вывести отдельные значения нашего <code>array</code>, используя имя части, которую хотим вывести. Консоль YQL должна помочь вам найти эти разделы при использовании режима просмотра, при котором данные представлены в виде дерева.</p> <pre class="brush: php noskimlinks noskimwords">  &lt;?php//Create a variable that we can use to auto increment $i=0;//Loop out our yql feedburner feedforeach ($yqlfeed-&gt;query-&gt;results-&gt;item as $item ) { ?&gt; &lt;div class="post"&gt;             &lt;h3&gt;&lt;a  href="&lt;?php echo $item-&gt;link;?&gt;" target="_blank"&gt;&lt;?php echo $item-&gt;title;?&gt;&lt;/a&gt;&lt;/h3&gt;            &lt;span class="postInfo"&gt;by &lt;a href="#"&gt;&lt;?php echo $item-&gt;creator;?&gt;&lt;/a&gt; on &lt;?php echo substr($item-&gt;pubDate,0,-9);?&gt;&lt;/span&gt;            &lt;p&gt;&lt;?php echo $item-&gt;description;?&gt;&lt;/p&gt;            &lt;a class="more" href="&lt;?php echo $item-&gt;link;?&gt;" target="_blank"&gt;Read More&lt;/a&gt;            &lt;span class="line"&gt;&lt;/span&gt;                                 &lt;span class="blue"&gt;&lt;?php echo $yqlfeed2-&gt;query-&gt;results-&gt;item[$i++]-&gt;comments[1]; ?&gt; Comments &lt;/span&gt;                                  &lt;span class="line"&gt;&lt;/span&gt;        &lt;/div&gt;&lt;!--End Blog Post--&gt;&lt;?php }?&gt;</pre> <p>Обратите внимание, что в блоке кода выше мы вывели количество комментариев, хранящихся в $yqlfeed2. В разделе с комментариями имеется две части: URL-адрес комментария и количество комментариев. URL-адрес комментария – первая <code>part[0]</code> (* часть), а количество комментариев – вторая <code>part[1]</code>. Нам необходимо только количество комментариев. Также мы автоматически увеличиваем номер элемента на единицу за счет того, что задаем "<code>$i = 0</code>" и затем используем "<code>item[$i++]</code>". За счет этого номер элемента будет увеличиваться каждый раз после того, как элемент был перебран в цикле, и будет возвращено количество комментариев для каждого отдельного поста. </p> <p>Еще вам следует обратить внимание на то, что мы воспользовались встроенной функцией PHP, <code>subtr</code> - <code>substr($item-&gt;pubDate,0,-9)</code>. Мы это сделали из-за некоторых странно выглядящих символов в конце наших даты и времени. Благодаря этому просто удаляются последние девять символов (-9) и наши дата и время отображаются как положено.</p> <p><!--next step--></p> <hr><h2>  Шаг 9: Отображение имени пользователя, изображения и количества лайков</h2> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/display-username.png" alt="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." title="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." width="50" height="50"></div> <p>Вывести количество лайков просто; мы создали ранее переменную "<code>$likes</code>", так что нам просто необходимо вывести ее значение. Facebook PHP SDK также создает автоматически кое-какие переменные для нас; опять-таки, у нас здесь простой случай вывода данных. Нам нужно здесь только заменить наши фиктивные данные на динамические данные.</p> <pre class="brush: php noskimlinks noskimwords"> &lt;span class="likesCount"&gt;&lt;?php echo $likes;?&gt;&lt;/span&gt;&lt;p&gt;People like webdesigntuts+&lt;/p&gt;            &lt;div class="tabHeader"&gt;Hi &lt;?php echo $user_profile["name"]; ?&gt;&lt;/div&gt;            &lt;img class="profileimage" name="" src="https://graph.facebook.com/&lt;?php echo $user; ?&gt;/picture" width="50" height="50" alt=""&gt;            &lt;p&gt;We"re glad you stopped by at webdesigntuts+. We hope you enjoy our blog&lt;/p&gt;</pre> <p><!--next step--></p> <hr><h2>  Шаг 10: Отображение категорий</h2> <pre class="brush: php noskimlinks noskimwords">  &lt;div class="tabHeader"&gt;Categories on webdesigntuts+&lt;/div&gt;            &lt;ul&gt;   &lt;?php  foreach($yqlfeed3-&gt;query-&gt;results-&gt;item as $item) { ?&gt;   &lt;li&gt;&lt;a href="https://webdesign.tutsplus.com/tag/&lt;?php echo str_replace(" ","+",$item-&gt;category);?&gt;" target="_blank"&gt;&lt;?php echo $item-&gt;category;?&gt;&lt;/a&gt;&lt;/li&gt;    &lt;?php }?&gt;&lt;/ul&gt;</pre> <p>В коде выше мы просто перебираем элементы ответа на запрос YQL, содержащегося в "<code>$yqlfeed3</code>". Также мы используем другую встроенную функцию PHP, <code>str_replace</code>. Мы ее используем, чтобы заменить все пробелы в наших категориях на символ "<code>+</code>". Это делается для того, чтобы ссылки оставались рабочими при попытке перенаправления пользователя к разделу с категориями на <span>Webdesigntuts+</span>.</p> <p><!--next step--></p> <hr><h2>  Шаг 11: Последние советы и трюки для приложений для Facebook</h2> <h3>Автоматическое изменение размера пространства холста для приложения для Facebook</h3> <p>Первый трюк, который я хотел бы вам показать, помогает нам преодолеть последствия бага в iframe холста Facebook. В настройках вашего приложения для Facebook вы можете задать их таким образом, что iframe автоматически будет подгонять свой размер под размер вашего контента; однако при этом также появляется отвратительная полоса прокрутки рядом с вашим приложением слева от боковой панели Facebook. Это выглядит так себе, и мы можем решить эту проблему за счет простого фрагмента кода JavaScript, который может быть добавлен сразу после открывающего тега <code>body</code>. При помощи этого кода размер нашего холста будет подогнан  под размер контента и боковая панель будет располагаться с краю справа страницы Facebook, а не приложения.</p> <pre class="brush: php noskimlinks noskimwords">&lt;!--Resize Iframe--&gt;&lt;script src="http://connect.facebook.net/en_US/all.js"&gt;&lt;/script&gt;&lt;script&gt; FB.Canvas.setAutoResize(7); &lt;/script&gt; &lt;!-- End Resize Iframe--&gt;</pre> <h3>Всплывающее окно для входа в приложения для Facebook</h3> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/login-popup.png" alt="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." title="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." width="50" height="50"></div> <p>Следующий трюк предназначен для того момента, когда при первичном посещении вашего приложения пользователю будет предложено войти в приложение (* пройти аутентификацию и авторизацию). Вместо того чтобы просто отображать ссылку, у нас может быть всплывающее окно для входа в приложения. Знаете, о чем я. Уверен, вы видели их кучу раз. Это можно выполнить за счет добавления другого фрагмента кода JavaScript после закрывающего оператора else PHP.</p> <pre class="brush: php noskimlinks noskimwords"> $loginUrl = $facebook-&gt;getLoginUrl(array("redirect_uri" =&gt; $fbconfig["appUrl"]));  print "&amp;gt;script&gt;top.location.href = "$loginUrl";&lt;/script&gt;"; &amp;gt;</pre> <p><!--next step--></p> <hr><h2>Заключение</h2> <p>Что ж, на этом все, ребята! На этом завершается наша серия «<span>Создание дизайна и написание кода интегрированного с платформой Facebook приложения</span>». Надеюсь, что вам понравилось создавать обсуждаемое здесь приложение так же, как и мне писать об этом.</p> <p>В сентябре этого года (* 2011 года на момент написания оригинала руководства) на ежегодной конференции F8 (* предназначена для разработчиков и предпринимателей, продвигающий свои сервисы и продукты на Facebook) компания Facebook огласила, что количество пользователей веб-сайта перевалило за 800 миллионов в год. Отлично, Facebook! Как вы понимаете, это отличная платформа, чтобы раскрутить вас, ваш бренд или ваш продукт. Как еще ею воспользоваться, как не для создания вашего собственного приложения, вызывающего характерное для Facebook впечатление и имеющего похожий внешний вид. Компания Facebook также огласила в тот же самый день о новом типе профилей пользователей под названием Timeline (* временная шкала; графическое представление промежутка времени и хронологической связи событий; профиль представлен в виде виртуального альбома для фотографий, видео...). С выходом Timeline для приложений появляется совершенно новый дополнительный способ интеграции в профили пользователей / Timeline. </p> <blockquote> <p>«Фильмы, на которые вы ссылаетесь. Песни, которые вам очень нравятся. Ваши любимые увлечения. Теперь имеется новый класс приложений для социальных сетей, которые предоставляют вам возможность выразить себя через все, чем вы занимаетесь.»</p> </blockquote> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=680/webdesign/uploads/legacy/tuts/202_facebookApp/tutimages/facebook-timeline.png" alt="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." title="Создание дизайна и написание кода интегрированного с платформой Facebook приложения..." width="50" height="50"></div> <p>Сейчас замечательное время для нас, разработчиков приложений! Если вы еще не подключились, то чего же вы ждете? Не просто витайте в облаках, а поднимайте свою задницу и приступайте к созданию вашего следующего приложения. Я буду надеяться увидеть, что у вас получается, как вы применяете полученные знания и создаете на их основе что-то свое. Не стесняйтесь оставлять ссылки на ваши приложения и творения ниже в разделе для комментариев.</p> <p>До скорой встречи, удачного вам создания дизайнов и программирования!</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825671-sozdanie-dizajna-i-napisanie-koda-integrirovannogo-s-platformoj-facebook-prilozheniya" class="tm-article-body__tags-item-link">PHP</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
39273</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
650</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
