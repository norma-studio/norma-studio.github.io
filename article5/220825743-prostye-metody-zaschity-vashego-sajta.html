
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Простые методы защиты вашего сайта... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Простые методы защиты вашего сайта... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Простые методы защиты вашего сайта... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Простые методы защиты вашего сайта... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Одна из важнейших частей практики разработки PHP - это всегда помнить, что безопасность - это не то, что вы можете просто купить с полки в своем местном удобном магазине. Обеспечение безопасности ваших веб-приложений - это процесс, который со временем должен постоянно оцениваться, контролироваться и закаливаться....">
<meta property="og:description" content="Одна из важнейших частей практики разработки PHP - это всегда помнить, что безопасность - это не то, что вы можете просто купить с полки в своем местном удобном магазине. Обеспечение безопасности ваших веб-приложений - это процесс, который со временем должен постоянно оцениваться, контролироваться и закаливаться....">
<meta name="twitter:description" content="Одна из важнейших частей практики разработки PHP - это всегда помнить, что безопасность - это не то, что вы можете просто купить с полки в своем местном удобном магазине. Обеспечение безопасности ваших веб-приложений - это процесс, который со временем должен постоянно оцениваться, контролироваться и закаливаться....">
<meta property="aiturec:description" content="Одна из важнейших частей практики разработки PHP - это всегда помнить, что безопасность - это не то, что вы можете просто купить с полки в своем местном удобном магазине. Обеспечение безопасности ваших веб-приложений - это процесс, который со временем должен постоянно оцениваться, контролироваться и закаливаться....">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/whitenoise.jpg">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/whitenoise.jpg">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/whitenoise.jpg">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/whitenoise.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/whitenoise.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta.html" title="Простые методы защиты вашего сайта... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Простые методы защиты вашего сайта... | envatomarket.ru | norma-studio.github.io" title="Простые методы защиты вашего сайта... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/65404fb3f3f8602d7f5b3bdc85cbef02.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta.html" class="tm-user-info__username" title="
А. Крайнов" aria-label="
А. Крайнов">
А. Крайнов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Простые методы защиты вашего сайта...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta" class="tm-article-snippet__hubs-item-link"><span>PHP</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/whitenoise.jpg">
    <meta itemprop="headline name" content="Простые методы защиты вашего сайта... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Одна из важнейших частей практики разработки PHP - это всегда помнить, что безопасность - это не то, что вы можете просто купить с полки в своем местном удобном магазине. Обеспечение безопасности ваших веб-приложений - это процесс, который со временем должен постоянно оцениваться, контролироваться и закаливаться....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Одна из важнейших частей практики разработки PHP - это всегда помнить, что безопасность - это не то, что вы можете просто купить с полки в своем местном удобном магазине. Обеспечение безопасности ваших веб-приложений - это процесс, который со временем должен постоянно оцениваться, контролироваться и закаливаться....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Одна из важнейших частей практики разработки PHP - это всегда помнить, что безопасность - это не то, что вы можете просто купить с полки в своем местном удобном магазине. Обеспечение безопасности ваших веб-приложений - это процесс, который со временем должен постоянно оцениваться, контролироваться и закаливаться.</p><p><!--more--></p> <hr><h2>Введение</h2> <p>Хотя использование фильтров и проверка данных являются одной из частей процесса безопасности, веб-разработчик должен знать, что рандомизация, обфускация и криптография в PHP могут повлиять на безопасность веб-приложений. В этом учебном пособии вы найдете несколько простых приемов создания и использования случайных или уникальных значений в ваших веб-приложениях, взглянув на них и применяя некоторые общие методы обфускации и глубже погрузившись в науку о криптологии и используем ее в PHP.</p> <hr><h2>Что вы узнаете</h2> <ul><li>Как генерировать случайные значения с помощью PHP</li> <li>Создание случайных паролей</li> <li>Соли для паролей и проверка подлинности пользователя</li> <li>Обфускация в PHP, обзор</li> <li>Криптография в PHP и ее приложения</li> </ul><hr><h2>Генерация случайных значений</h2> <p>Dictionary.com определяет рандомизацию как:</p> <blockquote> <p>«- глагол: заказывать или выбирать случайным образом, как в примере или эксперименте, особенно для уменьшения смещения и помех, вызванных не релевантными переменными; делать наугад».</p> </blockquote> <p>Генерация случайного числа определяется различными способами, однако вычислительные генераторы не соответствуют «истинной» случайности, как в природе или электронном шуме (нечеткий, шумный, черно-белый канал на телевидении). Эти вычисленные значения считаются псевдослучайными.</p> <div class="tutorial_image"><img border="0" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/whitenoise.jpg" alt="Простые методы защиты вашего сайта..." title="Простые методы защиты вашего сайта..." width="50" height="50"></div> <p>PHP предоставляет нам несколько различных способов создания случайных значений. Давайте рассмотрим несколько наиболее популярных функций.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?phprand(int $min, int $max);mt_rand(int $min, int $max);str_shuffle($str);uniqid($prefix, more_entropy=);?&gt;</pre> <p>Две функции <code>rand()</code> и <code>mt_rand()</code>, вероятно, являются наиболее широко используемыми функциями для генерации набора случайных чисел в PHP. Функция <code>rand();</code> является более старым генератором и не используется из-за <code>mt_rand();</code> которая быстрее, надежнее и может обрабатывать более высокое максимальное целочисленное значение на некоторых платформах. Функция <code>str_shuffle()</code> делает именно то, что вы ожидаете от нее, она перетасовывает переданную ей строку.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php//Examples of mt_rand() usageprint mt_rand();//default  echo "&lt;br /&gt;";print mt_rand(0, 20);//Outputs a random integer between 0 and 20echo "&lt;br /&gt;";//Examples of rand() usageprint rand();//defaultecho "&lt;br /&gt;";print rand(0, 25);//Outputs a random integer between 0 and 25echo "&lt;br /&gt;";//Example of str_shuffle usage$string = "abcefghijklmnopqrstuvwxyz";print str_shuffle($string);//shuffles $string?&gt;</pre> <p>Функции <code>rand()</code> и <code>mt_rand()</code> принимают два параметра, где <code>$min</code> является наименьшим целым, и <code>$max</code> является наибольшим целым числом. Функция <code>str_shuffle</code> принимает один параметр - строку, выводит же перетасованную измененную строку. Она действует так же, как если бы вы перетасовывали колоду карт.</p> <p>В то время как <code>mt_rand();</code> выдает случайное целое число, а <code>str_shuffle</code> перемешивает строку, есть еще одна функция, широко используемая для создания случайных уникальных значений, - <code>uniqid()</code>. Она генерирует префиксный уникальный идентификатор, основанный на текущем времени в микросекундах (<span>через php.net</span>). Использование этой функции полезно для создания токенов сессии и даже создания ключей, как показано в разделе <span>Защитите свои формы с помощью форм-ключей</span>.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php//Examples of uniqid() usageprint uniqid();//defaultecho "&lt;br /&gt;";print uniqid("NETTUTS", TRUE);//Adding an additional prefix and setting more_entropy to TRUE?&gt;</pre> <p>Функция <code>uniqid()</code> принимает два параметра: первый добавляет префикс к результатам, а второй, если установлен в TRUE, добавит дополнительную <span>энтропию</span> в конец возвращаемого значения.</p> <hr><h2>Создание случайных паролей</h2> <p>Есть множество примеров в Интернете, которые генерируют случайные пароли, и все это прекрасно работает. «Но зачем, - спрашиваешь ты, - мне нужно создавать случайный пароль?» Ну, ответ, довольно прост, заключается в том, что вам не нужно полагаться на конечного пользователя, чтобы предоставить себе более безопасный пароль на ходу. Генерирование случайных паролей очень полезно при регистрации пользователей или когда пользователь делает запрос, потому что он <span>забыл свой пароль</span>. Это обеспечивает надежный пароль в начале пользовательского опыта на вашем веб-сайте или может сократить строки кода, когда пользователю необходимо снова получить доступ.</p> <div class="tutorial_image"><img border="0" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/shuffle.jpg" alt="Простые методы защиты вашего сайта..." title="Простые методы защиты вашего сайта..." width="50" height="50"></div> <p>Давайте посмотрим на некоторые примеры: Пример 1</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php//A simple function which will output a random passwordfunction randompassword($count){$pass = str_shuffle("abcefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890@#%$*");return substr($pass,3,$count);//returns the password}?&gt;</pre> <p>Этот пример перемешивает строку с помощью <code>str_shuffle</code> и возвращает строку в пределах подсчитанного диапазона. Поэтому, если вы хотите сгенерировать пароль с 8 символами, вы передадите 8 в функцию randompassword или randompassword (8) из исходного кода.</p> <p>Пример 2</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php//Another example to create a random passwordfunction anorandpass($count) {$m_rand = mt_rand(); //generate a random integer$u_id = uniqid("MNO!@#$%^&amp;*=+XYZ", TRUE);//create a unique identifier with some extra prefix and extra entropy$combine = $m_rand . $u_id;// Combine the variables to form a string$new = str_shuffle($combine);//shuffle our stringreturn substr($new, 2, $count);//return the password}print anorandpass(8);?&gt;</pre> <p>Для сравнения, пример 1 берет статическую строку и перетасовывает ее, а затем возвращает ее, пример 2 добавляет более динамичный привкус (mmm вкусно). В примере 2 перетасованная строка больше не является статической, но изменяется с каждой генерацией. В то время как первый пример в большинстве случаев достаточен для генерации надежного пароля, второй пример позволяет нам быть уверенными, что длина строки и символы будут меняться с использованием, что значительно уменьшит вероятность дублирования.</p> <p>Обеспечение использования сильных паролей в веб-приложении отпугивает пользователей от посещения или подписки на веб-сайт. Это часто является компромиссом между получением трафика, который вы желаете, и обеспечением безопасности приложения. Я предлагаю, чтобы ваши пользователи могли создавать свои собственные пароли при регистрации или позволить им выбирать между ними.</p> <hr><h2>Передайте соль, пожалуйста. Соли для паролей для повышения безопасности.</h2> <p>Солить пароли - эффективный способ повысить безопасность ваших учетных записей пользователей, даже если злоумышленник получает доступ к вашей базе данных, если все сделано правильно. Можно утверждать, что, имея доступ к соли, злоумышленник может получить ваши учетные данные. Хотя это верно, применение некоторых методов рандомизации для хранения паролей сделает этот процесс чрезвычайно сложным, особенно если хранение информации и контента пользователя разделено на отдельные базы данных.</p> <div class="tutorial_image"><img border="0" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/elements.jpg" alt="Простые методы защиты вашего сайта..." title="Простые методы защиты вашего сайта..." width="50" height="50"></div> <hr><h2>Зачем и как?</h2> <p>Опять же, это подпадает под «отсутствие уверенности конечного пользователя в обеспечении безопасности». Пользователи обычно используют пароли, которые легко запомнить и даже используют одни и те же пароли на нескольких сайтах (я точно знаю!?). Легко запомнить пароли, как правило, слова, найденные в словаре и других видах значений (например, 12345, QWERTY). Как разработчики мы часто смеемся над этой практикой, но мы не можем отрицать, что это так.</p> <p>Чтобы веб-приложение использовало соль в пароле, приложение должно его где-то хранить. Не рекомендуется использовать одну и ту же соль для всей базы данных паролей, но для создания уникальной соли для каждого пользователя. Генерация одной соли для всей базы данных фактически снижает безопасность веб-приложения в том смысле, что если злоумышленник может ее взломать, вся схема сломана или потеряна, что делает базу данных бесполезной. Создание полноценной системы регистрации участников со всеми тонкостями выходит за рамки этого учебника, однако мы создадим простую систему для использования примера. Давайте рассмотрим создание соли и применение некоторых методов рандомизации:</p> <hr><h2>1. Соединение с базой данных</h2> <p>Вот таблица SQL, которую мы будем использовать.</p> <pre name="code" class="noskimlinks noskimwords">CREATE TABLE IF NOT EXISTS `users` (  `usr_id` int(11) NOT NULL AUTO_INCREMENT,  `usr_name` varchar(24) NOT NULL,  `usr_pass` varchar(32) NOT NULL,  `usr_email` varchar(255) NOT NULL,  `usr_salt` varchar(255) NOT NULL,  PRIMARY KEY (`usr_id`)) ENGINE=MyISAM  DEFAULT CHARSET=latin1 ;</pre> <pre class="brush: php noskimlinks noskimwords">&lt;?php/*db_config.php*///database configuration$db_host ="localhost" ; //will likely stay the same$db_name = "thedbname"; //the name of the database table$db_usr = "username"; //your database username$db_pass = "password";//your database password//Establish a connection with MySQL and select the database to usemysql_connect($db_host, $db_usr, $db_pass) or die("MySQL Error: " . mysql_error());mysql_select_db($db_name) or die("MySQL Error: " . mysql_error());?&gt;</pre> <hr><h2>2. Файл регистрации</h2> <pre class="brush: php noskimlinks noskimwords">&lt;?php/*registration.php*///require our db_config.php filerequire ("db_config.php");//Check to see if the form has been submittedif(!empty($_POST["username"])  &amp;&amp; !empty($_POST["email"]) &amp;&amp; !empty($_POST["password"])) {    //Escape our posted inputs$username = mysql_real_escape_string($_POST["username"]);$email = mysql_real_escape_string($_POST["email"]);$password = mysql_real_escape_string($_POST["password"]);    //generate a strong unique salt$salt_gen = uniqid(mt_rand());    //Combine email, the password and the salt together$combine = $email . $password . $salt_gen;    //md5 hash the combined password * Note: md5 is only used in this scenario as an example$newpassword = md5($combine);    //insert the values into the database$registerquery = mysql_query("INSERT INTO users (usr_name, usr_pass, usr_email,  usr_salt) VALUES ("".$username."", "".$newpassword."", "".$email."", "".$salt_gen."")") or die("MySQL Error: ".mysql_error());    //let the user know of success or failureif ($registerquery) {echo "&lt;h1&gt;Success&lt;/h1&gt;";} else {echo "&lt;h1&gt;Failure&lt;/h1&gt;";}}?&gt;</pre> <p>Давайте рассмотрим PHP код. Чтобы все было просто, мы включаем наш файл конфигурации базы данных. Далее PHP проверяет, была ли отправлена форма HTML, проверяя, не являются ли переменные <code>$_POST</code> пустыми. Если они не пусты, скрипт переходит к сохраненным данным пользователя, готовя их к вставке в базу данных. Затем мы генерируем простую соль с использованием <code>uniqid()</code> и <code>mt_rand()</code> и сохраняем ее в переменной <code>$salt_gen</code>. Чтобы солить наш пароль, мы объединяем $password и соль. Следующий шаг, один из способов хэширования комбинированных переменных с помощью md5.</p> <p>«Но подождите, вы также добавили электронную почту пользователей на передний план пароля и соляную комбинацию!» Ага! Я сделал это, потому что, если злоумышленник каким-то образом получает доступ к моей базе данных и соли, единственный способ, когда злоумышленник точно знает, что адрес электронной почты используется в хэшировании пароля, - это если у него есть доступ к исходному коду. Насколько случайным и уникальным является адрес электронной почты?</p> <p>В довершение всего остального кода PHP мы вставляем наши переменные в таблицу базы данных в соответствующие поля и предоставляем пользователю некоторую обратную связь об успехе или неудаче. Теперь на оставшуюся часть регистрационного файла HTML.</p> <pre class="brush: html noskimlinks noskimwords">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;form action="" method="post"&gt;&lt;label for="username"&gt;Enter a Username&lt;/label&gt;    &lt;input type="text" name="username" /&gt;&lt;br /&gt;        &lt;label for="email"&gt;Enter your Email&lt;/label&gt;    &lt;input type="text" name="email" /&gt;&lt;br /&gt;        &lt;label for="password"&gt;Enter a Password&lt;/label&gt;    &lt;input type="password" name="password" /&gt;&lt;br /&gt;        &lt;input type="submit" name="submit" value="Submit" /&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;</pre> <p>Здесь мы создаем простую форму HTML, которая будет собирать имя пользователя, адрес электронной почты и пароль пользователя. Ничего особенного.</p> <hr><h2>3. Аутентификация пользователя</h2> <p>Итак, теперь у нас есть простая форма регистрации, которая добавляет пользователя в базу данных вместе с его соленым паролем. Давайте создадим страницу входа, которая потребует от нас получения информации из базы данных и проверки подлинности пользователя. Сначала PHP:</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php/*login.php*///require our db_config.php filerequire ("db_config.php");//Check to see if the form has been submittedif(!empty($_POST["username"])  &amp;&amp; !empty($_POST["password"])) {//Escape our posted inputs $username = mysql_real_escape_string($_POST["username"]);$password = mysql_real_escape_string($_POST["password"]);//Grab the row associated with the username from the form$grab_row = mysql_query("SELECT * FROM users WHERE usr_name = "".$username.""") or die ("MySQL Error: ".mysql_error());//If only one row was retrievedif (mysql_num_rows($grab_row) == 1) {//create an array from the row fields$row = mysql_fetch_array($grab_row);//store the users salt in a var$salt = $row["usr_salt"];//store the users email in a var$email = $row["usr_email"];//recombine the variables email, password, and the salt$combine = $email . $password . $salt;//re-hash the combined variables Note:md5 is only used in this scenario as an example$auth_pass = md5($combine);//check the database again for the row associated with the username and the rehashed password$checklogin = mysql_query("SELECT * FROM users WHERE usr_name = "".$username."" AND usr_pass = "".$auth_pass.""") or die("MySQL Error: ".mysql_error());//if only one row is retrieved output success or failure to the userif(mysql_num_rows($checklogin) == 1) {echo "&lt;h1&gt;Yippie, we are authenticated!&lt;/h1&gt;";} else {echo "&lt;h1&gt;Oh no, we are not authenticated!&lt;/h1&gt;";}} else {echo "&lt;h1&gt;Oh no, we are not in the database!&lt;/h1&gt;";}}?&gt;</pre> <p>Вот то, что в основном мы делаем в файле login.php: принимаем представленные переменные формы, захватывая строку таблицы, связанную с именем пользователя, и восстанавливаем пароль из элементов в базе данных, созданной с помощью (email, pass, salt) и перехэшируем их. Затем мы снова проверяем базу данных для имени пользователя и подтвержденного пароля для поиска соответствия, выводящего пользователя на успех или неудачу. Наконец, вот HTML:</p> <pre name="code" class="HTML noskimlinks noskimwords">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;form action="" method="post"&gt;&lt;label for="username"&gt;Enter your Username&lt;/label&gt;    &lt;input type="text" name="username" /&gt;&lt;br /&gt;         &lt;label for="password"&gt;Enter a Password&lt;label&gt;    &lt;input type="password" name="password" /&gt;&lt;br /&gt;        &lt;input type="submit" name="submit" value="Submit" /&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;</pre> <hr><h2>Обфускация в PHP</h2> <p>Простое, но комплексное определение обфускации (используйте версию, содержащуюся в источнике, если вы хотите запустить код):</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php $a1c0_z2="c".$a91."tion ";$a91="a";$vly_ti="us"."ed";$j1h_32_a=" to";$z1b_1=$a91." ";$lz32i_4="“O"."bfus";$g1k0p="que ";$lv83="t"."ec"."hni";$lFa="i"."s ";if($z1b_1==$a91." ")$rx_b_1="a";$glccUv=" complic".$rx_b_1."te ";$xl1ttf="code ";$zljal1="in such a";if($z1b_1==$a91." ")$s1b_1="a";$p1x2 =" w".$s1b_1."y ";$il_7x=" ".$b1zE_."t i".$l1yes;$b1zE_="i";$l1yes="s";$nltotry_ws="st".$s1b_1."n";$yl5B_="thαt ";$dlno=" not ";$m1tomanythings="under";if($s1b_1=="a")$bz_1=$s1b_1;$Ozaq="d".$bz_1."ble"";echo base64_decode("JiM4MjIwO09iZnVzY3Rpb24mIzgyMDE7aXMmIzgyMDE7YSYjODIwMTt0ZWNobmlxdWUmIzgyMDE7dXNlZCYjODIwMTt0byYjODIwMWNvbXBsaWNhdGUmIzgyMDE7Y29kZSYjODIwMTtpbiYjODIwMTtzdWNoJiM4MjAxO2EmIzgyMDE7d2F5JiM4MjAxO3RoJmFscGhhO3QmIzgyMDE7aSYjODIwMTt0JiM4MjAxO2kmIzgyMDE7bm90JiM4MjAxO3VuZGVyc3RhbmRhYmxlJnF1b3Q7");?&gt;</pre> <p>Как вы можете видеть, этот код не должен отличаться. Нет никаких отдельных имен переменных, комментариев нет, нет интервала, нет отступов, нет четкого порядка, и все это в одной строке. Несмотря на то, что мы не можем читать код, наши машины все еще знают, что это такое. Оно работает. Эта одна строка хаоса просто выводит «Obfusction is a technique used to complicate code in such a way that i t i not understandable.» Да, я знаю об ошибках.</p> <p>Обфускация имеет свои плюсы и минусы. Цель состоит в том, чтобы не дать человеку выяснить с первого взгляда, что делает код. Это плюс для людей, мало знакомых с языком программирования. Тем не менее, любой, кто имеет базовое понимание PHP, может пытаться читать вышеупомянутый запутанный код и выяснять, что он делает, на это может потребоваться немного времени. Это один из недостатков обфускации, это не форма шифрования, а просто попытка быть зашифрованным. Обфускация также обычно добавляет к размеру файла. Много времени вы потратите на запутанный код в чужом программном обеспечении.</p> <div class="tutorial_image"><img border="0" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/obfuscation.jpg" alt="Простые методы защиты вашего сайта..." title="Простые методы защиты вашего сайта..." width="50" height="50"></div> <hr><h2>Итак, как я могу скрыть мой код?</h2> <p>Это обычный вопрос. В основном есть два способа обфускации вашего кода. Во-первых, вы можете сделать это вручную. Написание скрытого кода занимает много времени. Пример, используемый в этой статье, занял некоторое время на написание по тем же причинам, что вы, в первую очередь, используете обфускацию (отсутствие структуры, порядка и т. д.), это даже приводило к некоторым ошибкам, которые я даже не хотел выслеживать и исправлять. Второй способ, которым вы можете запутать свой код, - это купить программное обеспечение, которое сделает это за вас. Использование программы для обфускации кода тривиально и, конечно же, стоит много денег. Некоторое программное обеспечение, которое утверждает, что запутывает ваш код, фактически шифрует и / или кодирует его таким образом, что оно требует handshake для работы. Часто вы можно найти программное обеспечение, чей поставщик даже не гарантирует, что ваш код будет работать, когда это будет сделано. Даже в этом примере я использовал простую функцию <code>Base64</code> для кодирования вывода скрипта.</p> <hr><h2>Несколько приемов обфускации</h2> <ul><li>Всегда, всегда, храните чистую версию источника для себя.</li> <li>Чем более случайная ваша техника, тем лучше.</li> <li>Устраните все пробелы, где они не нужны.</li> <li>Кодирование печатных/выведенных символов и пробелов (например, кавычки, пробелы, апострофы, дефисы) </li> <li>Чем сложнее код, тем лучше.</li> <li>Можно пренебречь структурой, если это не нанесет вреда работе кода (например, местоположения переменных до их вызова)</li> <li>Не используйте отличительные имена переменных, пространства имен или имена классов.</li> <li>Чем меньше кода вы используете, тем лучше</li> <li>Не верьте, что это надежно</li> </ul><hr><h2>Делать обфускацию или не делать?</h2> <p>Это зависит от вашего плана. В частности, если вы хотите продать свой PHP-скрипт (или любое программное обеспечение), вам необходимо его лицензировать. Это будет одна из передовых линий защиты, чтобы помешать программным средствам, предназначенным для аудитории, делать то, что они хотят. Яркий пример лицензирования можно увидеть в <span>Envato Marketplace Wiki</span>. Однако, по какой-либо причине, вы можете захотеть запутать часть или весь ваш код. Однако из-за недостатков обфускации, если вы действительно беспокоитесь о безопасности своего исходного кода, скорее всего, стоит смотреть в сторону шифрования.</p> <hr><h2>Криптография в PHP</h2> <div class="tutorial_image"><img border="0" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/quoteimage.jpg" alt="Простые методы защиты вашего сайта..." title="Простые методы защиты вашего сайта..." width="50" height="50"></div> <p>Wikipedia.com определяет криптографию как:</p> <p>«практика и изучение сокрытия информации».</p> <p>Криптография - это большое дело, даже если вы с ней не знакомы. Почти в каждом веб-приложении, которое в настоящее время работает, есть некоторое использование криптографии (то есть почтовые клиенты и веб-сайты). В качестве разработчиков мы должны быть информированы и знать о практических применениях криптографии в нашем программном обеспечении. PHP предоставляет нам некоторые очень фундаментальные и практические функции, которые мы можем использовать для шифрования данных. В этом разделе я буду в основном говорить об алгоритмах одностороннего хэширования, хотя еще я легко коснусь симметричного шифрования. Есть еще много примеров (т.е. стеганография, асимметричный ключ).</p> <hr><h2>Одностороннее хэширование</h2> <p>Часто мы используем одностороннее хеширование как способ безопасного хранения паролей и проверки целостности данных. Чтобы аутентифицировать пользователей веб-приложения, мы вводим пароль пользователя и сопоставляем его с сохраненным хешем пользователей. Тот же метод применяется для проверки целостности файлов.</p> <p>SHA-1, 2 и 3</p> <p>SHA семейство алгоритмов хеширования являются в настоящее время наиболее популярными, особенно SHA-1. Несмотря на то, что алгоритм SHA-1 может иметь слабые места, он широко используется.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php///One way hashing with SHA-1$string = "Netuts is Awesome";$hash = sha1($string);//or$hash2 = hash("sha1", $string);echo $hash."&lt;br /&gt;";echo $hash2."&lt;br /&gt;&lt;br /&gt;";//Will output: 42d2f15c3f92d28d7d58776e5d81b800f662cc6c ?&gt;</pre> <p>В PHP SHA-2 используется в другом отношении и требует, чтобы версия PHP 5 была больше или равна 5.1.2. SHA-2 превосходит SHA-1 и может быть вызван с разными размерами бит.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php$string_sha256 = "Nettuts is Awesome";$string_sha384 = "Nettuts is Awesome";$string_sha512 = "Nettuts is Awesome";$hash_sha256 = hash("sha256", $string_sha256);$hash_sha384 = hash("sha384", $string_sha384);$hash_sha512 = hash("sha512", $string_sha512);echo $hash_sha256."&lt;br /&gt;";echo $hash_sha384."&lt;br /&gt;";echo $hash_sha512."&lt;br /&gt;";/* Outputs repspectively:sha256 : 09074adc0d70e15b88494643e29c2836e1ab94a21989691dec594cb0bd742ebcsha384 : 8535470750df54a78701d4bfe0451f9799057a5bc101944a32480d2436e8b95440bce3bcab3f9ce107b0b92d9595ae32sha512 : c2e6dce873a71800b862791e56b480b976bb26cd3136c02da510c3905caa49b7b9e9260549976e1e741cc93e4569a611f2030d3b7104c6c6c2ff9e6c9bf0946a*/?&gt;</pre> <p>Хэш-функция вызывается хешем (алгоритм, строка); В новейших версиях PHP функция hash() может использоваться для вызова любого одностороннего хэш-алгоритма, поддерживающего PHP (т.е. md5, sha-1, haval, ghost). Если вы хотите просмотреть список всех зарегистрированных алгоритмов хеширования, вы можете использовать:</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php//As of PHP5 &gt;= 5.1.2print_r(hash_algos());?&gt;</pre> <p>SHA-3 все еще разрабатывается и рассматривается для стандартизации. Национальным институтом стандартов и технологий было открыто <span>соревнование</span> для поиска лучшего кандидата, который бы выступил в качестве нового алгоритма безопасного хэширования, а запись для конкурса была ограничена до 31 октября 2008 года. Довольно популярный продукт, названный Skein, доступен как PHP-модуль, который вы можете скачать (хотя вы должны его скомпилировать самостоятельно). Skein разработан несколькими известными людьми в индустрии безопасности, такими как Брюс Шнайер, Нильс Фергюсон и Стефан Лакс. Официальный сайт Skein можно найти <span>здесь</span>.</p> <div class="tutorial_image"><img border="0" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/453_php/encrypt.jpg" alt="Простые методы защиты вашего сайта..." title="Простые методы защиты вашего сайта..." width="50" height="50"></div> <hr><h2>Шифрование на основе ключа </h2> <p>Способы симметричного шифрования Symmetric-Key - это когда безопасность шифрования в основном находится внутри ключа, который разделяется между двумя точками, где данные шифруются и где данные дешифруются. Очень хороший пример того, как это может работать, был предоставлен учебным пособием Кристиана Бейкова «<span>Создание класса Crypter Class with PHP</span>».</p> <hr><h2>HMAC</h2> <p>По сути, HMAC похож на сочетание одностороннего хэширования и шифрования на основе ключей. Безопасность HMAC зависит от используемого размера ключа и от силы хэш-функции, с которой она рассчитывается. Вы можете сравнить этот метод с солями паролей.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php$string_hmac = "Nettuts is Awesome";//hash_hmac(algorithm, string to hash, key)$hmac = hash_hmac("sha1", $string_hmac, "secret");echo $hmac."&lt;br /&gt;";?&gt;</pre> <hr><h2>Подводя итоги</h2> <p>Ну, какое путешествие! Рандомизация значений, генерирование случайных паролей, соление, хранение и аутентификация пользователей, обфускация, криптография ... кажется, что очень много. Но оно стоит того! Важно знать, какую безопасность вы можете внедрить в свои веб-приложения, и как вы можете их защищать. Более того, важно придерживаться разумного отношения к этим реализациям и не думать, что безопасность реализуется только несколькими способами, но и их комбинацией с творческим подходом.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825743-prostye-metody-zaschity-vashego-sajta" class="tm-article-body__tags-item-link">PHP</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
40098</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
390</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
