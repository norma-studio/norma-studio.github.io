
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Использование New Relic для мониторинга ваших серверов
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Использование New Relic для мониторинга ваших серверов
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Использование New Relic для мониторинга ваших серверов
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Использование New Relic для мониторинга ваших серверов
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Запущенное приложение - это не просто куча кода, код также должен-где-то-работать. Я сейчас говорю о ваших производственных серверах. Также важно обеспечить, чтобы ваши производственные сервера вели себя так, чтобы вы были уверены, что ваш код приложения является работоспособным. Вы можете настроить такие системы, как Nagios, чтобы помочь вам в это...">
<meta property="og:description" content="Запущенное приложение - это не просто куча кода, код также должен-где-то-работать. Я сейчас говорю о ваших производственных серверах. Также важно обеспечить, чтобы ваши производственные сервера вели себя так, чтобы вы были уверены, что ваш код приложения является работоспособным. Вы можете настроить такие системы, как Nagios, чтобы помочь вам в это...">
<meta name="twitter:description" content="Запущенное приложение - это не просто куча кода, код также должен-где-то-работать. Я сейчас говорю о ваших производственных серверах. Также важно обеспечить, чтобы ваши производственные сервера вели себя так, чтобы вы были уверены, что ваш код приложения является работоспособным. Вы можете настроить такие системы, как Nagios, чтобы помочь вам в это...">
<meta property="aiturec:description" content="Запущенное приложение - это не просто куча кода, код также должен-где-то-работать. Я сейчас говорю о ваших производственных серверах. Также важно обеспечить, чтобы ваши производственные сервера вели себя так, чтобы вы были уверены, что ваш код приложения является работоспособным. Вы можете настроить такие системы, как Nagios, чтобы помочь вам в это...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/uploads/users/2/posts/21303/image/1_account_settings.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/uploads/users/2/posts/21303/image/1_account_settings.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/uploads/users/2/posts/21303/image/1_account_settings.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/uploads/users/2/posts/21303/image/1_account_settings.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/uploads/users/2/posts/21303/image/1_account_settings.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov.html" title="Использование New Relic для мониторинга ваших серверов
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Использование New Relic для мониторинга ваших серверов
... | envatomarket.ru | norma-studio.github.io" title="Использование New Relic для мониторинга ваших серверов
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/542343243.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov.html" class="tm-user-info__username" title="
А. Анискин" aria-label="
А. Анискин">
А. Анискин</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Использование New Relic для мониторинга ваших серверов
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov" class="tm-article-snippet__hubs-item-link"><span>Web Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/uploads/users/2/posts/21303/image/1_account_settings.jpg">
    <meta itemprop="headline name" content="Использование New Relic для мониторинга ваших серверов
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Запущенное приложение - это не просто куча кода, код также должен-где-то-работать. Я сейчас говорю о ваших производственных серверах. Также важно обеспечить, чтобы ваши производственные сервера вели себя так, чтобы вы были уверены, что ваш код приложения является работоспособным. Вы можете настроить такие системы, как Nagios, чтобы помочь вам в это...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Запущенное приложение - это не просто куча кода, код также должен-где-то-работать. Я сейчас говорю о ваших производственных серверах. Также важно обеспечить, чтобы ваши производственные сервера вели себя так, чтобы вы были уверены, что ваш код приложения является работоспособным. Вы можете настроить такие системы, как Nagios, чтобы помочь вам в это...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Запущенное приложение - это не просто куча кода, код также должен где-то работать. Я сейчас говорю о ваших производственных серверах. Также важно обеспечить, чтобы ваши производственные сервера вели себя так, чтобы вы были уверены, что ваш код приложения является работоспособным. Вы можете настроить такие системы, как <span>Nagios</span>, чтобы помочь вам в этом, но они могут быть чрезвычайно сложными для работы, требуют значительной инфраструктуры и могут быть полностью избыточными (если только ваши потребности в инфраструктуре не являются чрезвычайно сложными). <span>New Relic</span> обеспечивает менее полнофункциональную, но очень простую альтернативу, когда дело касается мониторинга инфраструктуры.<br></p><p>Если вы прочитали некоторые из <span>наших предыдущих статей о New Relic</span>, вы должны хорошо понимать то, как работают <span>информационные панели New Relic</span>. В панелях мониторинга сервера используются одни и те же концепции. Если вы уже используете New Relic, вы можете очень быстро начать собирать данные о производительности вашего сервера. Даже если вы до этого еще ни разу не устанавливали New Relic, его можно использовать только для мониторинга серверов. Шесть или около того информационных панелей, которые предоставляет New Relic, могут значительно задержать (или даже полностью удалить) необходимость в более полнофункциональном решении для мониторинга вашей инфраструктуры.<br></p><h2>Зачем мне нужен сервис для мониторинга серверов?<br></h2><p>В зависимости от потребностей вашего приложения у вас может быть веб-компонент, база данных, кеш, поиск, балансировка нагрузки и т.д. Некоторые из них могут делить между собой один и тот же сервер. Но, как только ваше приложение выйдет за определенный размер, вы начнете размещать некоторые из них на своих собственных серверах. Когда у вас только один сервер, все просто. Вы <span>используете SSH на нем</span>, запускаете несколько <span>команд оболочки</span> и получаете довольно хорошую отчет относительно состояния этого одного сервера. По мере увеличения количества серверов это может стать немного сложной задачей. Было бы удобно, если бы у вас была возможность сразу узнать о здоровье всех ваших серверов. Это именно та проблема, которую решают серверные панели New Relic. Вы получаете мгновенный снимок состояния всех ваших производственных серверов сразу.<br></p><p>Конечно, ручная проверка работоспособности всех ваших серверов - это не самая эффективная вещь. Когда все идет не так, вы захотите узнать, как только это произойдет, а не в следующий раз, когда вы решите это проверить. Большинство систем мониторинга инфраструктуры имеют возможность отправлять предупреждения, когда определенные части контролируемых серверов терпят неудачу (например, диск переполнен, использование слишком большого количества ОЗУ и т.д.). New Relic в этом ничем не отличается. Вы можете использовать очень <span>гибкую инфраструктуру политики уведомлений</span> для отправки уведомлений о сбоях любым способом, например, по электронной почте или использовать веб-перехватчиков и т.д.<br></p><p>Наконец, проблемы инфраструктуры часто не появляются внезапно, исторический контекст важен. ОЗУ будет медленно съедаться в течение нескольких часов до того, как сервер начнет отказывать, диск будет заполняться в течение нескольких дней, прежде чем что-нибудь придет в голову. Простая проверка ваших серверов не дает вам исторический контекст, необходимый для предотвращения возникновения проблем. Если вам просто нужно проверить использование диска, когда он немного полон, вы можете что-то сделать. Если нет, вы узнаете только о проблеме, когда ваши сервера поумирают. New Relic собирает данные и отправляет их обратно на свои серверы все время, поэтому информационные панели посвящены историческому контексту. Это позволяет легко избавиться от определенных классов проблем.<br></p><h3>Это работает в реальной жизни<br></h3><p>Позвольте мне рассказать вам пару историй. Мы используем New Relic в <span>Tuts +</span> для мониторинга производительности приложений и мониторинга серверов. Несколько месяцев назад я был на связи, когда наши серверы начали плохо себя вести каждые несколько минут. Они не совсем падали, но приложение выполнялось очень плохо в течение коротких промежутков времени. Я вошел в серверы и обнаружил, что использование памяти было очень высоким. Поэтому я перезагрузил серверы один за другим, и казалось, что все в порядке. Но через несколько часов все это снова началось. Это пахло, как утечка памяти. </p><p>Поэтому я вошел в New Relic, чтобы посмотреть на графики. Разумеется, один из деплоев, которые мы делали ранее, ввел утечку памяти в приложение. Потребуется несколько часов для того, чтобы вся память оказалась использованной приложением, и в этот момент она пошла бы в отчаянное безумие со <span>сборщиком мусора</span>, вызывая всевозможные смешные проблемы. Глядя на диаграммы памяти на всех серверах, сразу стало очевидно, что происходит. В то время у нас не было настроенных предупреждений (мы делаем это сейчас), поэтому мы не узнали о проблеме до тех пор, пока это не вызвало другие проблемы. Но, имея возможность сравнивать все серверы друг с другом, а также имея исторический контекст, позволило мне легко диагностировать проблему, развернуть фикс и во время уснуть той ночью.<br></p><p>Вот еще один. Недавно произошел сбой в центре обработки данных <span>AWS</span>, где размещается Tuts +. Когда все закончилось, мы перезагрузили все серверы, чтобы убедиться, что не было никаких проблем. Но когда серверы вернулись, приложение вдруг стало периодически возвращать 500 ответы. Вероятно, это проблема с одним или несколькими серверами, что очень неприятно для диагностики, когда у вас много серверов. Еще раз, глядя в New Relic, мы смогли быстро решить проблему. Один из наших серверов вернулся с процессом изгоем, который потреблял много CPU, в результате чего приложение на этом сервере плохо работало. Другой сервер была затронут каким-то сбоем AWS, который вызвал использование дискового ввода-вывода этого блока на 100%. Мы убрали этот сервер из нашего <span>балансировщика нагрузки</span>, избавились от процесса изгоя на другом, и приложение снова начало отлично работать.<br></p><p>New Relic действительно обеспечивает очень полезные графики, и я бы не хотел оказаться без них, поэтому позвольте мне показать, как получить контроль над сервером и запустить его.</p><h2>Установка агента мониторинга сервера New Relic</h2><p>В основном все сводится к регистрации на вашем сервере и установке демона мониторинга (<code class="inline">nrsysmond</code>). Если вы прочитали статью <span>New Relic для PHP</span>, то процедура почти идентична. Как обычно, давайте предположим, что мы на Ubuntu. <br></p><p>Первое, что нужно сделать, это импортировать ключ репозитория New Relic:</p><pre class="brush: bash noskimlinks noskimwords">wget -O - https://download.newrelic.com/548C16BF.gpg | sudo apt-key add -</pre><p>Теперь мы добавляем в систему репозиторий New Relic: </p><pre class="brush: bash noskimlinks noskimwords">sudo sh -c "echo "deb http://apt.newrelic.com/debian/ newrelic non-free" &gt; /etc/apt/sources.list.d/newrelic.list"</pre><p>Теперь мы просто используем <code class="inline">apt</code>:</p><pre class="brush: bash noskimlinks noskimwords">sudo apt-get updatesudo apt-get install newrelic-sysmond</pre><p>После завершения установки вы получите сообщение, подобное этому:</p><pre class="brush: bash noskimlinks noskimwords">************************************************************************************************************************************************  Can not start the New Relic Server Monitor until you insert a***  valid license key in the following file:******     /etc/newrelic/nrsysmond.cfg******  You can do this by running the following command as root:******     nrsysmond-config --set license_key=&lt;your_license_key_here&gt;******  No data will be reported until the server monitor can start.***  You can get your New Relic key from the "Configuration" section***  of the "Support" menu of your New Relic account (accessible at***  https://rpm.newrelic.com).*********************************************************************************************************************************************</pre><p>Давайте сделаем то, что оно нам говорит. Во-первых, давайте перейдем к нашим настройкам учетной записи New Relic, чтобы найти наш лицензионный ключ (он будет справа):</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/uploads/users/2/posts/21303/image/1_account_settings.jpg" class="lazy07" alt="Использование New Relic для мониторинга ваших серверов..." title="Использование New Relic для мониторинга ваших серверов..." width="50" height="50"></figure><p>Теперь давайте запустим команду:</p><pre class="brush: bash noskimlinks noskimwords">nrsysmond-config --set license_key=&lt;your_license_key_here&gt;</pre><p>Если вы сейчас проверите файл конфигурации: <code class="inline">/etc/newrelic/nrsysmond.cfg</code>. Там вы увидите свой лицензионный ключ. Мы готовы запустить агента:</p><pre class="brush: bash noskimlinks noskimwords">/etc/init.d/newrelic-sysmond start</pre><p>Теперь вы можете проверить список процессов, чтобы убедиться, что он запущен:</p><pre class="brush: bash noskimlinks noskimwords">ps -ef | grep nrsysnewrelic 10087     1  0 09:25 ?        00:00:00 /usr/sbin/nrsysmond -c /etc/newrelic/nrsysmond.cfg -p /var/run/newrelic/nrsysmond.pidnewrelic 10089 10087  0 09:25 ?        00:00:00 /usr/sbin/nrsysmond -c /etc/newrelic/nrsysmond.cfg -p /var/run/newrelic/nrsysmond.pidubuntu   10100  9734  0 09:25 pts/1    00:00:00 grep --color=auto nrsys</pre><p>Согласно PHP-агенту, существует два процесса. Один - это процесс мониторинга, а второй - воркер. Воркер фактически выполняет работу по обмену данными с серверами New Relic, процесс мониторинга просто наблюдает за воркером, и если тот умирает, по какой-то причине он будет порождать новый.</p><p>Мы также можем проверить журналы, чтобы убедиться, что при запуске не было ошибок:</p><pre class="brush: bash noskimlinks noskimwords">cat /var/log/newrelic/nrsysmond.log2014-05-25 09:25:02 [10089/main] always: New Relic Server Monitor version 1.4.0.471/C+IA started - pid=10089 background=true SSL=true ca_bundle=&lt;none&gt; ca_path=&lt;none&gt; host=ip-10-196-10-1952014-05-25 09:25:03 [10089/main] info: RPM redirect: collector-102.newrelic.com(50.31.164.202) port 0 (0 means default port)</pre><p>Все выглядит отлично, и теперь вы должны увидеть данные в New Relic UI.</p><h2>Настройка агента мониторинга сервера<br></h2><p>В большинстве случаев вам не нужно настраивать что-либо еще помимо лицензионного ключа, но если вам нужно поднять уровень логирования или настроить прокси-сервер, это определенно возможно. Все это расположено в <code class="inline">/etc/newrelic/nrsysmond.cfg</code>. Файл очень хорошо прокомментирован и довольно понятен. Если вы что-то измените, не забудьте <i>перезапустить</i> демона:</p><pre class="brush: bash noskimlinks noskimwords">/etc/init.d/newrelic-sysmond restart</pre><p>Есть только одна тонкая вещь, когда речь идет о настройке мониторинга сервера, и это имя сервера, как это будет видно в панелях New Relic. По умолчанию New Relic берет имя хоста и делает его именем сервера в информационных панелях (т. е. выводит команду <code class="inline">hostname</code>). Я рекомендую вам сохранить его таким образом. Если вы также используете New Relic для мониторинга приложений, сохраняйте имя хоста в качестве вывода командой hostname, так как имя сервера гарантирует, что New Relic может правильно обработать то, какие приложения запускаются на каких серверах и как правильно их связывать в пользовательском интерфейсе.</p><p>Если вам действительно нужно, вы можете изменить имя сервера, как оно появится в пользовательском интерфейсе, установив параметр <code class="inline">hostname=</code> в файле конфигурации: <code class="inline">/etc/newrelic/nrsysmond.cfg</code>. Для этого вам необходимо перезапустить демона. Вы также можете изменить имя сервера непосредственно в пользовательском интерфейсе, который не повлияет на демона.<br></p><h2>Использование панелей мониторинга сервера<br></h2><p>Первое, что вы видите, когда вы нажимаете ссылку «<b>Серверы</b>» слева, - это снимок всех ваших серверов и ключевые показатели для них (CPU, Disk, Memory, IO). </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/2/posts/21303/image/2_server_snapshot.jpg" alt="Использование New Relic для мониторинга ваших серверов..." title="Использование New Relic для мониторинга ваших серверов..." width="50" height="50"></figure><p>Эта страница может позволить вам увидеть, что один или несколько ваших серверов явно некорректно себя ведут. Здесь вы также можете переименовать сервер или добавить к нему теги, если это необходимо.<br></p><p>Если мы щелкнем по одному из серверов, мы перейдем на главную панель управления сервера:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/2/posts/21303/image/3_main_server_dashboard.jpg" alt="Использование New Relic для мониторинга ваших серверов..." title="Использование New Relic для мониторинга ваших серверов..." width="50" height="50"></figure><p>Здесь есть шесть основных показателей:<br></p><ul><li>Использование процессора</li> <li>Использование памяти<br></li> <li>Использование дискового ввода-вывода<br></li> <li>Сетевой IO<br></li> <li>Средняя загрузка<br></li> <li>Список процессов<br></li> </ul><p>Это даст вам краткий обзор конкретного сервера. Вы можете просмотреть все графики, чтобы получить дополнительную информацию. Например, вы можете перейти к графику процессора, чтобы узнать, какие процессы используют CPU:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/2/posts/21303/image/4_cpu_consumers.jpg" alt="Использование New Relic для мониторинга ваших серверов..." title="Использование New Relic для мониторинга ваших серверов..." width="50" height="50"></figure><p>Или вы можете развернуть график по диску, чтобы увидеть данные по вводу-выводы, разбивку чтений и записей, а также получить оценку того, сколько времени осталось до того, как ваш диск будет заполнен.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/2/posts/21303/image/5_disk_io_drilldown.jpg" alt="Использование New Relic для мониторинга ваших серверов..." title="Использование New Relic для мониторинга ваших серверов..." width="50" height="50"></figure><p>Лучшая часть - вы можете использовать те же операции на всех этих графиках, что и на графиках уровня приложений. Таким образом, вы можете увеличить масштаб на пятиминутном окне, чтобы более внимательно изучить всплеск использования процессора, или вы можете взглянуть на семидневный тренд в использовании памяти. <br></p><p>Графики просты в понимании, они не сбивают вас с толку своими метриками, и вы можете сравнивать подобные серверы друг с другом. Это может помочь вам диагностировать 99% общих проблем, с которыми вы, вероятно, столкнетесь с вашей инфраструктурой.<br></p><h2>Настройка предупреждений при мониторинге сервера<br></h2><p>New Relic недавно провела большую работу по улучшению своих возможностей оповещения. Политики оповещения - это то, что они придумали во всей своей системе (например, существуют политики уведомлений приложений для политик уведомлений приложений и серверов для серверов). Сначала это может показаться немного запутанным, но все это довольно просто, как только вы начнете пользоваться. Существуют две основные концепции, политики и каналы. Что касается серверных предупреждений, они работают следующим образом: </p><p>Мы настроили политику и назначили ей несколько серверов:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/2/posts/21303/image/6_server_policy.jpg" alt="Использование New Relic для мониторинга ваших серверов..." title="Использование New Relic для мониторинга ваших серверов..." width="50" height="50"></figure><p>Вы также создаете канал (например, электронная почта или  webhook), на который можно отправлять предупреждения:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/2/posts/21303/image/7_alert_channels.jpg" alt="Использование New Relic для мониторинга ваших серверов..." title="Использование New Relic для мониторинга ваших серверов..." width="50" height="50"></figure><p>Затем вы назначаете канал политике. С этого момента, в зависимости от настроек канала (например, первого критического события, всех критических событий, простоев). Вы получите уведомления на этом канале.<br></p><p>Единственный путающий бит о правилах оповещения - это где их найти. Они расположены в разделе <b>Инструменты -&gt; Политики предупреждений</b>:</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=526/uploads/users/2/posts/21303/image/8_alert_policies_where_to_find.jpg" alt="Использование New Relic для мониторинга ваших серверов..." title="Использование New Relic для мониторинга ваших серверов..." width="50" height="50"></figure><p>Затем вам нужно нажать «<b>Серверы</b>» в меню вверху, чтобы найти политики предупреждений сервера.<br></p><h2>Вывод<br></h2><p>Если вы уже используете решение для мониторинга инфраструктуры, такое как Nagios, и оно хорошо работает для вас, то вы не сможете получить слишком много дополнительных приемуществ от мониторинга сервера с помощью New Relic (хотя графики и исторические тенденции довольно хороши). Однако, если вы вообще не контролируете свою инфраструктуру или ваше текущее решение плохо работает для вас, обязательно попробуйте New Relic. Для меня он стал первым инструментом, к которому я обращаюсь, когда подозреваю, что с моими серверами что-то не так. И достаточно часто, он дает мне знать, когда возникает проблема, прежде чем ситуация станет критической. Как разработчикам, это именно тот инструмент, который нам всем необходимо иметь в своем арсенале.<br></p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825513-ispolzovanie-new-relic-dlya-monitoringa-vashih-serverov" class="tm-article-body__tags-item-link">Web Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
38975</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
665</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
