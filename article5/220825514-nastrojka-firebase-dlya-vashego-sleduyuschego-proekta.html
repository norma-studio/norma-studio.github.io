
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Настройка Firebase для вашего следующего проекта... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Настройка Firebase для вашего следующего проекта... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Настройка Firebase для вашего следующего проекта... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Настройка Firebase для вашего следующего проекта... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В сегодняшнем учебном пособии мы познакомим вас с Firebase, создав простое приложение для чатов, используя Javascript API Firebase. Это приложение предоставит вам строительные блоки для разработки более совершенных приложений реального времени в ваших собственных проектах....">
<meta property="og:description" content="В сегодняшнем учебном пособии мы познакомим вас с Firebase, создав простое приложение для чатов, используя Javascript API Firebase. Это приложение предоставит вам строительные блоки для разработки более совершенных приложений реального времени в ваших собственных проектах....">
<meta name="twitter:description" content="В сегодняшнем учебном пособии мы познакомим вас с Firebase, создав простое приложение для чатов, используя Javascript API Firebase. Это приложение предоставит вам строительные блоки для разработки более совершенных приложений реального времени в ваших собственных проектах....">
<meta property="aiturec:description" content="В сегодняшнем учебном пособии мы познакомим вас с Firebase, создав простое приложение для чатов, используя Javascript API Firebase. Это приложение предоставит вам строительные блоки для разработки более совершенных приложений реального времени в ваших собственных проектах....">
<meta property="og:image" content="//www.gravatar.com/avatar/678f404b5bb3c3d52bfe7cf2e95e75f4?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="aiturec:image" content="//www.gravatar.com/avatar/678f404b5bb3c3d52bfe7cf2e95e75f4?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta name="twitter:image" content="//www.gravatar.com/avatar/678f404b5bb3c3d52bfe7cf2e95e75f4?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="vk:image" content="//www.gravatar.com/avatar/678f404b5bb3c3d52bfe7cf2e95e75f4?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="og:type" content="article">
<link image_src="image" href="//www.gravatar.com/avatar/678f404b5bb3c3d52bfe7cf2e95e75f4?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta.html" title="Настройка Firebase для вашего следующего проекта... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Настройка Firebase для вашего следующего проекта... | envatomarket.ru | norma-studio.github.io" title="Настройка Firebase для вашего следующего проекта... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/645343435.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta.html" class="tm-user-info__username" title="
Н. Аяцков" aria-label="
Н. Аяцков">
Н. Аяцков</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Настройка Firebase для вашего следующего проекта...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta" class="tm-article-snippet__hubs-item-link"><span>Web Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta.html" />
    <link itemprop="image" href="//www.gravatar.com/avatar/678f404b5bb3c3d52bfe7cf2e95e75f4?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
    <meta itemprop="headline name" content="Настройка Firebase для вашего следующего проекта... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В сегодняшнем учебном пособии мы познакомим вас с Firebase, создав простое приложение для чатов, используя Javascript API Firebase. Это приложение предоставит вам строительные блоки для разработки более совершенных приложений реального времени в ваших собственных проектах....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В сегодняшнем учебном пособии мы познакомим вас с Firebase, создав простое приложение для чатов, используя Javascript API Firebase. Это приложение предоставит вам строительные блоки для разработки более совершенных приложений реального времени в ваших собственных проектах....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>В сегодняшнем учебном пособии мы познакомим вас с <span>Firebase</span>, создав простое приложение для чатов, используя Javascript API Firebase. Это приложение предоставит вам строительные блоки для разработки более совершенных приложений реального времени в ваших собственных проектах.</p><h2>Начинаем</h2> <p>Чтобы запустить Firebase, вам нужно будет создать бесплатную учетную запись разработчика, посетив их веб-сайт и зарегистрировавшись. После того, как вы успешно зарегистрировались, Firebase перенаправит вас на панель управления вашей учетной записью, где у вас будет доступ ко всем местоположениям данных Firebase и другим интересным функциям. Однако сейчас вы должны выбрать местоположение данных Firebase под названием <strong>MY FIRST APP</strong>. Не стесняйтесь переименовывать это приложение или создать новое.</p> <p>Когда было выбрано местоположение данных Firebase, ему будет присвоено собственное уникальное имя <em>host-name</em>. Это уникальное имя хоста очень важно; Потому что это место, где ваши данные будут прочитаны и написаны. Мы обсудим имя хоста более подробно, позже в учебнике, но на данный момент:</p> <h2>Начнем строить</h2> <p>Первый пункт повестки дня: создайте новый HTML-файл, который ссылается на клиент Firebase, jQuery и Bootstrap CDN. Совершенно очевидно, что нам нужно ссылаться на CDN Firebase. Теперь может быть не так понятно, почему мы ссылаемся на jQuery и Bootstrap. Я использую jQuery и Bootstrap для быстрой разработки приложений. Обе эти библиотеки позволяют мне делать что-то очень быстро, и они не требуют большого количества дополнительного кода. Тем не менее, я не буду подробно обсужать ни jQuery, ни Bootstrap. Поэтому не стесняйтесь больше узнать об этих библиотеках JavaScript самостоятельно.</p><h3>HTML-код</h3> <p>Разметка, которая реализует то, что я описал, выглядит следующим образом:</p> <pre class="brush: html noskimlinks noskimwords">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;  &lt;meta charset="utf-8"&gt;&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;&lt;title&gt;Firebase Chat Application&lt;/title&gt;&lt;link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"&gt;&lt;/head&gt;&lt;body&gt;&lt;script src="https://cdn.firebase.com/js/client/1.0.6/firebase.js"&gt;&lt;/script&gt;&lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"&gt;&lt;/script&gt;&lt;script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</pre> <p>Теперь, когда мы создали наш HTML-файл и ссылаемся на правильные CDN, давайте приступим к разработке остальной части нашего приложения.</p> <p>Во-первых, нам нужно определить, какие существенные функциональные возможности потребуется для этого приложения. Похоже, что большинство приложений в стиле чатов имеют два сходства: поле для отправки сообщений на сервер и раздел, который заполняется сообщениями с сервера. В нашем случае этот сервер будет нашим местоположением данных Firebase.</p> <p>Давайте реализуем окно сообщения для отправки сообщений на сервер перед началом работы. Это потребует от нас создания простого интерфейса, который включает в себя поле <code>input</code> и кнопку <em>submit</em>, завернутые в теги <code>form</code>. Поскольку мы ссылаемся на таблицу стилей Bootstrap, мы можем использовать некоторые предопределенные стили для создания интерфейса. Как я сказал ранее, это очень удобно и позволяет нам писать меньше кода.</p> <p>Итак, давайте сначала поместим <code>div</code> с атрибутом класса <code>container</code> непосредственно после открывающего тега <code>body</code> в HTML-файле. Это функция бутстрапа, которая предоставляет ограничения ширины и отступы для содержимого страницы. Внутри тегов контейнера добавьте заголовок, заключенный в теги <code>H1</code>, чтобы мы могли дать приложению описательное имя. Мой заголовок будет «Приложение для Firebase Chat». Не стесняйтесь использовать свое творчество при написании своего названия.</p> <p>Разметка, которая реализует то, что я описал выше, выглядит так:</p> <pre class="brush: html noskimlinks noskimwords">&lt;div class="container"&gt;    &lt;h1&gt;Firebase Chat Application&lt;/h1&gt;&lt;/div&gt;</pre> <p>Кроме того, нам также необходимо добавить атрибут <code>div</code> с атрибутами класса: <code>panel</code> и <code>panel-default</code>. Панель представляет собой компонент Bootstrap, который по умолчанию представляет собой простой блок, который содержит четыре внутренних DIV: <code>panel-heading</code>, <code class="inline">panel-title</code>, <code class="inline">panel-body</code> и <code class="inline">panel-footer</code>. Мы не будем использовать <code class="inline">panel-heading</code> и <code class="inline">panel-title</code>, но мы будем использовать как <code class="inline">panel-body</code>, так и <code class="inline">panel-footer</code>. <code class="inline">panel</code> DIV будет использоваться в качестве основного контейнера для клиента чата.</p> <p>Разметка, которая реализует то, что я описал выше, выглядит следующим образом:</p> <pre class="brush: html noskimlinks noskimwords">&lt;div class="container"&gt;    &lt;h1&gt;Firebase Chat Application&lt;/h1&gt;&lt;div class="panel panel-default"&gt;&lt;div class="panel-body"&gt;&lt;/div&gt;&lt;div class="panel-footer"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</pre> <p>На данный момент мы не будем работать с panel-body. Тем не менее, нам нужно будет использовать этот раздел позже в учебнике для заполнения сообщений из нашего местоположения данных.</p> <p>Прямо сейчас мы будем фокусироваться на panel-footer. Футер панели будет содержать поле ввода, кнопку отправки и кнопку сброса. Мы дадим полю ввода атрибут id со значением <code class="inline">comments</code>, а для кнопки - <code class="inline">submit-btn</code>. Оба эти атрибута id очень важны и понадобятся позже в учебнике. Не стесняйтесь изменять идентификаторы атрибутов для элементов формы.</p> <p>Разметка, которая реализует то, что я описал выше, выглядит следующим образом:<br></p> <pre class="brush: html noskimlinks noskimwords">&lt;div class="container"&gt;    &lt;h1&gt;Firebase Chat Application&lt;/h1&gt;&lt;div class="panel panel-default"&gt;&lt;div class="panel-body"&gt;&lt;/div&gt;&lt;div class="panel-footer"&gt;&lt;form role="form"&gt;&lt;div class="form-group"&gt;&lt;label for="comments"&gt;Please enter your comments here&lt;/label&gt;&lt;input class="form-control" id="comments" name="comments"&gt;&lt;/div&gt;&lt;button type="submit" id="submit-btn" name="submit-btn"class="btn btn-primary"&gt;Send Comments&lt;/button&gt;&lt;button type="reset" class="btn btn-default"&gt;Clear Comments&lt;/button&gt;&lt;/form&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</pre> <p>Теперь давайте реализуем JavaScript, который позволит нам отправить сообщение в местоположение данных Firebase.</p><h3>JavaScript</h3> <p>Сначала нам нужно добавить набор тегов <code class="inline">script</code> непосредственно над закрывающим тегом <code class="inline">body</code> в файле HTML. В тегах сценария нам нужно создать ссылку на местоположение данных Firebase. Без этой ссылки мы не можем записывать данные в наше местоположение данных. Это может быть выполнено путем инициализации конструктора Firebase и передачи нашего местоположения данных в качестве параметра. Помните, что местоположение данных Firebase было создано при настройке Firebase (уникальное имя хоста).</p> <p>Код, который реализует то, что я описал выше, выглядит следующим образом:<br></p> <pre class="brush: javascript noskimlinks noskimwords">var fireBaseRef = new Firebase("YOUR FIREBASE DATA URL");</pre> <p>После инициализации ссылочного объекта Firebase нам нужно привязать обработчик события клика к селектору кнопки отправки. Расположение этого селектора находится в футере панели. Кроме того, нам нужно убедиться, что обратный вызов обработчика события содержит оператор <code>return false</code> как последнюю строку кода. Это гарантирует, что действие по умолчанию для отправки формы не произойдет и не позволит событию разбудить дерево DOM. Однако в некоторых случаях вам может понадобиться всплывание событий вверх по DOM.</p> <p>В приведенных ниже фрагментах JavaScript реализовано то, что описано выше:</p> <pre class="brush: javascript noskimlinks noskimwords">$("#submit-btn").bind("click", function() {return false;});</pre> <pre class="brush: javascript noskimlinks noskimwords">$("#submit-btn").bind("click", function(event) {event.preventDefault();event.stopPropagation();});</pre> <p>Затем мы определим переменную, которая ссылается на селектор комментария и другую переменную, которая удаляет пробелы с начала и конца значения комментария.</p> <p>Код, который реализует то, что я описал выше, выглядит следующим образом:<br></p> <pre class="brush: javascript noskimlinks noskimwords">$("#submit-btn").bind("click", function() {var comment = $("#comments");var comment_value = $.trim(comment.val());return false;});</pre> <p>Теперь нам нужно определить метод, необходимый для фактического написания комментариев к нашему местоположению.</p> <h2>Запись данных в Firebase</h2> <p>API Firebase предлагает несколько способов записи данных в местоположение данных. Однако в сегодняшнем уроке мы сосредоточимся на использовании методов <code>set()</code> и <code>push()</code>. Давайте кратко рассмотрим, что позволяет каждый из этих методов.</p> <ul><li>Метод <code>set()</code> будет записывать данные в местоположение данных, а также перезаписывать любые данные, которые в настоящее время хранятся в местоположении данных.</li> <li>Метод <code>push()</code> будет записывать данные в местоположение данных, автоматически генерируя новое дочернее местоположение с уникальным именем. Кроме того, это уникальное имя будет иметь префикс с отметкой времени. Это позволит хронологически отсортировать все дочерние местоположения.</li> </ul><p>После просмотра методов <code>set()</code> и <code>push()</code>; Я думаю, что совершенно очевидно, что нам нужно использовать метод <code>push()</code> в нашем приложении. В противном случае мы будем постоянно перезаписывать последний комментарий в нашем местоположении данных, и это было бы невесело.</p> <p>Для этого вернемся к JavaScript, который мы ранее добавили на нашу страницу. Теперь нам нужно направить значение комментария в наше местоположение данных. Теперь имейте в виду, что существуют разные методы <code class="inline">push</code>, которые позволяют нам передавать данные в различных форматах, таких как объект, массив, строка, число, логическое значение или нуль. Мы просто используем объект, у которого есть пара значений ключа комментария и значение комментария. Кроме того, мы добавим дополнительный обратный вызов для запуска после завершения методов <code>push</code>. Обратный вызов возвращает объект ошибки при сбое, а при успешном - нулевое значение.</p> <p>Код, который реализует то, что я описал выше, выглядит следующим образом:<br></p> <pre class="brush: javascript noskimlinks noskimwords">$("#submit-btn").bind("click", function() {var comment = $("#comments");var commentValue = $.trim(comment.val());fireBaseRef.push({comment: commentValue}, function(error) {if (error !== null) {alert("Unable to push comments to Firebase!");}});return false;});</pre> <p>Теперь давайте добавим что-то, чтобы пользователи чата не могли писать пустые сообщения в наше местоположение данных. Это можно легко выполнить, добавив простой оператор <code class="inline">if else</code>, который проверяет длину значения комментария.</p> <p>Код, который реализует то, что я описал выше, выглядит следующим образом:<br></p> <pre class="brush: javascript noskimlinks noskimwords">$("#submit-btn").bind("click", function() {var comment = $("#comments");var commentValue = $.trim(comment.val());if (commentValue.length === 0) {alert("Comments are required to continue!");} else {_fireBaseRef.push({comment: commentValue}, function(error) {if (error !== null) {alert("Unable to push comments to Firebase!");}});comment.val("");}return false;});</pre> <p>Отлично, мы успешно завершили раздел нашего приложения, который позволяет пользователям записывать данные в наше местоположение. Но, у нас есть недостаток в функциональности, которая предоставляет пользователям чат в режиме реального времени. Этот тип приложения потребует возможности считывать данные из дочерних местоположений в пределах местоположения данных.</p> <h2>Чтение данных из Firebase</h2> <p>Как мы упоминали ранее, большинство приложений в стиле чатов читают данные с сервера, а затем заполняют раздел интерфейса. Нам нужно будет сделать то же самое в нашем приложении, используя API Firebase.</p> <p>API Firebase предлагает несколько методов для чтения данных из местоположения данных. В сегодняшнем учебнике мы сосредоточимся на использовании метода <code>on()</code>.</p> <p>Метод <code>on()</code> имеет несколько аргументов, которые стоит изучить, но мы рассмотрим только первые два аргумента: <code class="inline">eventType</code> и <code class="inline">callback</code>. Давайте рассмотрим оба из них.</p> <h3>Выбор <code class="inline">eventType</code> </h3> <p>Аргумент «<code class="inline">eventType</code>» имеет несколько параметров. Давайте посмотрим на каждого, чтобы мы могли определить, какой из них лучше всего будет отвечать нашим потребностям.</p> <ul><li>«<code class="inline">value</code>» - будет запускаться один раз и читает все комментарии, затем будет выполнен каждый раз, когда будут сделаны какие-либо изменения в комментариях.</li> <li>«<code class="inline">child_added</code>» - запускается один раз для каждого комментария, а также каждый раз, когда добавляется новый комментарий.</li> <li>«<code class="inline">child_removed</code>» - будет срабатывать при удалении комментария.</li> <li>«<code class="inline">child_changed</code>» - будет срабатывать при каждом изменении комментария.</li> <li>«<code class="inline">child_moved</code>» - будет срабатывать в любое время, когда будет изменен порядок комментария.</li> </ul><p>Просмотрев приведенные выше варианты, кажется совершенно очевидным, что мы должны использовать «<code class="inline">child_added</code>» как наш «<code class="inline">eventType</code>». Этот тип события будет запускаться один раз для каждого комментария в нашем местоположении данных, а также каждый раз, когда добавляется новый комментарий. Кроме того, при добавлении нового комментария он не вернет весь набор комментариев в этом месте, а только последний добавленный. Это именно то, что мы хотим! Нет необходимости возвращать весь набор комментариев при добавлении нового комментария.</p> <h3>Анализ <code class="inline">callback</code> </h3><p>«<code class="inline">callback</code>» для метода <code>on()</code> предоставляет элемент, на который Firebase ссылается как на «моментальный снимок данных», который имеет несколько функций-членов, сегодня основное внимание уделяется  <code>name()</code> и <code>val()</code>.<br></p> <p>Функция-член <code>name()</code> предоставляет нам уникальное имя «моментального снимка данных». Если вы помните ранее, мы использовали функцию <code>push()</code>, чтобы написать новый комментарий к нашему местоположению. Когда вызывался <code>push()</code>, он генерировал новое дочернее местоположение, используя уникальное имя, и это имя, которое будет возвращено с помощью функции члена call back, <code>name()</code>.</p> <p>Функция член <code>val()</code> предоставляет нам представление объекта JavaScript «моментального снимка данных» и с помощью этого моментального снимка, мы сможем получить комментарий из нашего местоположения данных. Однако нам нужно отступить на мгновение. </p><p>Ранее в этом уроке мы реализовали JavaScript, необходимый для ввода комментариев в наше местоположение Firebase, и мы сделали это, отдав объект с парой ключ-значение. В этом случае ключ был « <code class="inline">comment</code>», и значение было введенным пользователем. Поэтому, если мы хотим извлечь комментарий из нашего «моментального снимка данных», нам нужно распознать правильный тип данных. В этом случае мы имеем дело с объектом, поэтому для доступа к указанному свойству вы можете использовать либо точечную нотацию, либо скобку.</p> <p>Оба приведенных ниже фрагмента JavaScript реализуют то, что описано выше:</p> <pre class="brush: javascript noskimlinks noskimwords">fireBaseRef.on("child_added", function(snapshot) {var uniqName = snapshot.name();var comment = snapshot.val().comment;});</pre> <pre class="brush: javascript noskimlinks noskimwords">fireBaseRef.on("child_added", function(snapshot) {var uniqName = snapshot.name();var comment = snapshot.val()["comment"];});</pre> <h2>Отображение комментариев</h2><p>Затем давайте создадим простой, но чистый способ отображения каждого комментария. Это может быть легко достигнуто путем объединения каждого комментария в <code class="inline">div</code> и маркировки каждого комментария его уникальным именем. Обычно комментарии помечены именем пользователя, который написал этот комментарий, в нашем случае это анонимный клиент чата.</p> <p>Код, который реализует то, что я описал выше, выглядит следующим образом:<br></p> <pre class="brush: javascript noskimlinks noskimwords">var commentsContainer = $("#comments-container");$("&lt;div/&gt;", {class: "comment-container"}).html("&lt;span class="label label-info"&gt;Comment " + uniqName + "&lt;/span&gt;" + comment);</pre> <p>Затем мы должны добавить каждый комментарий в контейнер комментария и получить текущую вертикальную позицию панели прокрутки контейнера комментария и прокрутить до этого последнего местоположения. Это гарантирует, что каждый раз, когда комментарий помещается в Firebase, все пользователи, использующие приложение чата, будут видеть последний комментарий. Все это должно быть сделано в обратном вызове. </p><p>Он должен выглядеть примерно так:<br></p> <pre class="brush: javascript noskimlinks noskimwords">var commentsContainer = $("#comments-container");    $("&lt;div/&gt;", {class: "comment-container"}).html("&lt;span class="label label-info"&gt;Comment " + uniqName + "&lt;/span&gt;" + comment).appendTo(commentsContainer);commentsContainer.scrollTop(commentsContainer.prop("scrollHeight"));</pre> <p>Теперь давайте применим некоторые простые стили CSS к DIV, обернутым вокруг каждого блока комментариев. Это сделает внешний вид немного более привлекательным и удобным для пользователя. Эти стили должны быть добавлены в теги style, расположенные в разделе <code class="inline">head</code> HTML.</p> <p>Код, который реализует то, что я описал выше, выглядит следующим образом:<br></p> <pre class="brush: css noskimlinks noskimwords">.container {max-width: 700px;}#comments-container {border: 1px solid #d0d0d0;height: 400px;overflow-y: scroll;}.comment-container {padding: 10px;margin:6px;background: #f5f5f5;font-size: 13px;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;}.comment-container .label {margin-right: 20px;}.comment-container:last-of-type {border-bottom: none;}</pre> <h2>Запуск приложения</h2> <p>Пришло время запустить наше приложение. Давайте начнем с открытия двух экземпляров нашего любимого, современного браузера и размещения их рядом на нашем рабочем столе. Затем мы перейдем к нашему файлу, который мы создали, в обоих браузерах. Протестируйте это, написав несколько комментариев и наслаждайтесь просмотром магии Firebase. </p><p>Невероятно, что только пара строк кода может создавать такое мощное приложение. Не стесняйтесь редактировать этот фрагмент любым способом для получения желаемых результатов.</p><p>Посмотрите <span>онлайн-демонстрацию</span>, чтобы увидеть ее в действии. Ниже приведен полный исходный код для всего приложения для чатов:</p> <pre class="brush: html noskimlinks noskimwords">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;    &lt;meta charset="utf-8"&gt;&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;&lt;title&gt;Firebase Chat Application&lt;/title&gt;&lt;link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"&gt;&lt;style&gt;.container {    max-width: 700px;  }#comments-container {border: 1px solid #d0d0d0;height: 400px;overflow-y: scroll;}.comment-container {padding: 10px;margin:6px;background: #f5f5f5;font-size: 13px;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;}.comment-container .label {margin-right: 20px;}.comment-container:last-of-type {border-bottom: none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div class="container"&gt;&lt;h1&gt;Firebase Chat Application&lt;/h1&gt;&lt;div class="panel panel-default"&gt;&lt;div class="panel-body"&gt;&lt;div id="comments-container"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="panel-footer"&gt;&lt;form role="form"&gt;&lt;div class="form-group"&gt;&lt;label for="comments"&gt;Please enter your comments here&lt;/label&gt;&lt;input class="form-control" id="comments" name="comments"&gt;&lt;/div&gt;&lt;button type="submit" id="submit-btn" name="submit-btn"class="btn btn-success"&gt;Send Comments&lt;/button&gt;&lt;button type="reset" class="btn btn-danger"&gt;Clear Comments&lt;/button&gt;&lt;/form&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;script src="http://cdn.firebase.com/js/client/1.0.6/firebase.js"&gt;&lt;/script&gt;&lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"&gt;&lt;/script&gt;&lt;script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"&gt;&lt;/script&gt;&lt;script&gt;var fireBaseRef = new Firebase("YOUR FIREBASE DATA URL");$("#submit-btn").bind("click", function() {var comment = $("#comments");var commentValue = $.trim(comment.val());if (commentValue.length === 0) {alert("Comments are required to continue!");} else {fireBaseRef.push({comment: commentValue}, function(error) {if (error !== null) {alert("Unable to push comments to Firebase!");}});comment.val("");}return false;});fireBaseRef.on("child_added", function(snapshot) {var uniqName = snapshot.name();var comment = snapshot.val().comment;var commentsContainer = $("#comments-container");$("&lt;div/&gt;", {class: "comment-container"}).html("&lt;span class="label label-default"&gt;Comment " + uniqName + "&lt;/span&gt;" + comment).appendTo(commentsContainer);commentsContainer.scrollTop(commentsContainer.prop("scrollHeight"));});&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</pre> <h2>В итоге</h2> <p>В сегодняшнем учебнике мы проработали весь процесс внедрения простого приложения для чатов, используя JavaScript API Firebase. При этом мы смогли испытать мощь Firebase и оценить его удобство. Ниже приведены некоторые из ключевых элементов, которые мы сегодня затронули:</p> <ul><li>Ссылка на местоположение данных Firebase путем инициализации конструктора Firebase.</li> <li>Запись данных в Firebase с помощью метода <code class="inline">push</code>.</li> <li>Чтение данных из Firebase с помощью метода <code class="inline">on</code> с типом события «<code class="inline">child_added</code>».</li> </ul><p>Надеюсь, что этот урок дал вам отправную точку, с которой вы можете начать работу с Firebase. Если у вас есть какие-либо вопросы или комментарии, не стесняйтесь оставлять их ниже. Еще раз спасибо за ваше время и продолжайте исследовать бесконечные возможности API Firebase.</p> <h3>Ресурсы</h3> <ul><li><span>Firebase</span></li> <li><span>JQuery</span></li> <li><span>Bootstrap</span></li> </ul>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825514-nastrojka-firebase-dlya-vashego-sleduyuschego-proekta" class="tm-article-body__tags-item-link">Web Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
31641</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
317</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
