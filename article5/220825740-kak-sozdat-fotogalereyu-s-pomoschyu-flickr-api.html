
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Как создать фотогалерею с помощью Flickr API... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Как создать фотогалерею с помощью Flickr API... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Как создать фотогалерею с помощью Flickr API... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Как создать фотогалерею с помощью Flickr API... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Flickr, без сомнения, самый большой и лучший веб-сайт по фотографии в Интернете. Существует множество виджетов, значков и плагинов, которые позволяют отображать ваши последние фотографии с Flickr на вашем веб-сайте, но мы сделаем еще один шаг, нажав прямо на Flickr и интегрировав ваш фотопоток в свой веб-сайт,предоставляя вам фотогалерею, ко...">
<meta property="og:description" content="Flickr, без сомнения, самый большой и лучший веб-сайт по фотографии в Интернете. Существует множество виджетов, значков и плагинов, которые позволяют отображать ваши последние фотографии с Flickr на вашем веб-сайте, но мы сделаем еще один шаг, нажав прямо на Flickr и интегрировав ваш фотопоток в свой веб-сайт,предоставляя вам фотогалерею, ко...">
<meta name="twitter:description" content="Flickr, без сомнения, самый большой и лучший веб-сайт по фотографии в Интернете. Существует множество виджетов, значков и плагинов, которые позволяют отображать ваши последние фотографии с Flickr на вашем веб-сайте, но мы сделаем еще один шаг, нажав прямо на Flickr и интегрировав ваш фотопоток в свой веб-сайт,предоставляя вам фотогалерею, ко...">
<meta property="aiturec:description" content="Flickr, без сомнения, самый большой и лучший веб-сайт по фотографии в Интернете. Существует множество виджетов, значков и плагинов, которые позволяют отображать ваши последние фотографии с Flickr на вашем веб-сайте, но мы сделаем еще один шаг, нажав прямо на Flickr и интегрировав ваш фотопоток в свой веб-сайт,предоставляя вам фотогалерею, ко...">
<meta property="og:image" content="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta property="aiturec:image" content="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta name="twitter:image" content="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta property="vk:image" content="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api.html" title="Как создать фотогалерею с помощью Flickr API... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Как создать фотогалерею с помощью Flickr API... | envatomarket.ru | norma-studio.github.io" title="Как создать фотогалерею с помощью Flickr API... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/63456435436.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api.html" class="tm-user-info__username" title="
М. Старостенко" aria-label="
М. Старостенко">
М. Старостенко</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Как создать фотогалерею с помощью Flickr API...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api" class="tm-article-snippet__hubs-item-link"><span>PHP</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api.html" />
    <link itemprop="image" href="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
    <meta itemprop="headline name" content="Как создать фотогалерею с помощью Flickr API... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Flickr, без сомнения, самый большой и лучший веб-сайт по фотографии в Интернете. Существует множество виджетов, значков и плагинов, которые позволяют отображать ваши последние фотографии с Flickr на вашем веб-сайте, но мы сделаем еще один шаг, нажав прямо на Flickr и интегрировав ваш фотопоток в свой веб-сайт,предоставляя вам фотогалерею, ко...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Flickr, без сомнения, самый большой и лучший веб-сайт по фотографии в Интернете. Существует множество виджетов, значков и плагинов, которые позволяют отображать ваши последние фотографии с Flickr на вашем веб-сайте, но мы сделаем еще один шаг, нажав прямо на Flickr и интегрировав ваш фотопоток в свой веб-сайт,предоставляя вам фотогалерею, ко...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Flickr, без сомнения, самый большой и лучший веб-сайт по фотографии в Интернете. Существует множество виджетов, значков и плагинов, которые позволяют отображать ваши последние фотографии с Flickr на вашем веб-сайте, но мы сделаем еще один шаг, нажав прямо на Flickr и интегрировав ваш фотопоток в свой веб-сайт,предоставляя вам фотогалерею, которую легко обновить.</p><p><!--more --></p> <div class="tutorial_image"> <span><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg" class="lazy07" alt="Как создать фотогалерею с помощью Flickr API..." title="Как создать фотогалерею с помощью Flickr API..." width="50" height="50"></span><br><span><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_demo_nm.jpg" class="lazy07" alt="Как создать фотогалерею с помощью Flickr API..." title="Как создать фотогалерею с помощью Flickr API..." width="50" height="50"></span> </div> <p>Мы будем создавать<span> эту фотогалерею</span>, используя Flickr API и <span>phpFlickr</span>. Если букв «A, P &amp; I» достаточно для того, чтобы вселить страх в ваше сердце, не волнуйтесь, мы сделаем это медленно и приведем примеры полного кода, которые вы сможете скопировать.</p> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/491_flickr/finalproject.jpg" alt="Как создать фотогалерею с помощью Flickr API..." title="Как создать фотогалерею с помощью Flickr API..." width="50" height="50"></div> <p>Flickr также недавно запустил <span>The App Garden</span>, который представляет собой набор инструментов, игрушек и сайтов, которые используют Flickr API, чтобы предложить что-то полезное или интересное. Как только вы освоите использование API, вы можете позволить своему воображению придумать новый способ его использования и отправки своего приложения. </p> <p> В этом руководстве я предполагаю, что у вас уже есть учетная запись Flickr и доступ к серверу, на котором работают PHP и PEAR.</p> <h3>Наброски</h3> <ul><li> Получить ключ Flickr API </li> <li> Загрузка файлов phpFlickr </li> <li> Создайте страницу галереи для отображения наших миниатюр (с нумерацией страниц)</li> <li> Сделайте страницу фотографий, чтобы показать наши фотографии (с предыдущей и следующей навигацией)</li> </ul><h3>Шаг 1 - получить ключ Flickr API</h3> <p> Ваш ключ API - это ваша уникальная серия цифр и букв, которые предоставляют вам доступ к услугам Flickr. Зайдите сюда: http://www.flickr.com/services/apps/create/apply/</p> <p> Здесь вы должны решить, собираетесь ли вы использовать Flickr в коммерческих или некоммерческих целях. Flickr дает хорошие объяснения относительно того, что вы должны выбрать, скорее всего, вам понадобится некоммерческий ключ API, который я выбрал для этой демонстрации.</p> <p> Следуйте инструкциям и заполните все свои данные.</p> <p> Затем вам должен быть представлен ваш уникальный ключ, который будет отображаться в виде последовательности случайных чисел и букв, например:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=546/net/uploads/legacy/491_flickr/api-key.png" alt="Как создать фотогалерею с помощью Flickr API..." title="Как создать фотогалерею с помощью Flickr API..." width="50" height="50"></div> <p>Вы также увидите число под названием «Секрет»; игнорируйте это сейчас. Для этого упражнения нам нужен только ключ; запишите это, поскольку нам это понадобится в ближайшее время.</p> <p>Если вы позже используете API для создания классного инструмента или сайта, вам может потребоваться отправить и добавить все, что вы создадите в Flickr App Garden. Вы можете нажать «Изменить данные приложения», чтобы заполнить информацию.</p> <blockquote> <p>Обратите особое внимание на советы и рекомендации, приведенные в <span>Условиях использования API</span> и <span>Принципах сообщества</span>. Если вы злоупотребите этим, вы потеряете его.</p> </blockquote> <p> Теперь о захватывающих вещах ... </p> <h3>Шаг 2 - Загрузка phpFlickr </h3> <p> <span>phpFlickr</span> - это проект <span>Дэна Коултера</span>. Это класс, написанный на PHP, который действует как оболочка для API Flickr. Файлы обрабатывают данные, предоставленные Flickr, и возвращают массивы в PHP, которые мы используем для отображения наших фотографий.</p> <p> Нам нужно скачать файлы, которые мы позже включим в нашу веб-страницу, и сделаем всю сложную работу за нас. Посетите <span>phpflickr.com</span> или перейдите прямо на <span>страницу загрузки в Google Code</span>. В этой демонстрации мы будем использовать zip-файл: phpFlickr-2.3.1 (zip)</p> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=444/net/uploads/legacy/491_flickr/download-link.png" alt="Как создать фотогалерею с помощью Flickr API..." title="Как создать фотогалерею с помощью Flickr API..." width="50" height="50"></div> <p> Скачайте и распакуйте его. Для этого урока нам нужны только папка PEAR и файл phpFlickr.php. Загрузите файлы в свой веб-каталог</p> <h3>Шаг 3 - Базовая настройка и простая настройка </h3> <p> Теперь у нас есть все, что нам нужно для связи с Flickr и получения наших фотографий. Мы сделаем две страницы: одну, чтобы показать наши миниатюры, и одну, чтобы показать фотографию. Весь код будет доступен как полные страницы в конце урока. </p> <p> Все эти примеры кода работают на основе того, что ваши файлы находятся в корне вашего сервера - или все в одной папке. Прежде всего, нам нужно создать папку кеша, чтобы phpFlickr работал правильно. Создайте папку с именем «cache» в своем веб-каталоге и предоставьте ей права на запись (CHMOD 777). </p> <p> Теперь мы создадим страницу, которая отображает наши миниатюры и имеет несколько простых страниц. В галерее примеров это index.php - и <span>выглядит так</span>.</p> <p> Прежде чем идти дальше, нам нужно установить две основные переменные в файле config.php.</p> <p>Откройте config.php. Вы увидите, что он запрашивает две вещи: ваш ключ API и ваше имя пользователя Flickr. </p> <p>Во-первых, введите свой ключ API - длинный случайный набор цифр и букв, которые вы дали ранее Flickr. Держите вашу информацию внутри кавычек. </p> <pre class="brush: php noskimlinks noskimwords">// insert your API key$key="ENTER YOUR FLICKR API KEY HERE";</pre> <p>Теперь для вашего имени пользователя Flickr; это не ваше имя пользователя для входа в Yahoo или экранное имя Flickr, а имя пользователя, которое вы используете для самого Flickr. Чтобы проверить дважды, войдите в Flickr и посмотрите вверху страницы, где написано «Signed as ...» - это ваше имя пользователя. Итак, давайте объявим наше имя пользователя как переменную:</p> <pre class="brush: php noskimlinks noskimwords">// enter your Flickr username $username="YOUR FLICKR USERNAME HERE";</pre> <p>Сохраните изменения в config.php и загрузите - вам больше не нужен этот файл. </p> <h3>Шаг 4 - Создание эскизов страницы</h3> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/491_flickr/finalproject.jpg" alt="Как создать фотогалерею с помощью Flickr API..." title="Как создать фотогалерею с помощью Flickr API..." width="50" height="50"></div> <p>На самой странице. Вот разбивка того, что мы делаем, в верхней части страницы, в которой все готово к действию: </p> <p> Мы собираемся включить несколько ссылок «Предыдущая» и «Следующая» с небольшим фрагментом кода внизу страницы. Миниатюры, которые мы собираемся показать, зависят от того, на какой странице мы находимся, поэтому мы запускаем простое выражение if, которое захватит номер нашей страницы. Если в URL есть запрос "fpage", используйте его. Если нет, мы на первой странице.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php  // get page number from the url - if there isn"t one - we"re on page 1  $page = isset($_GET["page"]) ? $_GET["page"] : 1;</pre> <p> Далее мы включаем основной файл phpFlickr, в котором есть все, что нам нужно для связи с Flickr.</p> <pre class="brush: php noskimlinks noskimwords">// inclue the core file  require_once("phpFlickr.php");</pre> <p> Теперь мы запускаем новый класс из файла phpFlickr, используя наш ключ API, который мы получили ранее.</p> <pre class="brush: php noskimlinks noskimwords">// Fire up the main phpFlickr class $f = new phpFlickr($key);</pre> <p> phpFlickr использует кэширование для ускорения процесса. Существуют варианты использования техники базы данных, но в этом уроке мы будем использовать более простой вариант папки кеша. Нам нужна папка с именем «cache», доступная для записи, то есть система имеет к ней доступ и может изменять ее содержимое. Для этого установите права доступа папок к 777 через вашу FTP-программу. Затем мы добавляем эту строку, чтобы включить его: </p> <pre class="brush: php noskimlinks noskimwords">$f-&gt;enableCache("fs", "cache");</pre> <p> Мы вызываем метод people_findByUsername, который возвращает массив:</p> <pre class="brush: php noskimlinks noskimwords">$result = $f-&gt;people_findByUsername($username);</pre> <p> Из этого массива нам также нужен ваш уникальный идентификатор пользователя (ваш идентификатор Flickr, который выглядит следующим образом: 11221312 @ N00, объявленный здесь как $ nsid), который мы получаем примерно так:</p> <pre class="brush: php noskimlinks noskimwords">// grab our unique user id from the $result array  $nsid = $result["id"];</pre> <p> Затем мы вызываем метод people_getPublicPhotos, который снова возвращает массив, который мы будем называть $ photos. В этой строке мы также передаем наш идентификатор, который мы получили в строке выше ($ nsid). NULL относится к опции «extras», которая нас сейчас не касается. Мы также указываем количество миниатюр, которые мы хотим отобразить (21), и проходим через страницу для начала ($ page), которая связана с переменной $ page в верхней части страницы:</p> <pre class="brush: php noskimlinks noskimwords"> $photos = $f-&gt;people_getPublicPhotos($nsid, NULL, NULL, 21, $page);</pre> <p> Последнее, что нам нужно, чтобы настроить страницу, это немного информации, которая нужна нам для работы подкачки. Мы получаем доступ к массиву $ photos, который мы создали выше, и извлекаем общее количество страниц плюс общее количество фотографий в нашем фотопотоке:</p> <pre class="brush: php noskimlinks noskimwords">$pages = $photos[photos][pages]; // returns total number of pages  $total = $photos[photos][total]; // returns how many photos there are in total  ?&gt;</pre> <p> Заметьте, что мы закрываем раздел php здесь с помощью?&gt; Теперь у нас есть все, что нужно, чтобы получить первые 21 миниатюру из нашего фотопотока Flickr и отобразить их. Теперь мы продолжим со страницей, добавив немного html, используя PHP для показа изображений и добавив несколько простых ссылок на страницы. Итак, давайте начнем с написания некоторых основных HTML. </p> <pre class="brush: php noskimlinks noskimwords"> &lt;!DOCTYPE html  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;&lt;title&gt;Nettuts Flickr Gallery Demo&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;My photo gallery&lt;/h1&gt;&lt;div id="thumbs"&gt;</pre> <p> Здесь нет ничего необычного; просто настроить HTML и начать область для миниатюр. Следующим шагом является заполнение нашего div, называемого «большими пальцами», такими эскизами:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=601/net/uploads/legacy/491_flickr/thumbnails-example.jpg" alt="Как создать фотогалерею с помощью Flickr API..." title="Как создать фотогалерею с помощью Flickr API..." width="50" height="50"></div> <p> Обратите внимание, что мы снова открываем php с помощью</p> <p> Мы будем использовать цикл foreach для запуска массива $ photos и перехода к элементу photo ($ photo), который содержит информацию, необходимую для миниатюр.<br> Смотрите комментарии в коде для объяснения того, что происходит: </p> <pre class="brush: php noskimlinks noskimwords">&lt;?php// loop through each photo foreach ($photos["photos"]["photo"] as $photo) {  // print out a link to the photo page, attaching the id of the photo         echo "&lt;a href=\"photo.php?id=$photo[id]\" title=\"View $photo[title]\"&gt;";    // This next line uses buildPhotoURL to construct the location of our image, and we want the "Square" size// It also gives the image an alt attribute of the photo"s title       echo "&lt;img src=\"" . $f-&gt;buildPhotoURL($photo, "Square") .  "\" width=\"75\" height=\"75\" alt=\"$photo[title]\" /&gt;";// close link       echo "&lt;/a&gt;";// end loop}?&gt;&lt;/div&gt;&lt;!-- close thumbs div --&gt;</pre> <p> Мы почти закончили с главной страницей. Скорее всего, у вас есть более 21 фото в вашем Фотопотоке; поэтому нам нужно добавить несколько страниц с ссылками «Предыдущая» и «Следующая», чтобы мы могли перейти к следующим 21 эскизам. Ссылки выглядят так:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/net/uploads/legacy/491_flickr/pagination-example.png" class="lazy07" alt="Как создать фотогалерею с помощью Flickr API..." title="Как создать фотогалерею с помощью Flickr API..." width="50" height="50"></div> <p> Этот код опирается на строку, которая у нас была вверху и вызывала переменную $ page. Когда наш код вызывает фотографии из Flickr, он также использует переменную $ page, чтобы узнать, с чего начать - оглянемся на строку, где мы назвали people_getPublicPhotos, и вы увидите, что мы также передали туда переменную $ page , Это значение является основой этого небольшого пейджингового соглашения. Мы откроем абзац с идентификатором «nav», откроем теги PHP и определим переменные «back» и «next»:</p> <pre class="brush: php noskimlinks noskimwords">&lt;p id="nav"&gt;&lt;?php// Some simple paging code to add Prev/Next to scroll through the thumbnails$back = $page - 1;$next = $page + 1;</pre> <p> Затем мы обрабатываем фактические ссылки «Предыдущая» и «Следующая», проверяя, что мы не на первой или последней странице, закрываем php и закрываем тег «p». </p> <pre class="brush: php noskimlinks noskimwords">// if it"s not the first pageif($page &gt; 1) {echo "&lt;a href="?page=$back"&gt;&amp;laquo; &lt;strong&gt;Prev&lt;/strong&gt;&lt;/a&gt;";}// if not last pageif($page != $pages) {echo "&lt;a href="?page=$next"&gt;&lt;strong&gt;Next&lt;/strong&gt; &amp;raquo;&lt;/a&gt;";}?&gt;&lt;/p&gt;</pre> <p> Теперь мы вернемся к некоторым значениям, которые у нас были в начале, чтобы показать немного больше о том, где мы находимся в галерее:</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php// a quick bit of info about where we are in the galleryecho"&lt;p&gt;Page $page of $pages&lt;/p&gt;";echo"&lt;p&gt;$total photos in the gallery&lt;/p&gt;";?&gt;</pre> <p> И чтобы соблюдать условия Flickr и завершить страницу, мы добавим:</p> <pre class="brush: php noskimlinks noskimwords">&lt;p&gt;This product uses the Flickr API but is not endorsed or certified by Flickr.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</pre> <p> Это все, что нам нужно для создания страницы, которая отображает последние 21 фотографию в виде миниатюр с простой навигацией «Предыдущая / Следующая». Так же, как <span>домашняя страница на демо</span>. Далее: страница, которая отображает нашу фотографию. </p> <h3>Шаг 5 - Создание страницы для отображения одной фотографии</h3> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=546/net/uploads/legacy/491_flickr/singlePage.jpg" alt="Как создать фотогалерею с помощью Flickr API..." title="Как создать фотогалерею с помощью Flickr API..." width="50" height="50"></div> <p> Теперь, когда у нас есть свои миниатюры, нам нужна страница, чтобы показать полное изображение при нажатии на него. Вот код для photo.php, на который ссылаются миниатюры. Мы начинаем эту страницу аналогично странице индекса, но вместо номера страницы нам нужен идентификатор фотографии, которая была передана в URL с нашей страницы миниатюр:</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php// Get id of photo$id = isset($_GET["id"]) ? $_GET["id"] : NULL;//include the core filerequire_once("phpFlickr.php");// Fire up the main phpFlickr class $f = new phpFlickr($key);// cache folder again, permissions set to 777$f-&gt;enableCache("fs", "cache");</pre> <p> Теперь нам нужно собрать некоторую информацию от Flickr о фотографии, такую ​​как идентификационный номер фотографии, ее размеры, где она расположена относительно других фотографий (контекст) и URL-адрес изображения. </p> <pre class="brush: php noskimlinks noskimwords">// access the getInfo method, passing in the photo"s id$photo = $f-&gt;photos_getInfo("$id", $secret = NULL);// pass the photo"s id to the getSizes method to get the dimensions of our image$photosize = $f-&gt;photos_getSizes("$id", $secret = NULL);// we want the dimensions of the medium size which we get from the $photosize array in the previous line$size = $photosize[3];// again passing the photo"s id through we get the context, which tells us which photos are before and after the current id$context = $f-&gt;photos_getContext("$id");//  the buildPhotoURL method does pretty much what you"d expect - build the  photo URL, we pass in $photo and the size we require to return the  image URL e.g.  http://farm4.static.flickr.com/3108/3175330082_0bf4b22e47.jpg$photoUrl = $f-&gt;buildPhotoURL($photo, "Medium");// This tells us who the owner of the photo is.// This is an important part to include as we want our gallery to show  only our photos and not pull in other users" photos - more of an  explanation about this in the notes at the end$owner = $photo["owner"]["username"];// We only want the photo if it belongs to us - so if our username  is the same as the owner of the photo... we"ll write out the page and  show it // more info on this at the end of the tutorialif($username == $owner){?&gt;</pre> <p> Теперь мы готовы к остальной части страницы с сочными кусочками. </p> <pre class="brush: php noskimlinks noskimwords">&lt;!DOCTYPE html  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;&lt;!-- Let"s get in there straight away and get the photo"s title --&gt;&lt;title&gt;&lt;?php// We access the $photo array and grab the title of the photo to use as the document titleecho $photo[title] ?&gt;&lt;/title&gt;&lt;link href="styles.css" rel="stylesheet" type="text/css"&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Photo gallery&lt;/h1&gt;&lt;div id="photo"&gt;&lt;?php// The photo"s title once againecho"&lt;h2&gt;$photo[title]&lt;/h2&gt;";// The photo itself, you"ll recognise $photoUrl from above where we  built the photo"s url, we are also accessing the $size array that we  prepared earlier to get the width and height// and the title once again // We"ll also make it link to the version on Flickr for good measureecho"&lt;a href=\"http://flickr.com/photos/$username/$photo[id]/\" title=\"View $photo[title] on Flickr \"&gt;";echo"&lt;img src=\"$photoUrl\" width=\"$size[width]\" height=\"$size[height]\" alt=\"$photo[title]\" /&gt;";echo"&lt;/a&gt;";// The photo"s descriptionecho"&lt;p&gt;$photo[description]&lt;/p&gt;";?&gt;&lt;/div&gt;&lt;!-- end photo --&gt;</pre> <p> Теперь у нас есть наше фото ... и мы почти закончили. Этот последний бит может выглядеть немного сложнее, но не стоит откладывать на это. Это связано с контекстом фотографии, например, какая фотография будет следующей в потоке, а какая предшествовала ей. Так же, как вы видите в галереях Flickr людей. Причина, по которой кажется, что кода много, состоит в том, что для того, чтобы это работало лучше, мы должны проверить, есть ли фотография до или после текущей фотографии. Если нет, нам не нужна ссылка, вместо этого мы вставляем обычный текст и фиктивное изображение (noimg.png).</p> <pre class="brush: php noskimlinks noskimwords">&lt;div id="context"&gt;&lt;?php// if there is a previous photo...if($context["prevphoto"]["id"]){echo"&lt;a  href=\"?id=".$context["prevphoto"]["id"]."\" title=\"Prev:  ".$context["prevphoto"]["title"]."\"&gt;&lt;img  src=\"".$context["prevphoto"]["thumb"]."\" width=\"75\" height=\"75\"  /&gt;&lt;/a&gt;";} else {// if not - show the blank filler imageecho"&lt;img src=\"noimg.png\" width=\"75\" height=\"75\" alt=\"No photo\" /&gt;";};// if there is a next photo...if($context["nextphoto"]["id"]){echo "&lt;a  href=\"?id=".$context["nextphoto"]["id"]."\" title=\"Next:  ".$context["nextphoto"]["title"]."\"&gt;&lt;img  src=\"".$context["nextphoto"]["thumb"]."\" width=\"75\" height=\"75\"  /&gt;&lt;/a&gt;";} else {// if not - show the blank filler imageecho"&lt;img src=\"noimg.png\" width=\"75\" height=\"75\" alt=\"No photo\" /&gt;";};echo"&lt;/div&gt;";echo"&lt;p&gt;";// if there is a previous link, write a link - if not, just the textif($context["prevphoto"]["id"]){echo"&lt;a  href=\"?id=".$context["prevphoto"]["id"]."\" title=\"Prev:  ".$context["prevphoto"]["title"]."\"&gt;&amp;laquo; Prev&lt;/a&gt;";}  else {echo"&amp;laquo; Prev";};echo" | ";// if there is a next link, write a link - if not, just the textif($context["nextphoto"]["id"]){echo"&lt;a  href=\"?id=".$context["nextphoto"]["id"]."\" title=\"Next:  ".$context["nextphoto"]["title"]."\"&gt;Next  &amp;raquo;&lt;/a&gt;";}else {echo"Next &amp;raquo;";};echo"&lt;/p&gt;";?&gt;&lt;/div&gt;&lt;!-- end context --&gt;</pre> <p> И чтобы закончить страницу, мы добавим ссылку на основную галерею, немного текста для Flickr и закроем HTML.</p> <pre class="brush: php noskimlinks noskimwords">&lt;p&gt;&amp;laquo; &lt;a href="/"&gt;Main gallery&lt;/a&gt;&lt;/p&gt;&lt;!-- To abide by Flickr"s terms - you must include this text --&gt;&lt;p&gt;This product uses the Flickr API but is not endorsed or certified by Flickr.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</pre> <p>Задержитесь! Еще одна вещь ... мы заканчиваем оператор if непосредственно перед началом html ... снова, смотрите примечания в конце о том, почему мы делаем это.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php} // end if for owner?&gt;</pre> <p> И там у вас есть это. Фотогалерея для вашего веб-сайта, созданная на основе вашей учетной записи Flickr. <span>Взгляните на демонстрационную страницу</span>, чтобы посмотреть, как она выглядит, с добавлением дополнительной разметки и стиля. Это очень простая реализация API Flickr; это лишь поверхностное представление о том, что вы можете сделать, но предоставляет прекрасную фотогалерею для вашего сайта / блога, которую вы можете легко обновлять и поддерживать с помощью Flickr. </p> <h3>ПРИМЕЧАНИЯ И ДОПОЛНИТЕЛЬНЫЕ УСЛУГИ</h3> <ul><li> <p>В этой обучающей программе мы восстанавливаем общественные фото пользователя. В пределах фото.php, мы ссылаемся $на владельца в этой обучающей программе. В этот момент мы гарантируем, что показанное фото принадлежит к владельцу фотографии. Если мы пропустим это, ваша страница с фотографией может добавить общедоступную фотографию любого пользователя, и это, очевидно, не то, что мы хотим. Это восходит к советам, которые Flickr дает в <span>своих рекомендациях</span>.</p> <p><em><br> Вы должны использовать API для доступа только к своим собственным изображениям или к тем, на которые у вас есть разрешение. Если вы отображаете чужие фотографии, вы должны указать имя владельца изображения и имя изображения. Flickr также говорит, что «... на страницах других веб-сайтов, на которых отображается контент, размещенный на flickr.com, должна быть ссылка с каждой фотографии или видео на свою страницу на Flickr».</em></p> </li> <li> <p>Существуют и другие способы отображения фотографий с помощью метода поиска в API, но это немного сложнее и требует от вас аутентификации - другими словами, используйте API для входа в систему и сообщите Flickr, что это действительно вы - больше информацию об этом можно найти <span>здесь</span>.</p> </li> <li> Эта демонстрация является очень простым примером того, что вы можете сделать с помощью Flickr API. Вы можете сделать это намного дальше и фактически делать практически все, что делает Flickr: получать наборы фотографий, показывать теги и комментарии, отображать личные фотографии и даже загружать изображения. Посмотрите документацию по API здесь: http://www.flickr.com/services/api/ Вы можете проверить методы по отношению к файлу phpFlickr.php.</li> <li> Так же, как мы вызывали наши фотографии, используя $ photos = $ f-&gt; people_getPublicPhotos ($ nsid, NULL, 21, $ page); Вы можете сделать то же самое с набором. Например, $ photos = $ f-&gt; photosets_getPhotos ("$ set", $ extras, $ privacyfilter, 21, $ page); способ получить 21 фотографию на странице из набора, где $ set = установленный идентификатор (что-то вроде 72157594488289220),затем используйте foreach ($ photos ["photo"] как $ photo) {... для получения изображений и т. д. </li> <li> <p>Если вам нужно узнать, какая часть массива вам нужна, вы можете использовать print_r (), чтобы вывести список из массива и посмотреть, как найти нужное вам значение. Окружите его&lt;pre&gt; тегами, чтобы сделать вывод разборчивым.</p> </li> <li>Все пути к файлам в этой демонстрации работают в предположении, что все находится в одной и той же папке (или все в корне) - не стесняйтесь перемещаться, но не забудьте изменить пути </li> <li>Огромное спасибо <span>Дэну Коултеру</span> за то, что он написал отличный <span>phpFlickr</span>. Обязательно ознакомьтесь с документацией phpFlickr: <span>http://phpflickr.com/docs/</span>, чтобы получить дополнительные советы и рекомендации по дальнейшим действиям. </li> </ul><p><strong>Забавляйтесь, и показывайте нам, что вы придумываете!</strong></p> <ul class="webroundup"><li>Подпишитесь на нас в <span>Твиттере</span> или подпишитесь на ленту <span>Nettuts + RSS</span> для получения лучших учебных материалов по веб-разработке.</li> </ul><p> <br></p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825740-kak-sozdat-fotogalereyu-s-pomoschyu-flickr-api" class="tm-article-body__tags-item-link">PHP</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
37655</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
321</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
