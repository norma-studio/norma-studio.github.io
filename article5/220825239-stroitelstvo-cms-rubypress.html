
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Строительство CMS: rubyPress... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Строительство CMS: rubyPress... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Строительство CMS: rubyPress... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Строительство CMS: rubyPress... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="После создания системы управления контентом (CMS) базовые структуры, и реальный сервер, используя поди Node.js вы готовы попробовать свои силы на другом языке.  ...">
<meta property="og:description" content="После создания системы управления контентом (CMS) базовые структуры, и реальный сервер, используя поди Node.js вы готовы попробовать свои силы на другом языке.  ...">
<meta name="twitter:description" content="После создания системы управления контентом (CMS) базовые структуры, и реальный сервер, используя поди Node.js вы готовы попробовать свои силы на другом языке.  ...">
<meta property="aiturec:description" content="После создания системы управления контентом (CMS) базовые структуры, и реальный сервер, используя поди Node.js вы готовы попробовать свои силы на другом языке.  ...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/71/posts/25818/image/BuildingCMS-ruby-01.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/71/posts/25818/image/BuildingCMS-ruby-01.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/71/posts/25818/image/BuildingCMS-ruby-01.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/71/posts/25818/image/BuildingCMS-ruby-01.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/71/posts/25818/image/BuildingCMS-ruby-01.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress.html" title="Строительство CMS: rubyPress... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Строительство CMS: rubyPress... | envatomarket.ru | norma-studio.github.io" title="Строительство CMS: rubyPress... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/31231313312.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress.html" class="tm-user-info__username" title="
Д. Грунин" aria-label="
Д. Грунин">
Д. Грунин</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Строительство CMS: rubyPress...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="CMS" href="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress" class="tm-article-snippet__hubs-item-link"><span>CMS</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/71/posts/25818/image/BuildingCMS-ruby-01.jpg">
    <meta itemprop="headline name" content="Строительство CMS: rubyPress... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="После создания системы управления контентом (CMS) базовые структуры, и реальный сервер, используя поди Node.js вы готовы попробовать свои силы на другом языке.  ...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">После создания системы управления контентом (CMS) базовые структуры, и реальный сервер, используя поди Node.js вы готовы попробовать свои силы на другом языке.  ...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>После создания системы управления контентом (CMS) базовые структуры, и реальный сервер, используя поди Node.js вы готовы попробовать свои силы на другом языке.  </p><p> В этот раз я с помощью языка Ruby для создания сервера. Я нашел, что путем создания такой же программы на нескольких языках, вы начнете получать новые идеи по улучшению способов реализации программы.  Вы также видите больше возможностей, чтобы добавить функционал в программу. Давайте начнем.</p><h2>Установка и загрузка библиотек</h2> <p> Программы на Ruby, вы должны иметь последнюю версию, установленную на вашей системе. Приходят многие операционные системы предварительно установленная с Рубином в эти дни (Linux и OS X), но они обычно имеют более старую версию. Этот учебник предполагает, что вы Ruby версии 2.4.</p> <p> Самый простой способ обновить до последней версии Руби использовать РВМ. Чтобы установить RVM на Linux или Mac OS Х, введите следующую команду в терминале:</p><pre class="brush: bash noskimlinks noskimwords">gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3curl -sSL https://get.rvm.io | bash -s stable</pre> <p>Это позволит создать безопасное подключение, чтобы скачать и установить РВМ. Это устанавливает последнюю стабильную версию Руби, а также. Вам придется перезагрузить вашу оболочку, чтобы завершить установку.</p><p> Для Windows, вы можете скачать установщик Windows Руби. В настоящее время, этот пакет составляет в Ruby 2.2.2, которая подходит для запуска библиотеки и скрипты в этом уроке.</p> <p> После того, как язык Ruby установлен правильно, теперь вы можете установить библиотеки. Руби, как пойти и узлов, имеет менеджер пакетов для установки сторонних библиотек. В окне терминала введите следующее:</p><pre class="brush: bash noskimlinks noskimwords">gem install sinatragem install ruby-handlebarsgem install kramdowngem install slim</pre> <p> Это устанавливает Синатра, Руби руле, Kramdown, и тонкий библиотеки. Синатра-это платформа веб-приложений. Руби руле реализует руле шаблонизатора в Ruby.  Kramdown является Markdown для HTML-конвертер. Тонкая Нефритовая аналог библиотеки, но он не содержит макроопределения Джейд. Таким образом, макросы, используемые в новостях и блоге индексы сейчас нормально Джейд.</p> <h2> Создание rubyPress.файл RB</h2> <p> В корневом каталоге создайте файл rubyPress.RB и добавьте следующий код. Я буду комментировать о каждом разделе по мере их добавления в файл.</p><pre class="brush: ruby noskimlinks noskimwords">## Load the Libraries.#require "sinatra"  # https://www.sinatrarb.com/require "ruby-handlebars" # https://github.com/vincent-psarga/ruby-handlebarsrequire "kramdown" # http://kramdown.gettalong.orgrequire "slim" # http://slim-lang.com/require "json"require "date"</pre> <p> Первое, что нужно сделать, это загрузить библиотеки. В отличие от с Node.js эти не загружаются в переменную. Библиотек Ruby добавить их функций в рамках программы.</p><pre class="brush: ruby noskimlinks noskimwords">## Setup the Handlebars engine.#$hbs = Handlebars::Handlebars.new## HandleBars Helper:   date## Description:         This helper returns the current date#                      based on the format given.#$hbs.register_helper("date") {|context, format|now = Date.todaynow.strftime(format)}## HandleBars Helper:   cdate## Description:         This helper returns the given date#                      based on the format given.#$hbs.register_helper("cdate") {|context, date, format|day = Date.parse(date)day.strftime(format)}## HandleBars Helper:   save## Description:         This helper expects a#                      "|" where the name#                      is saved with the value for future#                      expansions. It also returns the#                      value directly.#$hbs.register_helper("save") {|context, name, text|## If the text parameter isn"t there, then it is the # goPress format all combined into the name. Split it # out. The parameters are not String objects. # Therefore, they need converted first.#name = String.try_convert(name)if name.count("|") &gt; 0parts = name.split("|")name = parts[0]text = parts[1]end## Register the new helper.#$hbs.register_helper(name) {|context, value|text}## Return the text.#text}</pre> <p> Библиотека руле инициализируется с различными определенными вспомогательными функциями. Определенные вспомогательные функции-дата, с дата, и сэкономить. </p><p>Дата вспомогательную функцию берет текущую дату и время, и форматирует ее в соответствии со строкой формата, передаваемые помощником. функция cdate за исключением прохождения дата первого.  Сохранить помощник позволяет указать имя и значение. Он создает новый помощник с именем name и возвращает значение. Это позволяет создавать переменные, которые заданы раз и влиять на многих местах. Эта функция также принимает версию перейти, которая ожидает строку с именем, ‘|’ в качестве разделителя, и значение.</p><pre class="brush: ruby noskimlinks noskimwords">## Load Server Data.#$parts = {}$parts = JSON.parse(File.read "./server.json")$styleDir = Dir.getwd + "/themes/styling/" + $parts["CurrentStyling"]$layoutDir = Dir.getwd + "/themes/layouts/" + $parts["CurrentLayout"]## Load the layouts and styles defaults.#$parts["layout"] = File.read $layoutDir + "/template.html"$parts["404"] = File.read $styleDir + "/404.html"$parts["footer"] = File.read $styleDir + "/footer.html"$parts["header"] = File.read $styleDir + "/header.html"$parts["sidebar"] = File.read $styleDir + "/sidebar.html"## Load all the page parts in the parts directory.#Dir.entries($parts["Sitebase"] + "/parts/").select {|f|if !File.directory? f$parts[File.basename(f, ".*")] = File.read $parts["Sitebase"] + "/parts/" + fend}## Setup server defaults:#port = $parts["ServerAddress"].split(":")[2]set :port, port</pre> <p> Следующая часть кода для загрузки кэшируемые элементы веб-сайта. Это все в стили и макет для вашей темы, и элементы в части подкаталог.  Глобальная переменная, $частей, сначала загружается с сервера.JSON-файл. Эта информация затем используется для загрузки нужной детали для макета и указанной теме. Руле шаблонизатор использует эту информацию, чтобы заполнить шаблоны.</p><pre class="brush: ruby noskimlinks noskimwords">## Define the routes for the CMS.#get "/" do  page "main"endget "/favicon.ico", :provides =&gt; "ico" doFile.read "#{$parts["Sitebase"]}/images/favicon.ico"endget "/stylesheets.css", :provides =&gt; "css"  doFile.read "#{$parts["Sitebase"]}/css/final/final.css"endget "/scripts.js", :provides =&gt; "js"  doFile.read "#{$parts["Sitebase"]}/js/final/final.js"endget "/images/:image", :provides =&gt; "image" doFile.read "#{$parts["Sitebase"]}/images/#{parms["image"]}"endget "/posts/blogs/:blog" dopost "blogs", params["blog"], "index"endget "/posts/blogs/:blog/:post" dopost "blogs", params["blog"], params["post"]endget "/posts/news/:news" dopost "news", params["news"], "index"endget "/posts/news/:news/:post" dopost "news", params["news"], params["post"]endget "/:page" dopage params["page"]end</pre> <p> Следующий раздел содержит определения для всех маршрутов. Синатра-это полный сервер совместимый остальные. Но для этой CMS, я буду только использовать глагол get.  Каждый маршрут длится элементы от маршрута, чтобы перейти к функции получения нужной странице. В Sinatra название предшествует двоеточие указывает участке пути, чтобы передать в обработчик маршрута. Эти элементы находятся в параметры хэш-таблицы.</p><pre class="brush: ruby noskimlinks noskimwords">## Various functions used in the making of the server:### Function:    page## Description: This function is for processing a page#              in the CMS.## Inputs:# pg The page name to lookup#def page(pg)processPage $parts["layout"], "#{$parts["Sitebase"]}/pages/#{pg}"end</pre> <p> Функция возвращает страницы имя страницы с трассы и передает макет в переменной $части вместе с полным путем к файлу подкачки нужен для processPage функции.  Функция processPage принимает эту информацию и создает соответствующую страницу, которая затем возвращается. В Ruby, выход последней функции является возвращаемым значением функции.</p><pre class="brush: ruby noskimlinks noskimwords">## Function:    post## Description: This function is for processing a post type#              page in the CMS. All blog and news pages are#    post type pages.## Inputs:#              type   The type of the post#              cat    The category of the post (blog, news)#              post   The actual page of the post#def post(type, cat, post)processPage $parts["layout"], "#{$parts["Sitebase"]}/posts/#{type}/#{cat}/#{post}"end</pre> <p> Функция пост-это просто как функция страницы, за исключением того, что она работает на всех страницах типа пост. Эта функция ожидает сообщение тип, категория поста, и сам пост. Это позволит создать адрес для правильного отображение страницы.</p><pre class="brush: ruby noskimlinks noskimwords">## Function:    figurePage## Description: This function is to figure out the page#              type (ie: markdown, HTML, jade, etc), read#              the contents, and translate it to HTML.## Inputs:#              page      The address of the page #                        without its extension.#def figurePage(page)result = ""if File.exist? page + ".html"## It"s an HTML file.#result = File.read page + ".html"elsif File.exist? page + ".md"## It"s a markdown file.#result = Kramdown::Document.new(File.read page + ".md").to_html## Fix the fancy quotes from Kramdown. It kills# the Handlebars parser.#result.gsub!("“","\"")result.gsub!("”","\"")elsif File.exist? page + ".amber"## It"s a jade file. Slim doesn"t support# macros. Therefore, not as powerful as straight jade.# Also, we have to render any Handlebars first# since the Slim engine dies on them.#File.write("./tmp.txt",$hbs.compile(File.read page + ".amber").call($parts))result = Slim::Template.new("./tmp.txt").render()else## Doesn"t exist. Give the 404 page.#result = $parts["404"]end## Return the results.#return resultend</pre> <p>Функция figurePage использует функцию processPage, чтобы прочитать содержание страницы из файловой системы. Эта функция получает полный путь к файлу без расширения.  затем figurePage тесты для файла с указанным именем с расширением HTML для чтения HTML-файл. Второй вариант для расширения MD для файла Markdown. </p><p> И наконец, он проверяет для расширением янтаря на файл Джейд. Помните: Янтарь-это имя библиотеки для обработки синтаксис Jade файлы в ходу.  Я держал это же в функциональности. HTML-файл является просто сдал назад, в то время как все уценки и Жад файлы преобразуются в HTML, прежде чем перейти обратно.</p> <p> Если файл не найден, то пользователь получит страницу 404. Таким образом, ваш “страница не найдена”, страница выглядит так же, как и любой другой странице, кроме содержания.</p><pre class="brush: ruby noskimlinks noskimwords">## Function:    processPage## Description: The function processes a page by getting#              its contents, combining with all the page#              parts using Handlebars, and processing the#              shortcodes.## Inputs:#              layout  The layout structure for the page#              page    The complete path to the desired#                      page without its extension.#def processPage(layout, page)## Get the page contents and name.#$parts["content"] = figurePage page$parts["PageName"] = File.basename page## Run the page through Handlebars engine.#beginpageHB = $hbs.compile(layout).call($parts)rescuepageHB = "Render Error"end## Run the page through the shortcodes processor.#pageSH = processShortCodes pageHB## Run the page through the Handlebar engine again.#beginpageFinal = $hbs.compile(pageSH).call($parts)rescuepageFinal = "Render Error" + pageSHend## Return the results.#return pageFinalend</pre> <p> Функция processPage выполняет все дополнения шаблона на данные страницы. Он начинается с вызова функции figurePage получить содержание страницы. Затем он обрабатывает макет, переданный ему в руль, чтобы развернуть шаблон. </p><p> Затем функция processShortCode найдете и обработать все шорткоды в разделе. Результаты передаются в руль во второй раз в процесс любые макросы, оставленных в короткие. Пользователь получает конечный результат.</p><pre class="brush: ruby noskimlinks noskimwords">## Function:    processShortCodes## Description: This function takes the page and processes#              all of the shortcodes in the page.## Inputs:#              page     The contents of the page to #                       process.#def processShortCodes(page)## Initialize the result variable for returning.#result = ""## Find the first shortcode#scregFind = /\-\[([^\]]*)\]\-/match1 = scregFind.match(page)if match1 != nil## We found one! get the text before it# into the result variable and initialize# the name, param, and contents variables.#name = ""param = ""contents = ""nameLine = match1[1]loc1 = scregFind =~ pageresult = page[0, loc1]## Separate out the nameLine into a shortcode# name and parameters.#match2 = /(\w+)(.*)*/.match(nameLine)if match2.length == 2## Just a name was found.#name = match2[1]else## A name and parameter were found.#name = match2[1]param = match2[2]end## Find the closing shortcode#rest = page[loc1+match1[0].length, page.length]regEnd = Regexp.new("\-\[\/#{name}\]\-")match3 = regEnd.match(rest)if match3 != nil## Get the contents the tags enclose.#loc2 = regEnd =~ restcontents = rest[0, loc2]## Search the contents for shortcodes.#contents = processShortCodes(contents)## If the shortcode exists, run it and include# the results. Otherwise, add the contents to# the result.#if $shortcodes.include?(name)result += $shortcodes[name].call(param, contents)elseresult += contentsend## process the shortcodes in the rest of the# page.#rest = rest[loc2 + match3[0].length, page.length]result += processShortCodes(rest)else## There wasn"t a closure. Therefore, just # send the page back.#result = pageendelse## No shortcodes. Just return the page.#result = pageendreturn resultend</pre> <p> Функция processShortCodes принимает заданный текст, находит каждый шорткод, и запускает указанный короткий номер с аргументами и содержимое шорткода. Я использую шорткод подпрограмму для обработки содержание на короткие номера, а также. </p> <p>Шорткод-это HTML-тег, который как использует -[ и ]- разграничить открывающий тег и - [и ]- закрывающий тег. Открывающий тег содержит параметры шорткода, а также. Таким образом, пример шорткода будет:</p><pre class="brush: plain noskimlinks noskimwords">-[box]-This is inside a box.-[/box]-</pre> <p> Этот шорткод определяет короткий коробка без каких-либо параметров с содержанием это внутри коробки..  Короткий коробка обертывания содержимое в соответствующий HTML для того чтобы произвести рамку вокруг текста с текстом в центре окна.  Если в дальнейшем вы хотите изменить, как поле отображается, вы только должны изменить определение шорткод. Это экономит много работы.</p><pre class="brush: ruby noskimlinks noskimwords">## Data Structure:  $shortcodes## Description:     This data structure contains all#                  the valid shortcodes names and the#                  function. All shortcodes should#                  receive the arguments and the#                  that the shortcode encompasses.#$shortcodes = {"box" =&gt; lambda { |args, contents|return("<div>#{contents}</div>")},   "Column1"=&gt; lambda { |args, contents|return("<div>#{contents}</div>")   },   "Column2" =&gt; lambda { |args, contents|      return("<div>#{contents}</div>")   },   "Column1of3" =&gt; lambda { |args, contents|      return("<div>#{contents}</div>")   },   "Column2of3" =&gt; lambda { |args, contents|      return("<div>#{contents}</div>")   },   "Column3of3" =&gt; lambda { |args, contents|      return("<div>#{contents}</div>")   },   "php" =&gt; lambda { |args, contents|      return("<div><pre class="brush: php noskimlinks noskimwords">#{contents}</pre></div>") }, "js" =&gt; lambda { |args, contents| return("<div><pre class="brush: javascript noskimlinks noskimwords">#{contents}</pre></div>") }, "html" =&gt; lambda { |args, contents| return("<div><pre class="brush: html noskimlinks noskimwords">#{contents}</pre></div>") }, "css" =&gt; lambda {|args, contents| return("<div><pre class="brush: css noskimlinks noskimwords">#{contents}</pre></div>") } }</pre> <p>Последнее, что в файле-это $короткие хеш-таблицы, содержащей подпрограммы шорткод. Эти простые шорткоды, но вы можете создать другие шорткоды быть сложным, как вы хотите. </p><p>Все шорткоды должны принимать два параметра: args и содержание. Эти строки содержат параметры шорткода и содержание шорткоды окружают.  Поскольку короткие номера внутри хэш-таблицы, я использовал лямбда-функции, чтобы определить их. Лямбда-функция-это функция без имени. Единственный способ для выполнения этих функций из хэш-массива.</p> <h2> Запуск сервера</h2> <p>После того как вы создали rubyPress.файл РБ с указанным выше содержанием, Вы можете запустить сервер с:</p><pre class="brush: bash noskimlinks noskimwords">ruby rubyPress.rb</pre> <p> Поскольку в рамках Синатра работает с Ruby на Rails конструкции шкафа, вы можете использовать военнопленных для запуска сервера.  Военнопленных будут созданы файлы вашей системы для запуска вашего сервера локально то же как бы из размещенных сайтов. Вы можете установить для военнопленных с порошком, используя следующие команды в командной строке:</p><pre class="brush: bash noskimlinks noskimwords">gem install powderpowder install</pre> <p> Порошок-это программа командной строки рутины для управления сайтами PoW на вашем компьютере. Чтобы получить военнопленных, чтобы увидеть ваш сайт, вы должны создать мягкую ссылку на свой проект в каталог ~/.каталог военнопленных.  Если сервер в папку /Users/проверка/документов/каталог rubyPress, следует выполнить следующие команды:</p><pre class="brush: bash noskimlinks noskimwords">cd ~/.powln -s /Users/test/Documents/rubyPress rubyPress</pre> <p>ЛН -ы создает мягкую ссылку в каталог, указанный во-первых, с именем, указанным во-вторых. Тогда пр будет настроить домен на компьютере с именем мягких ссылке. В приведенном выше примере, идя в http://rubypress.dev веб-сайт в браузере будет загружена страница с сервера.</p> <p>Для запуска сервера, введите следующую после создания мягкой ссылке:</p><pre class="brush: bash noskimlinks noskimwords">powder start</pre> <p>Перезагрузить сервер после внесения некоторых изменений в код, введите следующее:</p><pre class="brush: bash noskimlinks noskimwords">powder restart</pre><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/71/posts/25818/image/BuildingCMS-ruby-01.jpg" alt="Строительство CMS: rubyPress..." title="Строительство CMS: rubyPress..." width="50" height="50"><figcaption> Главная страница rubyPress</figcaption></figure><p>Зайдя на сайт в браузере будет результат на картинке выше. Пр будет настроить сайт по http://rubyPress.dev. Независимо от того, какой метод вы используете, чтобы запустить сайт, вы увидите тот же открывшейся странице.</p> <h2>Заключение</h2> <p>Ну, вы сделали это. Другой CMS, но в этот раз в Руби. Эта версия является самой короткой версии все с открытым кодом, созданные в этой серии. Экспериментов с кодом и посмотреть, как можно расширить эту основу.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="CMS" href="https://norma-studio.github.io/article5/220825239-stroitelstvo-cms-rubypress" class="tm-article-body__tags-item-link">CMS</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
44638</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
661</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
