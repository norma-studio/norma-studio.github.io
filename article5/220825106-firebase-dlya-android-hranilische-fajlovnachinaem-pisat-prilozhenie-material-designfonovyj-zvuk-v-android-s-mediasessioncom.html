
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Во время конференции Google I/O в 2016 году Firebase была вновь представлена сообществу разработчиков в качестве основного инструмента для быстрой поддержки веб-страниц и мобильных приложений. В этом руководстве вы познакомитесь с функциями хранения и извлечения файлов, доступными для ваших приложений Android. ...">
<meta property="og:description" content="Во время конференции Google I/O в 2016 году Firebase была вновь представлена сообществу разработчиков в качестве основного инструмента для быстрой поддержки веб-страниц и мобильных приложений. В этом руководстве вы познакомитесь с функциями хранения и извлечения файлов, доступными для ваших приложений Android. ...">
<meta name="twitter:description" content="Во время конференции Google I/O в 2016 году Firebase была вновь представлена сообществу разработчиков в качестве основного инструмента для быстрой поддержки веб-страниц и мобильных приложений. В этом руководстве вы познакомитесь с функциями хранения и извлечения файлов, доступными для ваших приложений Android. ...">
<meta property="aiturec:description" content="Во время конференции Google I/O в 2016 году Firebase была вновь представлена сообществу разработчиков в качестве основного инструмента для быстрой поддержки веб-страниц и мобильных приложений. В этом руководстве вы познакомитесь с функциями хранения и извлечения файлов, доступными для ваших приложений Android. ...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/posts/27248/preview_image/firebase.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/posts/27248/preview_image/firebase.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/posts/27248/preview_image/firebase.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/posts/27248/preview_image/firebase.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/posts/27248/preview_image/firebase.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom.html" title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom... | envatomarket.ru | norma-studio.github.io" title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64533jfgfsfxcv.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom.html" class="tm-user-info__username" title="
О. Гуськов" aria-label="
О. Гуськов">
О. Гуськов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Android SDK" href="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom" class="tm-article-snippet__hubs-item-link"><span>Android SDK</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/posts/27248/preview_image/firebase.png">
    <meta itemprop="headline name" content="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Во время конференции Google I/O в 2016 году Firebase была вновь представлена сообществу разработчиков в качестве основного инструмента для быстрой поддержки веб-страниц и мобильных приложений. В этом руководстве вы познакомитесь с функциями хранения и извлечения файлов, доступными для ваших приложений Android. ...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Во время конференции Google I/O в 2016 году Firebase была вновь представлена сообществу разработчиков в качестве основного инструмента для быстрой поддержки веб-страниц и мобильных приложений. В этом руководстве вы познакомитесь с функциями хранения и извлечения файлов, доступными для ваших приложений Android. ...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Во время конференции Google I/O в 2016 году Firebase была вновь представлена сообществу разработчиков в качестве основного инструмента для быстрой поддержки веб-страниц и мобильных приложений. В этом руководстве вы познакомитесь с функциями хранения и извлечения файлов, доступными для ваших приложений Android. </p><p>Чтобы узнать больше о базе данных Firebase в реальном времени, аналитике, отчетах о сбоях и аутентификации, ознакомьтесь с <span>некоторыми нашими другими учебниками</span> здесь, в Envato Tuts +.</p><h2>Настройка проверки подлинности</h2><p>Для краткости мы пропустим общий процесс настройки  Firebase в вашем приложении Android и консоли Firebase. Если вы впервые пытаетесь использовать Firebase в приложении, я предлагаю сначала проверить статью Ashraff Hathibelagal «<span>Начало работы с Firebase для Android</span>». </p><ul class="roundup-block__contents posts--half-width roundup-block--list"><li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/posts/27248/preview_image/firebase.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Android SDK</div> <div class="roundup-block__content-title">Начинаем работу с Firebase для Android</div> <div class="roundup-block__author">Ашраф Хатибелагал</div></span></li></ul><p>Прежде чем вы сможете начать использовать Firebase Storage, вам необходимо либо убедиться, что ваш пользователь аутентифицирован, либо изменить правила проверки подлинности в <span>консоли Firebase</span>, чтобы позволить пользователям, не прошедшим проверку подлинности, получить доступ и загрузить файлы. Чтобы все было просто, мы сделаем последнее. Начнем с перехода в раздел Storage, выбрав <strong>Storage</strong> в левом меню.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screen%20Shot%202016-11-03%20at%2012.38.55%20PM.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><p>Затем вы заметите, что в верхней части экрана <strong>Storage</strong> находятся две вкладки: <strong>Файлы</strong> и <strong>Правила</strong>. </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screen%20Shot%202016-11-03%20at%2012.39.02%20PM.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><p>Перейдите на вкладку «<strong>Правила</strong>», и в строке <code class="inline">allow read, write: if request.auth != null;</code> измените <code class="inline">!=</code> на <code class="inline">==</code> и нажмите кнопку <strong>ОПУБЛИКОВАТЬ</strong>. </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screen%20Shot%202016-11-03%20at%2012.39.14%20PM.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><p>Теперь любой пользователь вашего приложения должен иметь возможность скачивать или загружать файлы из вашего Firebase-сервера. Хотя это не идеально подходит для production окружения, это значительно облегчит изучение хранилища Firebase без необходимости разбираться в коде аутентификации.</p><h2>Загрузка файлов вручную</h2><p>Хотя возможность загрузки файлов из приложения очень удобная, иногда вы просто хотите хранить файлы где-то, где можно легко получить доступ и скачать их в ваше приложение. Здесь вы можете загружать файлы вручную из Firebase Console. На вкладке «<strong>Файлы</strong>» вы увидите синюю кнопку «<strong>Загрузить файл</strong>». </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screen%20Shot%202016-11-03%20at%2012.39.25%20PM.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><p>Щелкните ее и выберите файл, который вы хотите загрузить, и он появится в вашем хранилище Firebase.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screen%20Shot%202016-11-03%20at%2012.40.03%20PM.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><p>При выборе этого файла на консоли будет отображаться подробное представление, позволяющее вам проверять файлы, которые ранее были загружены.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screen%20Shot%202016-11-03%20at%2012.40.16%20PM.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><h2>Загрузка файлов из приложения для Android</h2><p>Теперь, когда у вас есть файл, хранящийся в Firebase, давайте скачаем его в приложение. Мы будем использовать простой макет в нашей <code class="inline">MainActivity</code>, который содержит <code class="inline">ImageView</code> с <code class="inline">id</code> изображения.</p><pre class="brush: xml noskimlinks noskimwords">&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;RelativeLayout xmlns:android="https://schemas.android.com/apk/res/android"    android:layout_width="match_parent"    android:layout_height="match_parent"&gt;    &lt;ImageView        android:id="@+id/image"        android:layout_width="wrap_content"        android:layout_height="wrap_content" /&gt;&lt;/RelativeLayout&gt;</pre><p>Чтобы получить доступ к файлам хранилища Firebase, вам нужно сначала получить ссылку на объект <code class="inline">FirebaseStorage</code>, а затем создать <code class="inline">StorageReference</code> на URL вашего проекта и файл, который вы хотите загрузить. URL вашего проекта можно найти в верхней части раздела «<strong>Файлы</strong>» <strong>Хранилища</strong> в Firebase Console.</p><pre class="brush: java noskimlinks noskimwords">FirebaseStorage storage = FirebaseStorage.getInstance();StorageReference storageRef = storage.getReferenceFromUrl("gs://tutsplus-firebase.appspot.com").child("android.jpg");</pre><p>Затем вы можете создать объект <code class="inline">File</code> и попытаться загрузить нужный файл, вызвав <code class="inline">getFile</code> у вашего <code class="inline">StorageReference</code> с новым объектом <code class="inline">File</code>, переданным в качестве параметра. Поскольку эта операция выполняется асинхронно, вы можете добавить <code class="inline">OnSuccessListener</code> и <code class="inline">OnFailureListener</code> к вашему вызову, чтобы справляться с непредвиденными обстоятельствами. </p><pre class="brush: java noskimlinks noskimwords">try {    final File localFile = File.createTempFile("images", "jpg");    storageRef.getFile(localFile).addOnSuccessListener(new OnSuccessListener&lt;FileDownloadTask.TaskSnapshot&gt;() {        @Override        public void onSuccess(FileDownloadTask.TaskSnapshot taskSnapshot) {            Bitmap bitmap = BitmapFactory.decodeFile(localFile.getAbsolutePath());            mImageView.setImageBitmap(bitmap);        }    }).addOnFailureListener(new OnFailureListener() {        @Override        public void onFailure(@NonNull Exception exception) {        }    });} catch (IOException e ) {}</pre><p>В <code class="inline">onSuccess()</code> из <code class="inline">OnSuccessListener</code> вы можете взять объект <code class="inline">FileDownloadTask.TaskSnapshot</code> и получить файл, из которого мы установим изображение в наш <code class="inline">ImageView</code>.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screenshot_20161103-132236.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><h2>Загрузка файлов в виде массива байтов</h2><p>Если вам нужно только загрузить файл в виде <code class="inline">byte[]</code>, и он не нужен вам в качестве файла, что является более вероятным случаем при загрузке изображения в <code class="inline">ImageView</code>, тогда вы можете получить байты аналогичным образом.</p><pre class="brush: java noskimlinks noskimwords">final long ONE_MEGABYTE = 1024 * 1024;storageRef.getBytes(ONE_MEGABYTE).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {    @Override    public void onSuccess(byte[] bytes) {        Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);        mImageView.setImageBitmap(bitmap);    }});</pre><h2>Получение URL-адреса файла</h2><p>Могут быть ситуации, когда вам не нужны фактические данные для сохраненного файла, но скорее будет нужен URL. Вы можете сделать это аналогично двум последним примерам, используя метод <code class="inline">getDownloadUrl()</code> на вашем <code class="inline">StorageReference</code>, который даст вам <code class="inline">Uri</code>, указывающий на местоположение файла.</p><pre class="brush: java noskimlinks noskimwords">storageRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {    @Override    public void onSuccess(Uri uri) {        Log.e("Tuts+", "uri: " + uri.toString());        //Handle whatever you"re going to do with the URL here    }});</pre><p>Вышеуказанный метод распечатает URL-адрес изображения, которое мы вручную загрузили ранее в Android-мониторе.</p><pre class="brush: bash noskimlinks noskimwords">E/Tuts+: uri: https://firebasestorage.googleapis.com/v0/b/tutsplus-firebase.appspot.com/o/android.jpg?alt=media&amp;token=1828111c-78e7-4640-b418-c65e7571576a</pre><h2>Загрузка из Android приложения</h2><p>Теперь, когда вы знаете, как загружать файлы из Firebase, пришло время поработать над загрузками. Как вы видели при загрузке из Firebase Storage, процессы для каждой формы ваших данных довольно схожи. Загрузка не отличается, поэтому мы просто погрузимся в то, как вы можете перемещать файлы из своего приложения в Firebase Storage.</p><h3>Загрузка массива байтов<br></h3><p>Как и при загрузке, вам нужно будет получить ссылку на объект <code class="inline">FirebaseStorage</code> и создать ссылку на место хранения вашего нового файла в качестве <code class="inline">StorageReference</code>. В этом примере мы покажем ic_launcher.png в нашем ImageView, а затем загрузим его как массив байтов.</p><pre class="brush: java noskimlinks noskimwords">FirebaseStorage storage = FirebaseStorage.getInstance();StorageReference storageReference = storage.getReferenceFromUrl("gs://tutsplus-firebase.appspot.com").child("ic_launcher.png");</pre><p>Затем нам нужно будет получить массив байтов из изображения, хранящегося в памяти, через <code class="inline">ImageView</code>. Это делается путем извлечения его в виде <code class="inline">Bitmap</code>, сжимающего его в <code class="inline">ByteArrayOutputStream</code>, а затем превращая его в <code class="inline">byte[]</code>.</p><pre class="brush: java noskimlinks noskimwords">mImageView.setDrawingCacheEnabled(true);mImageView.measure(View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED), View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));mImageView.layout(0, 0, mImageView.getMeasuredWidth(), mImageView.getMeasuredHeight());mImageView.buildDrawingCache();Bitmap bitmap = Bitmap.createBitmap(mImageView.getDrawingCache());ByteArrayOutputStream outputStream = new ByteArrayOutputStream();bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);byte[] data = outputStream.toByteArray();</pre><p>Наконец, вы можете создать <code class="inline">UploadTask</code>, вызвав <code class="inline">putBytes(byte[])</code>, чтобы загрузить изображение в Firebase. В этом <code class="inline">UploadTask</code> также могут быть связанные с ним <code class="inline">OnSuccessListener</code> и <code class="inline">OnFailureListener</code>.</p><pre class="brush: java noskimlinks noskimwords">UploadTask uploadTask = storageReference.putBytes(data);uploadTask.addOnFailureListener(new OnFailureListener() {    @Override    public void onFailure(@NonNull Exception exception) {    }}).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {    @Override    public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {    }});</pre><p>Когда вы проверяете страницу хранилища Firebase Console, вы должны увидеть <strong>ic_launcher.png</strong> в своем списке файлов.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screen%20Shot%202016-11-03%20at%202.50.58%20PM.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><h3>Загрузка из <code class="inline">InputStream</code> или файла<br></h3><p>Теперь, когда вы знаете, как загрузить массив байтов, два других типа загрузок должны быть достаточно интуитивно понятными. Допустим, у нас есть текстовый файл с именем <strong>test.txt</strong> в нашей папке с исходными ресурсами. Мы можем прочитать его в <code class="inline">InputStream</code>, а затем загрузить его, используя метод <code class="inline">putStream(InputStream)</code>  у <code class="inline">StorageReference</code>.</p><pre class="brush: java noskimlinks noskimwords">FirebaseStorage storage = FirebaseStorage.getInstance();StorageReference storageReference = storage.getReferenceFromUrl("gs://tutsplus-firebase.appspot.com").child("test.txt");InputStream stream = getResources().openRawResource(R.raw.test);UploadTask uploadTask = storageReference.putStream(stream);</pre><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screen%20Shot%202016-11-03%20at%203.00.05%20PM.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><p>Загрузка существующего файла так же делается довольно легко: просто получите ссылку на файл и вызовите <code class="inline">putFile(Uri)</code> с URI, указывающим на ваш файл. В этом примере мы просто создадим пустой файл temp в нашем коде.</p><pre class="brush: java noskimlinks noskimwords">FirebaseStorage storage = FirebaseStorage.getInstance();StorageReference storageReference = storage.getReferenceFromUrl("gs://tutsplus-firebase.appspot.com").child("test2.txt");File file = null;try {    file = File.createTempFile("test2", "txt");} catch( IOException e ) {}UploadTask uploadTask = storageReference.putFile(Uri.fromFile(file));</pre><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=850/uploads/users/798/posts/27376/image/Screen%20Shot%202016-11-03%20at%203.03.34%20PM.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></figure><h2>Управление загрузками и использование обратных вызовов</h2><p>Пока файлы, которые мы загрузили до сих пор, были небольшими, могут быть случаи, когда у вас будут большие загрузки, которые занимают достаточно много времени. Firebase предоставляет несколько методов с <code class="inline">UploadTask</code>, которые позволят вам контролировать поток загрузки и слушать изменения прогресса и состояния. Эти методы включают <code class="inline">pause()</code>, <code class="inline">resume()</code> и <code class="inline">cancel()</code>. <code class="inline">pause()</code> и <code class="inline">resume()</code> позволят вам приостановить и возобновить <code class="inline">UploadTask</code>, тогда как <code class="inline">cancel()</code> полностью остановит ее. Кроме того, вы можете использовать <code class="inline">OnPauseListener</code> и <code class="inline">OnProgressListener</code>, чтобы отслеживать состояния загрузки и состояния паузы.</p><pre class="brush: java noskimlinks noskimwords">mPause = (Button) findViewById(R.id.pause);mResume = (Button) findViewById(R.id.resume);mPause.setOnClickListener(new View.OnClickListener() {    @Override    public void onClick(View view) {        mUploadTask.pause();    }});mResume.setOnClickListener(new View.OnClickListener() {    @Override    public void onClick(View view) {        mUploadTask.resume();    }});FirebaseStorage storage = FirebaseStorage.getInstance();StorageReference storageReference = storage.getReferenceFromUrl("gs://tutsplus-firebase.appspot.com").child("image.jpg");InputStream stream = getResources().openRawResource(R.raw.image);mUploadTask = storageReference.putStream(stream);mUploadTask.addOnPausedListener(new OnPausedListener&lt;UploadTask.TaskSnapshot&gt;() {    @Override    public void onPaused(UploadTask.TaskSnapshot taskSnapshot) {        Log.e("Tuts+", "upload paused!");    }});mUploadTask.addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {    @Override    public void onProgress(UploadTask.TaskSnapshot taskSnapshot) {        Log.e("Tuts+", "Bytes uploaded: " + taskSnapshot.getBytesTransferred());    }});</pre><p>Вышеприведенный код позволит вам контролировать процесс загрузки для несколько большого (1 МБ, в данном случае) изображения и видеть его состояния, изменяющиеся в логах Android, когда нажаты кнопки паузы и возобновления.</p><pre class="brush: bash noskimlinks noskimwords">E/Tuts+: Bytes uploaded: 524288E/Tuts+: upload paused!E/Tuts+: Bytes uploaded: 786432</pre><h2>Обработка жизненного цикла Android Activity</h2><p>Как может подтвердить любой разработчик Android, иногда жизненный цикл Android  Activityможет вызвать непредвиденные проблемы. Одним из распространенных источников проблем является прослушивание, которое длится дольше, чем их родительская <code class="inline">Activity</code>, что может быть причиной для успешного или неуспешного завершения слушаетелй, связанных с задачей хранения Firebase. </p><p>Если <code class="inline">Activity</code> уничтожается и воссоздается (например, при вращении экрана) во время выполнения задачи, вы можете получить исключение <code class="inline">NullPointerException</code>, когда задача завершится. Чтобы этого избежать, вам нужно сохранить свой <code class="inline">StorageReference</code> в виде <code class="inline">String</code> в своем исходном <code class="inline">Bundle</code> в методе <code class="inline">onSaveInstanceState(Bundle)</code>, а затем восстановить его и добавить слушателей успеха в каждую <code class="inline">FileDownloadTask</code> или <code class="inline">FileUploadTask</code>, связанную с этим <code class="inline">StorageReference</code>.</p><pre class="brush: java noskimlinks noskimwords">@Overrideprotected void onSaveInstanceState(Bundle outState) {    super.onSaveInstanceState(outState);    if (mStorageReference != null) {        outState.putString(EXTRA_STORAGE_REFERENCE_KEY, mStorageReference.toString());    }}@Overrideprotected void onRestoreInstanceState(Bundle savedInstanceState) {    super.onRestoreInstanceState(savedInstanceState);    final String stringRef = savedInstanceState.getString(EXTRA_STORAGE_REFERENCE_KEY);    if (stringRef == null) {        return;    }    mStorageReference = FirebaseStorage.getInstance().getReferenceFromUrl(stringRef);    List&lt;FileDownloadTask&gt; tasks = mStorageReference.getActiveDownloadTasks();    for( FileDownloadTask task : tasks ) {        task.addOnSuccessListener(this, new OnSuccessListener&lt;FileDownloadTask.TaskSnapshot&gt;() {            @Override            public void onSuccess(FileDownloadTask.TaskSnapshot taskSnapshot) {                Log.e("Tuts+", "download successful!");            }        });    }}</pre><h2>Вывод<br></h2><p>В этом уроке вы много узнали о Firebase и его доступных вариантах хранения файлов. Теперь вы можете загружать и скачивать файлы, управлять передачей данных и обрабатывать изменения жизненного цикла вашего приложения во время транзакции. </p><p>Хотя мы только лишь поверхностно прошлись по этой теме, понимание этого инструмента, мы надеемся, позволит вам расширить возможности ваших собственных приложений.</p><p>А пока ознакомьтесь с некоторыми другими нашими статьями по разработке Android!</p><ul class="roundup-block__contents posts--half-width roundup-block--card"><li class="roundup-block__content posts__post"><article><header><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/48/posts/27576/preview_image/mat-design-3.png" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></span><span></span></header><div class="posts__post-teaser">В этом видео с моего курса по созданию Material Design приложения вы узнаете, как создать пользовательский интерфейс приложения для Material Design. Вы узнаете, как ...</div> <footer class="posts__post-details"><div class="posts__post-teaser-overlay"></div> <div class="posts__post-publication-meta"> <img sizes="76px" class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/profiles/18808/profileImage/picGrid.jpg" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"><div class="posts__post-details__info"> <address class="posts__post-author"><span>Ашраф Хатибелагал</span></address> <time class="posts__post-publication-date" datetime="2016-11-15 16:57:21 UTC">15 ноября 2016 г.</time></div> </div> <div class="posts__post-primary-category topic-code"><span>Android</span></div></footer></article></li> <li class="roundup-block__content posts__post"><article><header><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/798/posts/27030/preview_image/android.jpg" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></span><span></span></header><div class="posts__post-teaser">Одним из самых популярных применений для мобильных устройств является воспроизведение звука через стриминг сервисы, загруженные подкасты или любое другое аудио ...</div> <footer class="posts__post-details"><div class="posts__post-teaser-overlay"></div> <div class="posts__post-publication-meta"> <img sizes="76px" class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/769/profiles/19326/profileImage/paultr3.jpg" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"><div class="posts__post-details__info"> <address class="posts__post-author"><span>Пол Требилкокс-Руис</span></address> 09 ноября 2016 г.</div> </div> <div class="posts__post-primary-category topic-code"><span>Android SDK</span></div></footer></article></li> <li class="roundup-block__content posts__post"><article><header><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/posts/27499/preview_image/sA.jpg" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></span><span></span></header><div class="posts__post-teaser">CodeCanyon содержит сотни шаблонов приложений для Android, которые вы можете использовать, чтобы начать разработку своего следующего приложения. В этом уроке я помогу вам приступить к работе ...</div> <footer class="posts__post-details"><div class="posts__post-teaser-overlay"></div> <div class="posts__post-publication-meta"> <img sizes="76px" class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/362/profiles/18808/profileImage/picGrid.jpg" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"><div class="posts__post-details__info"> <address class="posts__post-author"><span>Ашраф Хатибелагал</span></address> <time class="posts__post-publication-date" datetime="2016-10-31 09:57:31 UTC">31 октября 2016 г.</time></div> </div> <div class="posts__post-primary-category topic-code"><span>Android</span></div></footer></article></li> <li class="roundup-block__content posts__post"><article><header><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/369/posts/26629/preview_image/whats-new-in-android-studio-2.2.jpg" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"></span><span></span></header><div class="posts__post-teaser">Последние несколько месяцев были интересным временем для Android Studio. Сначала появилась версия 2.1 с поддержкой Android N. Затем Google I/O принесла нам ...</div> <footer class="posts__post-details"><div class="posts__post-teaser-overlay"></div> <div class="posts__post-publication-meta"> <img sizes="76px" class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/369/profiles/1609/profileImage/jessica%20thornsby.jpg" alt="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." title="Firebase для Android: хранилище файловНачинаем писать приложение Material DesignФоновый звук в Android с MediaSessionCom..." width="50" height="50"><div class="posts__post-details__info"> <address class="posts__post-author"><span>Джессика Торнсби</span></address> 08 июня 2016 г.</div> </div> <div class="posts__post-primary-category topic-code"><span>Android</span></div></footer></article></li> </ul><p></p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Android SDK" href="https://norma-studio.github.io/article5/220825106-firebase-dlya-android-hranilische-fajlovnachinaem-pisat-prilozhenie-material-designfonovyj-zvuk-v-android-s-mediasessioncom" class="tm-article-body__tags-item-link">Android SDK</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
44454</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
700</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
