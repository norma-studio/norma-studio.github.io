
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Докер с нуля: создание образов... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Докер с нуля: создание образов... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Докер с нуля: создание образов... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Докер с нуля: создание образов... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Контейнеры Docker растут как лучшая практика для развертывания и управления облачными распределенными системами. Контейнеры - это экземпляры образов Docker. Нужно много всего знать, чтобы понимать образы. ...">
<meta property="og:description" content="Контейнеры Docker растут как лучшая практика для развертывания и управления облачными распределенными системами. Контейнеры - это экземпляры образов Docker. Нужно много всего знать, чтобы понимать образы. ...">
<meta name="twitter:description" content="Контейнеры Docker растут как лучшая практика для развертывания и управления облачными распределенными системами. Контейнеры - это экземпляры образов Docker. Нужно много всего знать, чтобы понимать образы. ...">
<meta property="aiturec:description" content="Контейнеры Docker растут как лучшая практика для развертывания и управления облачными распределенными системами. Контейнеры - это экземпляры образов Docker. Нужно много всего знать, чтобы понимать образы. ...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov.html" title="Докер с нуля: создание образов... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Докер с нуля: создание образов... | envatomarket.ru | norma-studio.github.io" title="Докер с нуля: создание образов... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/54332343.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov.html" class="tm-user-info__username" title="
В. Бухтеев" aria-label="
В. Бухтеев">
В. Бухтеев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Докер с нуля: создание образов...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Docker" href="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov" class="tm-article-snippet__hubs-item-link"><span>Docker</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1199/profiles/19709/profileImage/gigi_kettlebell_400x400.jpg">
    <meta itemprop="headline name" content="Докер с нуля: создание образов... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Контейнеры Docker растут как лучшая практика для развертывания и управления облачными распределенными системами. Контейнеры - это экземпляры образов Docker. Нужно много всего знать, чтобы понимать образы. ...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Контейнеры Docker растут как лучшая практика для развертывания и управления облачными распределенными системами. Контейнеры - это экземпляры образов Docker. Нужно много всего знать, чтобы понимать образы. ...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Контейнеры Docker растут как лучшая практика для развертывания и управления облачными распределенными системами. Контейнеры - это экземпляры образов Docker. Нужно много всего знать, чтобы понимать образы. </p><p>В этом учебном пособии из двух частей я подробно изучаю образы Docker. В первой части я обсудил основные принципы, соображения проектирования и осмотр внутренних образов. В этой части я расскажу о том, как создавать собственные образы, устранять неполадки и работать с репозиториями образов. </p><p>Когда вы выйдете с другой стороны, у вас будет четкое представление о том, что именно представляют из себя образы Docker и как их эффективно использовать в ваших собственных приложениях и системах.<br></p><h2>Создание образов</h2><p>Существует два способа создания образов. Вы можете изменить существующий контейнер, а затем зафиксировать его как новый образ, или вы можете написать свой Dockerfile и создать его для образа. Мы перейдем к обоим и объясним плюсы и минусы.</p><h3>Ручные сборки</h3><p>С помощью ручных сборок вы обрабатываете свой контейнер как обычный компьютер. Вы устанавливаете пакеты, вы пишете файлы, и когда все это будет сказано и сделано, вы фиксируете его и получаете новый образ, который вы используете в качестве шаблона, чтобы создать еще много идентичных контейнеров или даже основывать другие образы.</p><p>Начнем с <span>alpine image</span>, которое является очень маленьким и спартанским образов на основе Alpine Linux. Мы можем запустить его в интерактивном режиме, чтобы попасть в оболочку. Наша цель - добавить файл « yeah», содержащий текст «it works!». В корневой каталог, а затем создать новое изображение из него, называемое «да-альпийское». </p><p>Вот так. Приятно, мы уже в корневом каталоге. Посмотрим, что там.</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker run -it alpine /bin/sh/ # lsbin      dev      etc      home     lib      linuxrc  media    mnt      proc     root     run      sbin     srv      sys      tmp      usr      var</pre><p>Какой редактор доступен? Нет vim, нет nano?</p><pre class="brush: bash noskimlinks noskimwords">/ # vim/bin/sh: vim: not found/ # nano/bin/sh: nano: not found</pre><p>Ну что ж. Мы просто хотим создать файл:</p><pre class="brush: bash noskimlinks noskimwords">/ # echo "it works!" &gt; yeah/ # cat yeahit works!</pre><p>Я вышел из интерактивной оболочки, и я вижу контейнер с именем «vibrant_spenc» с <code class="inline">docker ps -all</code>. Флаг <code class="inline">-all</code> важен, потому что контейнер больше не работает.</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker ps --allCONTAINER ID IMAGE  COMMAND   CREATED       STATUS NAMESc8faeb05de5f alpine "/bin/sh" 6 minutes ago Exited vibrant_spence</pre><p>Здесь я создаю новый образ из контейнера «vibrate_spence». Я добавил сообщение о фиксации «mine, mine, mine» в качестве отметки.</p><pre class="brush: plain noskimlinks noskimwords">&gt; docker commit -m "mine, mine, mine" vibrant_spence yeah-alpinesha256:e3c98cd21f4d85a1428...e220da99995fd8bf6b49aa</pre><p>Давайте посмотрим. Да, есть новый образ, и в его истории вы можете увидеть новый слой с комментарием «mine, mine, mine».</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker imagesREPOSITORY       TAG    IMAGE ID      SIZEyeah-alpine      latest e3c98cd21f4d  4.8 MBpython           latest 775dae9b960e  687 MBd4w/nsenter      latest 9e4f13a0901e  83.8 kBubuntu-with-ssh  latest 87391dca396d  221 MBubuntu           latest bd3d4369aebc  127 MBhello-world      latest c54a2cc56cbb  1.85 kBalpine           latest 4e38e38c8ce0  4.8 MBnsqio/nsq        latest 2a82c70fe5e3  70.7 MB&gt; docker history yeah-alpineIMAGE        CREATED         SIZE   COMMENTe3c98cd21f4d 40 seconds ago  66 B   mine, mine, mine4e38e38c8ce0 7 months ago    4.8 MB</pre><p>Теперь для настоящего теста. Удалим контейнер и создадим новый контейнер из образа. Ожидаемый результат заключается в том, что файл «yeah» будет присутствовать в новом контейнере.</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker rm vibrant_spencevibrant_spence&gt; docker run -it yeah-alpine /bin/sh/ # cat yeahit works!/ #</pre><p>Что я могу сказать? Да, это работает!</p><h3>Использование Dockerfile</h3><p>Создание образов из модифицированных контейнеров классно, но нет ответственности. Трудно отслеживать изменения и знать, каковы были конкретные изменения. Дисциплинированный способ создания образов состоит в их создании с помощью Dockerfile.</p><p>Dockerfile - текстовый файл, похожий на сценарий оболочки, но он поддерживает несколько команд. Каждая команда, которая модифицирует файловую систему, создает новый слой. В первой части мы обсудили важность правильного разделения образа на слои. Dockerfile - большая тема сама по себе. </p><p>Здесь я просто продемонстрирую пару команд для создания другого образа «oh-yeah-alpine» на основе Dockerfile. В дополнение к созданию печально известного файла «yeah», давайте также установим vim. В альпийском дистрибутиве Linux используется система управления пакетами под названием «apk». Вот наш Dockerfile:</p><pre class="brush: bash noskimlinks noskimwords">FROM alpine# Copy the "yeah" file from the hostCOPY yeah /yeah# Update and install vim using apkRUN apk update &amp;&amp; apk add vimCMD cat /yeah</pre><p>Базовым образом  является alpine. Он копирует файл «yeah» из одного и того же каталога хоста, где находится файл Dockerfile (путь контекста сборки). Затем он выполняет <code class="inline">apk update</code> и устанавливает vim. Наконец, он устанавливает команду, которая выполняется при запуске контейнера. В этом случае он выведет на экран содержимое файла « yeah».</p><p>ОК. Теперь, когда мы знаем, к чему мы стремимся, давайте построим наш орбраз. Параметр «-t» задает репозиторий. Я не указал тег, поэтому он будет по умолчанию «последним».</p><pre class="brush: bash noskimlinks noskimwords">&gt;  docker build -t oh-yeah-alpine .Sending build context to Docker daemon 3.072 kBStep 1/4 : FROM alpine ---&gt; 4e38e38c8ce0Step 2/4 : COPY yeah /yeah ---&gt; 1b2a228cc2a5Removing intermediate container a6221f725845Step 3/4 : RUN apk update &amp;&amp; apk add vim ---&gt; Running in e2c0524bd792fetch https://dl-cdn.alpinelinux.org/.../APKINDEX.tar.gzfetch http://dl-cdn.alpinelinux.org.../x86_64/APKINDEX.tar.gzv3.4.6-60-gc61f5bf [http://dl-cdn.alpinelinux.org/alpine/v3.4/main]v3.4.6-33-g38ef2d2 [http://dl-cdn.alpinelinux.org/.../v3.4/community]OK: 5977 distinct packages available(1/5) Installing lua5.2-libs (5.2.4-r2)(2/5) Installing ncurses-terminfo-base (6.0-r7)(3/5) Installing ncurses-terminfo (6.0-r7)(4/5) Installing ncurses-libs (6.0-r7)(5/5) Installing vim (7.4.1831-r2)Executing busybox-1.24.2-r9.triggerOK: 37 MiB in 16 packages ---&gt; 7fa4cba6d14fRemoving intermediate container e2c0524bd792Step 4/4 : CMD cat /yeah ---&gt; Running in 351b4f1c1eb1 ---&gt; e124405f28f4Removing intermediate container 351b4f1c1eb1Successfully built e124405f28f4</pre><p>Выглядит неплохо. Давайте проверим, что образ был создан:</p><pre class="brush: plain noskimlinks noskimwords">&gt; docker images | grep oh-yeahoh-yeah-alpine latest e124405f28f4 About a minute ago 30.5 MB</pre><p>Обратите внимание, что установка vim и его зависимостей раздула размер контейнера с 4,8 Мбайт базового альпийского образа до массивных 30,5 МБ!</p><p>Все очень хорошо. Но работает ли это?</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker run oh-yeah-alpineit works!</pre><p>О да, это работает!</p><p>Если вы все еще подозрительны, давайте перейдем в контейнер и откроем файл «yeah» с помощью нашего недавно установленного vim.</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker run -it oh-yeah-alpine /bin/sh/ # vim yeahit works!~~...~"yeah" 1L, 10C</pre><h3>Контекст сборки и файл .dockerignore</h3><p>Я не сказал вам, но изначально, когда я пытался построить oh-yeah-alpine образ, он просто висел в течение нескольких минут. Проблема в том, что я просто поместил Dockerfile в свой домашний каталог. Когда Docker создает образ, он сначала упаковывает весь каталог, в котором находится Dockerfile (включая подкаталоги), и делает его доступным для команд COPY в Dockerfile. </p><p>Docker не пытается быть умным и анализирует ваши команды COPY. Он просто собирает все это. Обратите внимание, что содержимое сборки не будет заканчиваться вашим образом, но это замедлит вашу команду сборки, если ваш контекст сборки излишне большой.</p><p>В этом случае я просто скопировал Dockerfile и «yeah» в подкаталог и выполнил команду сборки docker в этом подкаталоге. Но иногда у вас есть сложное дерево каталогов, из которого вы хотите скопировать определенные подкаталоги и файлы и игнорировать другие. Используйте файл .dockerignore. </p><p>Этот файл позволяет вам точно контролировать, что входит в контекст сборки. Мой любимый трюк заключается в том, чтобы сначала исключить все, а затем начать включать в себя части, которые мне нужны. Например, в этом случае я мог бы создать следующий файл .dockerignore и сохранить файл Docker и «yeah» в моем домашнем каталоге:</p><pre class="brush: bash noskimlinks noskimwords"># Exclude EVERYTHING first*# Now selectively include stuff!yeah</pre><p>В контексте сборки нет необходимости включать сам файл Dockerfile или файл «.dockerignore».</p><h3>Копирование против монтажа</h3><p>Копирование файлов в образ иногда требуется вам, но в других случаях вы можете захотеть, чтобы ваши контейнеры были более динамичными и работали с файлами на хосте. Именно здесь вступают в силу тома и монтаж файловой системы. </p><p>Монтаж хост-каталогов - это другая игра с мячом. Данные принадлежат хосту, а не контейнеру. Данные могут быть изменены, когда контейнер остановлен. Один и тот же контейнер можно запустить с установленными разными каталогами хоста.</p><h3>Тегирование образов</h3><p>Маркировка образов очень важна, если вы разрабатываете систему на основе микросервисов и генерируете много образов, которые иногда должны быть связаны друг с другом. Вы можете добавить образу столько меток, сколько хотите. </p><p>Вы уже видели по умолчанию «latest» тег. Иногда имеет смысл добавлять другие теги, такие как «tested», «release-1.4» или git коммит, соответствующий этому образу.</p><p>Вы можете пометить образ во время сборки или позже. Вот как добавить тег к существующему образу. Обратите внимание, что, хотя он называется тегом, вы также можете назначить новый репозиторий.</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker tag oh-yeah-alpine oh-yeah-alpine:cool-tag&gt; docker tag oh-yeah-alpine oh-yeah-alpine-2&gt; docker images | grep oh-yeahoh-yeah-alpine-2 latest    e124405f28f4 30.5 MBoh-yeah-alpine   cool-tag  e124405f28f4 30.5 MBoh-yeah-alpine   latest    e124405f28f4 30.5 MB</pre><p>Вы также можете отменить тег удаляя образ по имени своего тега. Это немного страшно, потому что если вы удаляете последний тег случайно, вы теряете образ. Но если вы создаете образы из Dockerfile, вы можете просто его пересобрать.</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker rmi oh-yeah-alpine-2Untagged: oh-yeah-alpine-2:latest&gt; docker rmi oh-yeah-alpine:cool-tagUntagged: oh-yeah-alpine:cool-tag</pre><p>Если я попытаюсь удалить последний оставшийся помеченный образ, я получаю сообщение об ошибке, потому что он используется контейнером.</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker rmi oh-yeah-alpineError response from daemon: conflict: unable to remove repositoryreference "oh-yeah-alpine" (must force) - container a1443a7ca9d2 is using its referenced image e124405f28f4</pre><p>Но если я удалю контейнер ...</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker rmi oh-yeah-alpineUntagged: oh-yeah-alpine:latestDeleted: sha256:e124405f28f48e...441d774d9413139e22386c4820dfDeleted: sha256:7fa4cba6d14fdf...d8940e6c50d30a157483de06fc59Deleted: sha256:283d461dadfa6c...dbff864c6557af23bc5aff9d66deDeleted: sha256:1b2a228cc2a5b4...23c80a41a41da4ff92fcac95101eDeleted: sha256:fe5fe2290c63a0...8af394bb4bf15841661f71c71e9a&gt; docker images | grep oh-yeah</pre><p>Ага. Он исчез. Но не волнуйся. Мы можем его пересобрать:</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker build -t oh-yeah-alpine .&gt; docker images | grep oh-yeahoh-yeah-alpine latest 1e831ce8afe1 1 minutes ago 30.5 MB</pre><p>Верно, он вернулся. Dockerfile помог!</p><h2>Работа с реестрами образов</h2><p>Образы очень похожи в некоторых отношениях на git-хранилища. Они также построены из упорядоченного набора коммитов. Вы можете думать о двух образах, которые используют те же базовые образы, как о ветках в git (хотя в Docker нет слияния или перезагрузки). Реестр образов является эквивалентом центрального сервиса git-хостинга, такого как GitHub. Угадайте, как называется официальный реестр образов Docker? Правильно, <span>Docker Hub</span>. </p><h3>Вытягивание образов</h3><p>Когда вы запускаете образ, если он не существует, Docker попытается вытащить его из одного из ваших настроенных реестров образов. По умолчанию он переходит в Docker Hub, но вы можете управлять этим в файле «~/.docker/config.json». Если вы используете другой реестр, вы можете следовать их инструкциям, которые обычно включают вход с использованием их учетных данных.</p><p>Удалим образ «hello world» и снова вытащим его с помощью команды <code class="inline">docker pull</code>.</p><pre class="brush: bash noskimlinks noskimwords">&gt; dockere images | grep hello-worldhello-world latest c54a2cc56cbb 7 months ago 1.85 kB &gt; docker rmi hello-worldhello-world</pre><p>Он исчез. Теперь вытаскиваем.</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker pull hello-worldUsing default tag: latestlatest: Pulling from library/hello-world78445dd45222: Pull completeDigest: sha256:c5515758d4c5e1e...07e6f927b07d05f6d12a1ac8d7Status: Downloaded newer image for hello-world:latest&gt; dockere images | grep hello-worldhello-world latest 48b5124b2768 2 weeks ago 1.84 kB</pre><p>Последний hello-world был заменен более новой версией.</p><h3>Выгрузка образов</h3><p>Выгрузка образов немного более сложная. Сначала вам нужно создать учетную запись на Docker Hub (или другом реестре). Затем вы входите в систему. Затем вам нужно пометить образ, который вы хотите выложить, в соответствии с именем вашей учетной записи («g1g1» в моем случае).</p><pre class="brush: plain noskimlinks noskimwords">&gt; docker login -u g1g1 -p &lt;password&gt;Login Succeeded&gt; docker tag hello-world g1g1/hello-world&gt; docker images | grep hellog1g1/hello-world latest 48b5124b2768 2 weeks ago 1.84 kBhello-world      latest 48b5124b2768 2 weeks ago 1.84 kB</pre><p>Теперь я могу выложить образ помеченный, тегом g1g1/hello-world.</p><pre class="brush: bash noskimlinks noskimwords">&gt; docker push g1g1/hello-worldThe push refers to a repository [docker.io/g1g1/hello-world]98c944e98de8: Mounted from library/hello-worldlatest: digest: sha256:c5515758d4c5e...f6d12a1ac8d7 size: 524</pre><h2>Вывод</h2><p>Образы Docket - это шаблоны для ваших контейнеров. Они разработаны для того, чтобы быть эффективными и предлагать максимальное повторное использование, используя драйвер хранения файловой системы наложения. </p><p>Docker предоставляет множество инструментов для регистрации, проверки, создания и маркировки образов. Вы можете загружать и перемещать образы в реестры образов, такие как Docker Hub, для простого управления и обмена образами.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Docker" href="https://norma-studio.github.io/article5/220825009-doker-s-nulya-sozdanie-obrazov" class="tm-article-body__tags-item-link">Docker</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
31717</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
673</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
