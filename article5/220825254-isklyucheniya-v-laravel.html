
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Исключения в Laravel... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Исключения в Laravel... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Исключения в Laravel... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Исключения в Laravel... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Будучи разработчиком PHP, вы скорее всего уже использовали исключения, потому что они позволяют вам заметить, когда что-то идет не так, или пользователь ведет себя некорректным образом (например делит на ноль). Без исключений ваше приложению завершилось бы показом нежелательных ошибок, которые было бы гораздо тяжелее отлаживать.- Так же важно, что ...">
<meta property="og:description" content="Будучи разработчиком PHP, вы скорее всего уже использовали исключения, потому что они позволяют вам заметить, когда что-то идет не так, или пользователь ведет себя некорректным образом (например делит на ноль). Без исключений ваше приложению завершилось бы показом нежелательных ошибок, которые было бы гораздо тяжелее отлаживать.- Так же важно, что ...">
<meta name="twitter:description" content="Будучи разработчиком PHP, вы скорее всего уже использовали исключения, потому что они позволяют вам заметить, когда что-то идет не так, или пользователь ведет себя некорректным образом (например делит на ноль). Без исключений ваше приложению завершилось бы показом нежелательных ошибок, которые было бы гораздо тяжелее отлаживать.- Так же важно, что ...">
<meta property="aiturec:description" content="Будучи разработчиком PHP, вы скорее всего уже использовали исключения, потому что они позволяют вам заметить, когда что-то идет не так, или пользователь ведет себя некорректным образом (например делит на ноль). Без исключений ваше приложению завершилось бы показом нежелательных ошибок, которые было бы гораздо тяжелее отлаживать.- Так же важно, что ...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1136/profiles/19646/profileImage/400*400.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1136/profiles/19646/profileImage/400*400.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1136/profiles/19646/profileImage/400*400.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1136/profiles/19646/profileImage/400*400.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1136/profiles/19646/profileImage/400*400.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel.html" title="Исключения в Laravel... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Исключения в Laravel... | envatomarket.ru | norma-studio.github.io" title="Исключения в Laravel... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/543543242.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel.html" class="tm-user-info__username" title="
А. Морозов" aria-label="
А. Морозов">
А. Морозов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Исключения в Laravel...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Laravel 5" href="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel" class="tm-article-snippet__hubs-item-link"><span>Laravel 5</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/1136/profiles/19646/profileImage/400*400.jpg">
    <meta itemprop="headline name" content="Исключения в Laravel... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Будучи разработчиком PHP, вы скорее всего уже использовали исключения, потому что они позволяют вам заметить, когда что-то идет не так, или пользователь ведет себя некорректным образом (например делит на ноль). Без исключений ваше приложению завершилось бы показом нежелательных ошибок, которые было бы гораздо тяжелее отлаживать.- Так же важно, что ...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Будучи разработчиком PHP, вы скорее всего уже использовали исключения, потому что они позволяют вам заметить, когда что-то идет не так, или пользователь ведет себя некорректным образом (например делит на ноль). Без исключений ваше приложению завершилось бы показом нежелательных ошибок, которые было бы гораздо тяжелее отлаживать.- Так же важно, что ...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Будучи разработчиком PHP, вы скорее всего уже использовали <span>исключения</span>, потому что они позволяют вам заметить, когда что-то идет не так, или пользователь ведет себя некорректным образом (например делит на ноль). Без исключений ваше приложению завершилось бы показом нежелательных ошибок, которые было бы гораздо тяжелее отлаживать.  Так же важно, что можно сразу прекратить выполнение и перевести управление программы в другое направление.</p><p>Исключения довольно просты и делают процесс разработки гораздо легче. После того как вы выучите как работать с исключениями, они становятся повседневной частью вашей разработки.</p> <h2>Что такое исключение?</h2> <p>Я думаю, что лучшее определение исключениям дал <span>Мартин Фаулер</span>:</p> <blockquote> <p>Исключения сигнализируют о том, что код ведет себя за пределами ожидаемого поведения.</p> </blockquote> <p>Действительно в самом деле, исключение является событием, которое происходит во время выполнения программы, когда нарушается нормальный поток инструкций. Когда вы выбрасываете (<code class="inline">throw</code>, создаете объект исключения и передаете его в среду выполнения), система поймает (<code class="inline">catch</code>) его с помощью соответствующего обработчика и вернет соответствующее сообщение.</p> <pre class="brush: php noskimlinks noskimwords">try {     // the code goes here } catch (Exception $e) {     // if an exception happened in the try block above }</pre> <h2>Когда нам следует использовать исключения?</h2> <p>Используйте исключения, когда ваша система сталкивается с исключительными ситуациями, которые могут привести к неправильной ее работе. Мы используем исключения только тогда, когда система не может определить, что произошло. Мартин Фаулер считает, что "если аварийное завершение программы - это ожидаемое поведение, то не стоит в таком случае использовать исключения". Это означает, что исключения следует использовать только тогда, когда вы не можете сами определить ошибку. Исключения должны быть использованы только в исключительных ситуациях.</p> <p>Обратите внимание: исключения не очень подходят для взаимодействия с логическими операциями.</p> <p>Например, для работы с валидацией входных данных, <em>не нужно</em> использовать исключения. Во-первых, входные данные детерминированы, и в приложении нам следует просто вернуть коллекцию с ошибками, вместо одной ошибки. Я считаю, что следует избегать использовать исключения во всех обстоятельствах, где у нас могут быть ошибки, связанные с валидацией.</p> <p>Важно также и поймать исключение, так как в противном случае приложение завершится с ошибкой. Операция, которая ловит исключение, должна находится максимально близко к месту, где исключение было выброшено.</p> <h2>Что же представляют собой исключения в Laravel?</h2> <p>Laravel использует <em>обработчик исключений</em>, который находится в классе <code class="inline">App\Exceptions\Handler.php</code>. Этот класс содержит два основных метода (<code class="inline">renderHttpException</code>, который используется для всех HTTP исключений, как например 404 или 503, находится в родительском классе). Первый - это <code class="inline">report</code>, который логирует исключения или отправляет их во внешний сервис. Вот пример метода report:</p> <pre class="brush: php noskimlinks noskimwords">public function report(Exception $e){    if ($e instanceof CustomException) {        //    }    return parent::report($e);}</pre> <p>Второй - <code class="inline">render</code>. Метод render отвечает за преобразование переданного ему исключения в HTTP ответ, который будет отправлен назад браузеру. Вот пример метода render:</p> <pre class="brush: php noskimlinks noskimwords">public function render($request, Exception $e){    if ($e instanceof CustomException) {        return response()-&gt;view("errors.custom", [], 500);    }    return parent::render($request, $e);}</pre> <p>Обратите внимание: можно воспользоваться свойством <code class="inline">$dontReport</code> у обработчика, чтобы игнорировать некоторые типы исключений.</p> <p>Вы можете переопределить исключения Laravel со своими собственными исключениями:</p> <pre class="brush: php noskimlinks noskimwords">public function render($request, Exception $e){    if (config("app.debug")) {        return parent::render($request, $e);    }    return $this-&gt;handle($request, $e);}</pre> <p>Это будет выведено, когда в конфиге установлен debug режим.</p> <h2>Как создать собственные исключения в Laravel?</h2> <p>Возможно вам потребовалось создать собственный класс с исключением. Нужно отнаследоваться от базового класса Exception в Larevel. Я создал абстрактный класс, который будет вести себя как базовый, для нашего пользовательского исключения.  Создадим файл в <code class="inline">App/Exceptions/monException.php</code>:</p> <pre class="brush: php noskimlinks noskimwords">namespace App\Exceptions;use Exception;abstract class monException extends Exception{    protected $id;    protected $details;        public function __construct($message)    {        parent::__construct($message);    }    protected function create(array $args)    {        $this-&gt;id = array_shift($args);        $error = $this-&gt;errors($this-&gt;id);        $this-&gt;details = vsprintf($error["context"], $args);        return $this-&gt;details;    }    private function errors($id)    {        $data= [            "not_found" =&gt; [                "context"  =&gt; "The requested resource could not be found but may be available again in the future. Subsequent requests by the client are permissible.",            ]            //   ...        ];        return $data[$id];    }}</pre> <p>И ваш класс исключения:</p> <pre class="brush: php noskimlinks noskimwords">namespace App\Exceptions;class NotFoundmonException extends  monException{    public function __construct()    {        $message = $this-&gt;create(func_get_args());        parent::__construct($message);    }}</pre> <p>Этот класс можно теперь использовать в коде:</p> <pre class="brush: php noskimlinks noskimwords">    try {        throw new \App\Exceptions\NotFoundmonException("not_found");    }    catch(\App\Exceptions\NotFoundmonException $e)    {        return $e-&gt;getMessage();    }</pre> <p>Помимо основного класса исключений Laravel, можно использовать библиотеку <span>Assertion</span>. Она может использоваться в качестве стороннего класса исключений; можно воспользоваться ей, чтобы избежать множества <code class="inline">if</code> блоков в вашем коде.</p> <p>Чтобы установить Assertion, следует выполнить следующую команду:</p> <pre class="brush: bash noskimlinks noskimwords">composer require beberlei/assert</pre> <p>Например если вам нужно проверить email пользователя, то можно выполнить следующее:</p> <pre class="brush: php noskimlinks noskimwords">use Assert\Assertion;use Assert\AssertionFailedException;//...try {    Assertion::email($value, "The value must be valid E-mail address");} catch(AssertionFailedException $e) {    $e-&gt;getValue(); // the value that caused the failure    $e-&gt;getConstraints(); // the additional constraints of the assertion.}</pre> <h2>Заключение</h2> <p>Независимо от языка, который вы выбрали использовать, исключения являются очень важным аспектом для понимания, так как они помогают нам контролировать поток выполнения приложения.</p> <p>Кроме того они помогают нам логировать различные проблемы и помогают сделать наше приложение более надежным.</p> <p>Как вы могли заметить из данной статьи, Laravel предлагает серьезный механизм управления исключениями в веб приложениях.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Laravel 5" href="https://norma-studio.github.io/article5/220825254-isklyucheniya-v-laravel" class="tm-article-body__tags-item-link">Laravel 5</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
31881</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
348</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
