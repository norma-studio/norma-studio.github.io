
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>HTTP Кратко: HTTP-сообщения... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="HTTP Кратко: HTTP-сообщения... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="HTTP Кратко: HTTP-сообщения... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="HTTP Кратко: HTTP-сообщения... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В этой главе мы рассмотрим сообщения, обменянные в транзакции HTTP. Мы узнаем о типах сообщений, заголовках HTTP и кодах состояния. Понимание того, что находится внутри HTTP-сообщения, жизненно важно для разработчиков, которые работают в Интернете. Вы не только создадите лучшие приложения, ответив нужными типами сообщений, но также сможете обнаружи...">
<meta property="og:description" content="В этой главе мы рассмотрим сообщения, обменянные в транзакции HTTP. Мы узнаем о типах сообщений, заголовках HTTP и кодах состояния. Понимание того, что находится внутри HTTP-сообщения, жизненно важно для разработчиков, которые работают в Интернете. Вы не только создадите лучшие приложения, ответив нужными типами сообщений, но также сможете обнаружи...">
<meta name="twitter:description" content="В этой главе мы рассмотрим сообщения, обменянные в транзакции HTTP. Мы узнаем о типах сообщений, заголовках HTTP и кодах состояния. Понимание того, что находится внутри HTTP-сообщения, жизненно важно для разработчиков, которые работают в Интернете. Вы не только создадите лучшие приложения, ответив нужными типами сообщений, но также сможете обнаружи...">
<meta property="aiturec:description" content="В этой главе мы рассмотрим сообщения, обменянные в транзакции HTTP. Мы узнаем о типах сообщений, заголовках HTTP и кодах состояния. Понимание того, что находится внутри HTTP-сообщения, жизненно важно для разработчиков, которые работают в Интернете. Вы не только создадите лучшие приложения, ответив нужными типами сообщений, но также сможете обнаружи...">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=429/net/uploads/2013/07/img002.png">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=429/net/uploads/2013/07/img002.png">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=429/net/uploads/2013/07/img002.png">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=429/net/uploads/2013/07/img002.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=429/net/uploads/2013/07/img002.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya.html" title="HTTP Кратко: HTTP-сообщения... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="HTTP Кратко: HTTP-сообщения... | envatomarket.ru | norma-studio.github.io" title="HTTP Кратко: HTTP-сообщения... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/54332343.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya.html" class="tm-user-info__username" title="
В. Бухтеев" aria-label="
В. Бухтеев">
В. Бухтеев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>HTTP Кратко: HTTP-сообщения...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya" class="tm-article-snippet__hubs-item-link"><span>Web Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=429/net/uploads/2013/07/img002.png">
    <meta itemprop="headline name" content="HTTP Кратко: HTTP-сообщения... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В этой главе мы рассмотрим сообщения, обменянные в транзакции HTTP. Мы узнаем о типах сообщений, заголовках HTTP и кодах состояния. Понимание того, что находится внутри HTTP-сообщения, жизненно важно для разработчиков, которые работают в Интернете. Вы не только создадите лучшие приложения, ответив нужными типами сообщений, но также сможете обнаружи...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В этой главе мы рассмотрим сообщения, обменянные в транзакции HTTP. Мы узнаем о типах сообщений, заголовках HTTP и кодах состояния. Понимание того, что находится внутри HTTP-сообщения, жизненно важно для разработчиков, которые работают в Интернете. Вы не только создадите лучшие приложения, ответив нужными типами сообщений, но также сможете обнаружи...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>В этой главе мы рассмотрим сообщения, обменянные в транзакции HTTP. Мы узнаем о типах сообщений, заголовках HTTP и кодах состояния. Понимание того, что находится внутри HTTP-сообщения, жизненно важно для разработчиков, которые работают в Интернете. Вы не только создадите лучшие приложения, ответив нужными типами сообщений, но также сможете обнаружить проблемы с отладкой, если веб-приложения не работают.</p> <p><!--more--></p> <hr><h2>Запросы и ответы</h2> <p>Представьте, что вы идете к незнакомцу в аэропорту и спрашиваете: «Знаете ли вы сколько время?» Для того, чтобы незнакомец ответил на правильное время, нужно сделать несколько вещей. Во-первых незнакомец должен понять ваш вопрос, потому что если он или она не знает английского, он или она не сможет ответить. Во-вторых, незнакомому человеку потребуется доступ к часам или другому устройству для просмотра времени.</p> <p>Эта аналогия аэропорта похожа на работу HTTP. Вам, клиенту, нужен ресурс от какой-то другой стороны (ресурс - это информация о времени суток). Таким образом, вы делаете запрос другой стороне, используя язык и словарный запас, который, как вы надеетесь, понимает другая сторона. Если другая сторона понимает ваш запрос и имеет доступный ресурс, он может ответить. Если он понимает запрос, но не имеет ресурса, он все равно может ответить и сказать, что он не знает. Если другая сторона не понимает, что вы говорите, вы можете не получить никакого ответа.</p> <p>HTTP - это протокол запроса и ответа. Клиент отправляет <b>HTTP-запрос</b> серверу с использованием тщательно отформатированного сообщения, которое сервер будет понимать. Сервер отвечает путем отправки <b>HTTP-ответа</b>, который клиент будет понимать. Запрос и ответ - это <b>два разных</b> <b>типа сообщений</b>, которые обмениваются в<b> одной транзакции HTTP</b>. Стандарты HTTP определяют, что входит в эти сообщения запроса и ответа, чтобы все, кто говорит «HTTP», понимали друг друга и могли обмениваться ресурсами (или когда ресурс не существует, сервер все равно может ответить и сообщить вам).</p> <hr><h2>Необработанный запрос и ответ</h2> <p>Веб-браузер знает, как отправить HTTP-запрос, открыв сетевое подключение к серверной машине и отправив HTTP-сообщение в виде текста. В запросе нет ничего волшебного - это просто команда в текстовом ASCII-тексте и отформатирована в соответствии со спецификацией HTTP. Любое приложение, которое может отправлять данные по сети, может выполнить HTTP-запрос. Вы даже можете сделать запрос вручную с помощью приложения, такого как Telnet, из командной строки. Обычный сеанс Telnet подключается через порт 23, но, как мы узнали в первой главе, стандартным сетевым портом для HTTP является порт 80.</p> <p>На следующем рисунке показан скриншот сеанса Telnet, который подключается к odetocode.com на порту 80, выполняет HTTP-запрос и получает ответ HTTP.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=429/net/uploads/2013/07/img002.png" alt="HTTP Кратко: HTTP-сообщения..." title="HTTP Кратко: HTTP-сообщения..." width="50" height="50"><figcaption>Создание HTTP-запроса</figcaption></figure><p>Сеанс Telnet начинается с ввода:</p> <pre class="brush: bash noskimlinks noskimwords">telnet www.odetocode.com 80</pre> <p>Обратите внимание, что клиент Telnet по умолчанию не установлен в Windows 7, Windows Server 2008 R2, Windows Vista или Windows Server 2008. Вы можете установить клиент, выполнив процедуру, указанную по адресу <span>http://technet.microsoft.com/en-us/library/cc771275(v=ws.10).aspx.</span></p> <p>Эта команда сообщает операционной системе запустить приложение Telnet и сообщает приложению Telnet подключиться к www.odetocode.com на порту 80.</p> <p>После подключения Telnet мы можем ввести сообщение HTTP-запроса. Первая строка создается, введя следующий текст и нажав <strong>Enter</strong>:</p> <pre class="brush: text noskimlinks noskimwords">GET / HTTP/1.1</pre> <p>Эта информация сообщит серверу, что мы хотим получить ресурс, расположенный в «/» (т. е. корневой ресурс или домашняя страница), и мы будем использовать функции HTTP 1.1. Следующая строка, которую мы вводим:</p> <pre class="brush: text noskimlinks noskimwords">host:www.odetocode.com</pre> <p>Эта информация хоста является необходимой частью информации в сообщении запроса HTTP 1.1. Техническая причина для этого - помочь серверам, поддерживающим несколько веб-сайтов, то есть как на www.odetocode.com, так и на www.odetofood.com можно разместить на одном сервере, а информация о хосте в сообщении поможет веб-серверу запрос на правильное веб-приложение.</p> <p>После ввода двух предыдущих строк мы можем дважды нажать <strong>Enter</strong>, чтобы отправить сообщение на сервер. Что вы видите далее в окне Telnet является HTTP-ответ от веб-сервера. Мы рассмотрим более подробные сведения позже, но в ответе говорится, что ресурс, который мы хотим (домашняя страница по умолчанию на www.odetocode.com), переместился. Он переместился на сайт odetocode.com. Теперь клиент должен проанализировать это ответное сообщение и отправить запрос на odetocode.com вместо www.odetocode.com, если он хочет получить домашнюю страницу. Любой веб-браузер автоматически перейдет в новое место.</p> <p>Эти типы «перенаправления» являются общими, и в этом случае причина заключается в том, чтобы убедиться, что все запросы ресурсов из OdeToCode проходят через odetocode.com, а не www.odetocode.com (это оптимизация поисковой системы, известная как канонизация URL) ,</p> <p>Теперь, когда мы увидели необработанный HTTP-запрос и ответ, давайте займемся определенными частями.</p> <hr><h2>Методы запроса HTTP</h2> <p>Слово <code>GET</code>, введенное в сеанс Telnet, является одним из основных <b>методов HTTP</b>. Каждое сообщение запроса должно включать один из HTTP-методов, и метод сообщает серверу, что запрос хочет сделать. HTTP <code>GET</code> хочет получить, выбрать и извлечь ресурс. Вы могли бы <code>GET</code> изображение (<code>GET /logo.png</code>), или <code>GET</code> файл PDF (<code>GET /documents/report.pdf</code>) или любой другой извлекаемый ресурс, который может хранить сервер. Список общих HTTP-операторов показан в следующей таблице.</p> <table><tbody><tr><td><b>Метод</b></td> <td><b>Описание</b></td> </tr><tr><td>Получить</td> <td>Извлечение ресурса</td> </tr><tr><td>ПОЛОЖИТЕ</td> <td>Хранить ресурс</td> </tr><tr><td>УДАЛИТЬ</td> <td>Удалить ресурс</td> </tr><tr><td>Поместить</td> <td>Обновить ресурс</td> </tr><tr><td>РУКОВОДИТЕЛЬ</td> <td>Получить заголовки для ресурса</td> </tr></tbody></table><p>Из этих пяти методов только два являются основными рабочими лошадками сети: <code>GET</code> и <code>POST</code>. Веб-браузер выдает запрос <code>GET</code>, когда он хочет получить ресурс, например страницу, изображение, видео или документ. Запросы <code>GET</code> являются наиболее распространенным типом запроса.</p> <p>Веб-браузер отправляет запрос <code>POST</code>, когда у него есть данные для отправки на сервер. Например, нажав «Добавить в корзину» на сайте, например amazon.com, вы получите сообщение <code>POST</code> в Amazon о том, что мы хотим приобрести. <code>POST</code> запросы обычно генерируются<code>&lt;form&gt;</code>на веб-странице как форма вы заполнить с<code>&lt;input&gt;</code>элементы адреса и данные кредитной карты.</p> <hr><h2>GET и безопасность</h2> <p>Существует часть спецификации HTTP, которая говорит о «безопасных» методах HTTP. <strong>Безопасные методы</strong>, как следует из названия, не делают ничего «небезопасного», например, уничтожают ресурс, отправляют транзакцию по кредитной карте или отменяют учетную запись. Метод <code>GET</code> является одним из безопасных методов, поскольку он должен только извлекать ресурс, а не изменять состояние ресурса. Отправка запроса <code>GET</code> для изображения JPG не изменяет изображение, оно только выбирает изображение для отображения. Короче говоря, никогда не должно быть побочного эффекта для запроса <code>GET</code>.</p> <p>HTTP <code>POST</code> не является безопасным методом. <code>POST</code> обычно что-то изменяет на сервере - он обновляет учетную запись, отправляет заказ или выполняет другую специальную операцию. Веб-браузеры обычно обрабатывают <code>GET</code> и <code>POST</code> иначе, так как <code>GET</code> безопасен, а <code>POST</code> небезопасен. Это нормально обновить веб-страницу, полученную с помощью запроса <code>GET</code> - веб-браузер просто переиздает последний запрос <code>GET</code> и отобразит все, что сервер отправит обратно. Однако, если страница, которую мы просматриваем в браузере, является ответом HTTP <code>POST</code>-запроса, браузер предупредит нас, если мы попытаемся обновить страницу. Возможно, вы видели эти типы предупреждений в веб-браузере.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://cdn.tutsplus.com/net/uploads/2013/07/img003.png" class="lazy07" alt="HTTP Кратко: HTTP-сообщения..." title="HTTP Кратко: HTTP-сообщения..." width="50" height="50"><figcaption>Обновление запроса POST</figcaption></figure><p>Из-за таких предупреждений многие веб-приложения всегда стараются оставить клиента просмотра результата запроса <code>GET</code>. После того, как пользователь нажимает кнопку на <code>POST</code>-информацию на сервер (например, отправляет заказ), сервер обрабатывает информацию и отвечает перенаправлением HTTP (например, перенаправление, которое мы видели в окне Telnet), сообщающее браузеру <code>GET</code> какой-либо другой ресурс. Браузер выдаст запрос <code>GET</code>, сервер ответит ресурсом «спасибо за заказ», а затем пользователь сможет обновить или распечатать страницу безопасно столько раз, сколько захочет. Это общий шаблон веб-дизайна, известный как шаблон <code><b>POST</b></code>/<strong>Redirect</strong>/<code><b>GET</b></code>.</p> <p>Теперь, когда мы знаем немного больше о <code>POST</code> и <code>GET</code>, давайте поговорим о некоторых распространенных сценариях и посмотрим, когда использовать разные методы.</p> <hr><h2>Общие сценарии GET</h2> <p>Предположим, у вас есть страница и вы хотите, чтобы пользователь щелкнул ссылку, чтобы просмотреть первую статью этой серии. В этом случае простая гиперссылка - это все, что вам нужно.</p> <pre class="brush: html noskimlinks noskimwords">&lt;a href="http://odetocode.com/Articles/741.aspx"&gt;Part I&lt;/a&gt;</pre> <p>Когда пользователь нажимает на гиперссылку в браузере, браузер выдает запрос <code>GET</code> на URL, указанный в атрибуте <code>href</code> теги привязки. Вот так будет выглядеть запрос:</p> <pre class="brush: text noskimlinks noskimwords">GET http://odetocode.com/Articles/741.aspx HTTP/1.1Host: odetocode.com</pre> <hr><h2>Сценарий POST</h2> <p>Теперь представьте, что у вас есть страница, где пользователь должен заполнить информацию для создания учетной записи. Для заполнения информации требуются теги<code>&lt;input&gt;</code>Эти входные данные мы вставляем в<code>&lt;form&gt;</code> и указываем браузеру, куда отправить информацию.</p> <pre class="brush: html noskimlinks noskimwords">&lt;form action="/account/create" method="POST"&gt;     &lt;label for="firstName"&gt;First name&lt;/label&gt;    &lt;input id="firstName" name="firstName" type="text" /&gt;       &lt;label for="lastName"&gt;Last name&lt;/label&gt;    &lt;input id="lastName" name="lastName" type="text" /&gt;       &lt;input type="submit" value="Sign up!"/&gt; &lt;/form&gt;</pre> <p>Когда пользователь нажимает кнопку отправки, браузер понимает, что кнопка находится внутри формы. Форма сообщает браузеру, что HTTP-метод для использования - <code>POST</code>, а путь к <code>POST</code> - <code>/account/create</code>. Фактический HTTP-запрос, который делает браузер, будет выглядеть примерно так.</p> <pre class="brush: text noskimlinks noskimwords">POST http://localhost:1060/account/create HTTP/1.1Host: server.comfirstName=Scott&amp;lastName=Allen</pre> <p>Обратите внимание, что входные данные формы включены в сообщение HTTP. Это очень похоже на то, как параметры отображаются в URL-адресе, как мы видели в предыдущей статье. Это зависит от веб-приложения, которое получает этот запрос для анализа этих значений и создания учетной записи пользователя. Затем приложение может ответить любым количеством способов, но есть три общих ответа:</p> <ol><li>Ответьте с помощью HTML, указав пользователю, что учетная запись создана. Это приведет к тому, что пользователь просмотрит результат запроса <code>POST</code>, что может привести к проблемам, если он или она обновит страницу - возможно, он попытается подписать их во второй раз!</li> <li>Ответьте с помощью команды перенаправления, как мы видели ранее, чтобы браузер выдал безопасный запрос <code>GET</code> для страницы, которая сообщает пользователю, что учетная запись была создана.</li> <li>Ответьте на ошибку с ошибкой или перейдите на страницу с ошибкой. Мы рассмотрим сценарии ошибок чуть позже в книге.</li> </ol><hr><h2>Формы и запросы GET</h2> <p>Третий сценарий является сценарий поиска. В сценарии поиска вам нужен<code>&lt;input</code>&gt;для пользователя, чтобы ввести поисковый запрос. Это может выглядеть следующим образом.</p> <pre class="brush: html noskimlinks noskimwords">&lt;form action="/search" method="GET"&gt;      &lt;label for="term"&gt;Search:&lt;/label&gt;     &lt;input id="term" name="term" type="text" /&gt;     &lt;input type="submit" value="Sign up!"/&gt; &lt;/form&gt;</pre> <p>Обратите внимание, что метод в этой форме <code>GET</code>, а не <code>POST</code>. Это потому, что поиск - это операция безопасного извлечения, в отличие от создания учетной записи или бронирования рейса в Бельгию. Браузер будет собирать входные данные в форме и выдавать запрос <code>GET</code> серверу:</p> <pre class="brush: text noskimlinks noskimwords">GET http://localhost:1060/search?term=love HTTP/1.1Host: searchengine.com</pre> <p>Обратите внимание, что вместо ввода входных значений в тело сообщения входные данные входят в часть строки запроса URL-адреса. Браузер отправляет запрос <code>GET</code> для <code>/search?Term = love</code>. Поскольку поисковый запрос находится в URL-адресе, пользователь может пометить URL-адрес или скопировать ссылку и отправить ее по электронной почте. Пользователь также может обновлять страницу столько раз, сколько захочет, потому что операция <code>GET</code> для результатов поиска - это безопасная операция, которая не будет уничтожать или изменять данные.</p> <hr><h2>Слово о методах и ресурсах</h2> <p>Мы довольно много говорили о ресурсах как о физических ресурсах в файловой системе сервера. Довольно часто такие ресурсы, как файлы PDF, видеофайлы, файлы изображений и файлы сценариев, <i>существуют </i>как физические файлы на сервере. Однако URL-адреса, указывающие внутри многих современных веб-приложений, действительно не указывают на файлы. Такие технологии, как ASP.NET и Ruby on Rails, перехватят запрос на ресурс и ответят, как они считают нужным. Они могут читать файл из базы данных и возвращать содержимое в ответе HTTP, чтобы оно выглядело так, как будто этот ресурс действительно существовал на самом сервере.</p> <p>Хорошим примером является пример <code>POST</code>, который мы использовали ранее, что привело к запросу <code>/account/create</code>. Скорее всего, нет реального файла с именем «create» в каталоге «account». Вместо этого что-то на веб-сервере подбирает этот запрос, считывает и проверяет информацию пользователя и создает запись в базе данных. Ресурс <code>/account/create</code> является виртуальным и не существует. Однако, чем больше вы можете думать о виртуальном ресурсе как о реальном ресурсе, тем лучше ваша архитектура и дизайн приложений будут соответствовать сторонам HTTP.</p> <hr><h2>Заголовки HTTP запроса</h2> <p>До сих пор мы видели необработанный HTTP-запрос и говорили о двух популярных HTTP-методах - <code>GET</code> и <code>POST</code>. Но, как показал вывод Telnet, сообщение HTTP-запроса больше, чем HTTP-метод. Полное сообщение HTTP-запроса состоит из следующих частей:</p> <pre class="brush: text noskimlinks noskimwords">[method] [URL] [version][headers] [body]</pre> <p>Сообщение всегда находится в тексте ASCII, и в строке начала всегда содержатся метод, URL-адрес и версия HTTP (чаще всего это 1.1, который существует с 1999 года). Последний раздел, раздел тела, может содержать данные, такие как параметры входа в учетную запись, которые мы видели ранее. При загрузке файла часть тела может быть довольно большой.</p> <p>Средний раздел, раздел, где мы видели <code>Host: odetocode.com</code>, содержит один или несколько <b>HTTP-заголовков</b> (помните, что в HTTP 1.1 <code>host </code>является обязательным заголовком). Заголовки содержат полезную информацию, которая может помочь серверу обработать запрос. Например, в последней статье мы говорили о представлениях ресурсов и о том, как клиент и сервер могут вести переговоры о наилучшем представлении ресурса (согласование контента). Например, если клиент хочет увидеть ресурс на французском языке, он может включать заголовок (заголовок <code>Accept-Language</code>), запрашивающий французский контент.</p> <pre class="brush: text noskimlinks noskimwords">GET http://odetocode.com/Articles/741.aspx HTTP/1.1Host: odetocode.comAccept-Language: fr-FR</pre> <p>Существует множество заголовков, определенных спецификацией HTTP. Некоторые заголовки представляют собой общие заголовки, которые могут отображаться либо в запросе, либо в ответном сообщении. Примером может служить заголовок <code>Date</code>. Клиент или сервер могут включать заголовок <code>Date</code>, указывающий, когда он создал сообщение.</p> <pre class="brush: text noskimlinks noskimwords">GET http://odetocode.com/Articles/741.aspx HTTP/1.1Host: odetocode.comAccept-Language: fr-FRDate: Fri, 9 Aug 2002 21:12:00 GMT</pre> <p>Все, кроме заголовка узла, необязательно, но когда заголовок появляется, он должен соблюдать стандарты. Например, в спецификации HTTP указано, что значение заголовка даты должно быть в формате RFC822 для дат.</p> <p>Некоторые из наиболее популярных заголовков запросов представлены в следующей таблице.</p> <table><tbody><tr><td><b>Заголовок</b></td> <td><b>Описание</b></td> </tr><tr><td>Referer</td> <td>Когда пользователь нажимает на ссылку, клиент может отправить URL-адрес ссылочной страницы в этот заголовок.</td> </tr><tr><td>Агент пользователя</td> <td>Информация о пользовательском агенте (программном обеспечении), подающем запрос. Многие приложения используют информацию в этом заголовке, если она есть, для определения того, что браузер делает запрос (Internet Explorer 6 против Internet Explorer 9 по сравнению с Chrome и т. д.).</td> </tr><tr><td>Принять</td> <td>Описывает типы носителей, которые пользовательский агент готов принять. Этот заголовок используется для согласования содержимого.</td> </tr><tr><td>Принимать язык</td> <td>Описывает языки, которые предпочитает пользовательский агент.</td> </tr><tr><td>Cookie</td> <td>Содержит информацию о файлах cookie, о которых мы расскажем в следующей главе. Информация о файлах cookie обычно помогает отслеживать сервер или идентифицировать пользователя.</td> </tr><tr><td>If-Modified-Since </td> <td>Будет содержать дату, когда агент пользователя в последний раз извлекал (и кэшировал) ресурс. Серверу только нужно отправить обратно весь ресурс, если он был изменен с того времени.</td> </tr></tbody></table><p>Полный HTTP-запрос может выглядеть следующим образом.</p> <pre class="brush: text noskimlinks noskimwords">GET http://odetocode.com/ HTTP/1.1Host: odetocode.comConnection: keep-aliveUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) Chrome/16.0.912.75 Safari/535.7Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8Referer: http://www.google.com/url?&amp;q=odetocodeAccept-Encoding: gzip,deflate,sdchAccept-Language: en-US,en;q=0.8Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3</pre> <p>Как вы можете видеть, некоторые заголовки содержат несколько значений, например заголовок <code>Accept</code>. Заголовок <code>Accept</code> содержит список типов MIME, которые он любит видеть, включая HTML, XHTML, XML и, наконец, * / * (это означает, что я лучше всего использую HTML, но вы можете отправить мне что-нибудь (* / *), и я попытаюсь выясните это).</p> <p>Также обратите внимание на появление «<code>q</code>» в некоторых заголовках. Значение <code>q </code>всегда является числом от 0 до 1 и представляет значение качества или «<b>относительную степень предпочтения</b>» для определенного значения. Значение по умолчанию - 1,0, а более высокие номера - более предпочтительны.</p> <hr><h2>Ответ</h2> <p>Ответ HTTP похож на HTTP-запрос. Секции ответа:</p> <pre class="brush: text noskimlinks noskimwords">[version] [status] [reason][headers] [body]</pre> <p>Полный HTTP-ответ на последний полный запрос, который мы указали, может выглядеть так (с большей частью HTML опущен для краткости).</p> <pre class="brush: text noskimlinks noskimwords">HTTP/1.1 200 OKCache-Control: privateContent-Type: text/html; charset=utf-8Server: Microsoft-IIS/7.0X-AspNet-Version: 2.0.50727X-Powered-By: ASP.NETDate: Sat, 14 Jan 2012 04:00:08 GMTConnection: closeContent-Length: 17151 &lt;html&gt;&lt;head&gt;    &lt;title&gt;.NET-related Articles, Code and Resources&lt;/title&gt;&lt;/head&gt;&lt;body&gt; ... content ...&lt;/body&gt;&lt;/html&gt;</pre> <p>Начальная строка запроса начинается с версии HTTP, а затем код важного состояния и причины.</p> <hr><h2>Коды состояния ответа</h2> <p>Код состояния - это число, определенное спецификацией HTTP, и все числа попадают в одну из пяти категорий.</p> <table><tbody><tr><td><b>Диапазон</b></td> <td><b>Категория</b></td> </tr><tr><td>100-199</td> <td>Информационные</td> </tr><tr><td>200-299</td> <td>Успешные</td> </tr><tr><td>300-399</td> <td>Перенаправление</td> </tr><tr><td>400-499</td> <td>Ошибка клиента</td> </tr><tr><td>500-599</td> <td>Ошибка сервера</td> </tr></tbody></table><p>Хотя мы не будем подробно описывать все возможные коды состояния HTTP, в следующей таблице будут подробно описаны наиболее распространенные коды.</p> <table><tbody><tr><td><b>Код</b></td> <td><b>Причина</b></td> <td><b>Описание</b></td> </tr><tr><td>200</td> <td>Хорошо</td> <td>Код статуса, который все хотят видеть. Код 200 в ответе означает, что все сработало!</td> </tr><tr><td>301</td> <td>Перемещен навсегда</td> <td>Ресурс переместился на URL-адрес, указанный в заголовке <code>Location</code>, и клиенту никогда не нужно снова проверять этот URL.<br><br> Мы видели пример этого ранее, когда мы использовали Telnet, и сервер перенаправил нас с сайта www.odetocode.com на odetocode.com, чтобы дать поисковым системам канонический URL-адрес.</td> </tr><tr><td>302</td> <td>Временно перемещен</td> <td>Ресурс переместился на URL, указанный в заголовке <code>Location</code>. В будущем клиент может запросить URL-адрес, поскольку это временный ход.<br><br> Этот тип кода ответа обычно используется после операции <code>POST</code> для перемещения клиента на ресурс, который он может получить с помощью <code>GET</code> (шаблон <code>POST</code>/ Redirect/<code>GET</code>, о котором мы говорили ранее).</td> </tr><tr><td>304</td> <td>Не изменено</td> <td>Это сервер, сообщающий клиенту, что ресурс не изменился с момента последнего получения клиентом ресурса, поэтому он может просто использовать локально кэшированную копию.</td> </tr><tr><td>400</td> <td>Неправильный запрос</td> <td>Сервер не может понять запрос. Вероятно, запрос использовал неправильный синтаксис.</td> </tr><tr><td>403</td> <td>Запрещено</td> <td>Сервер отказал в доступе к ресурсу.</td> </tr><tr><td>404</td> <td>Не обнаружено</td> <td>Популярный код, означающий, что ресурс не найден.</td> </tr><tr><td>500</td> <td>Внутренняя ошибка сервера</td> <td>На сервере возникла ошибка при обработке запроса. Обычно происходит из-за ошибок программирования в веб-приложении.</td> </tr><tr><td>503</td> <td>Сервис недоступен </td> <td>В настоящий момент сервер не будет обслуживать запрос. Этот код состояния может появляться, когда сервер обрабатывает запросы, поскольку он находится под большой нагрузкой.</td> </tr></tbody></table><p>Коды статуса ответа являются чрезвычайно важной частью HTTP-сообщения, потому что они сообщают клиенту, что произошло (или в случае перенаправления, куда идти дальше).</p> <hr><h2>Коды состояния HTTP в сравнении с вашим приложением</h2> <p>Помните, что код состояния HTTP - это код, указывающий, что происходит на уровне HTTP. Это не обязательно отражает то, что произошло внутри вашей заявки. Например, представьте, что пользователь отправляет на сервер форму входа в систему, но не заполняет поле «Фамилия». Если вашему приложению требуется фамилия, он не сможет создать учетную запись для пользователя. Это не означает, что вам нужно вернуть код ошибки HTTP, указывающий на сбой. Вероятно, вам нужно совсем другое - вы хотите успешно вернуть некоторый контент клиенту с кодом состояния 200 (OK). Содержимое сообщит пользователю, что фамилия не указана. С точки зрения приложения запрос был неудачным, но с точки зрения HTTP запрос был успешно обработан. Это нормально в веб-приложениях.</p> <hr><h2>Заголовки ответов</h2> <p>Ответ включает информацию заголовка, которая дает метаданные клиента, которые она может использовать для обработки ответа. Например, тип содержимого будет указываться как тип MIME, о котором мы говорили в последней статье. В следующем ответе мы видим, что тип содержимого - HTML, а набор символов, используемый для кодирования типа, - UTF-8. Заголовки могут также содержать информацию о сервере, например имя программного обеспечения и версию.</p> <pre class="brush: text noskimlinks noskimwords">HTTP/1.1 200 OKCache-Control: privateContent-Type: text/html; charset=utf-8Server: Microsoft-IIS/7.0X-AspNet-Version: 2.0.50727X-Powered-By: ASP.NETDate: Sat, 14 Jan 2012 04:00:08 GMTConnection: closeContent-Length: 17151 &lt;html&gt;&lt;head&gt;    &lt;title&gt;.NET-related Articles, Code and Resources&lt;/title&gt;&lt;/head&gt;&lt;body&gt; ... content ...&lt;/body&gt;&lt;/html&gt;</pre> <p>Заголовки ответов, которые появляются, часто зависят от типа ответа. Например, ответ перенаправления должен включать заголовок <code>Location</code>, который сообщает клиенту, куда идти дальше.</p> <p>Существует ряд заголовков, посвященных кешированию и оптимизации производительности. <code>ETag</code>, <code>Expires</code> и <code>Last-Modified</code> предоставляют информацию о кешируемости ответа. <code>ETag</code> - это идентификатор, который изменится при изменении основного ресурса, поэтому сравнение <code>ETag</code>s - эффективный способ узнать, нужно ли что-то обновлять. Заголовок <code>Expires</code> сообщает клиенту, как долго кэшировать определенный ресурс. Мы вернемся и посмотрим на кеширование более подробно позже.</p> <hr><h2>Где мы?</h2> <p>В этой главе мы узнали, что HTTP-сообщения всегда попадают парами. Сначала есть запрос, а затем есть ответ. Информация в этих сообщениях доступна в читаемом тексте, и есть множество инструментов, которые вы можете использовать для проверки HTTP-запросов, сделанных на вашем компьютере. Fiddler - один из таких инструментов, если вы используете Windows (<span>http://fiddler2.com</span>). Он прост в использовании, и вы можете видеть необработанные HTTP-запросы, включая все заголовки.</p> <p>Все сообщения касаются того, чтобы обе стороны в транзакции понимали, что они получают. Первая строка HTTP-сообщения всегда четко указывает на ее намерение. В сообщении с запросом сначала указывается URL-адрес и метод HTTP, чтобы определить, что должно произойти с конкретным ресурсом. В ответе код состояния укажет, как был обработан запрос. У нас также есть заголовки, движущиеся в обоих направлениях, которые предоставляют еще больше информации о запросе и ответе. В следующей главе мы узнаем немного больше о том, как эти сообщения перемещаются по сети.</p> 

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825596-http-kratko-http-soobscheniya" class="tm-article-body__tags-item-link">Web Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
36046</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
424</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
