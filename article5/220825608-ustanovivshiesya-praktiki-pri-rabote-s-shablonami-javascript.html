
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Установившиеся практики при работе с шаблонами JavaScript... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Установившиеся практики при работе с шаблонами JavaScript... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Установившиеся практики при работе с шаблонами JavaScript... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Установившиеся практики при работе с шаблонами JavaScript... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Возможно, шаблоны не понадобятся вам при разработке простых веб-приложений, однако эти приложения не должны быть особо сложными, чтобы использование шаблонов становилось уместным. Так же как и при работе с любым другим инструментом или технологией, имеется несколько установившихся практик, о которых вам следует помнить при использовании шаблонов. М...">
<meta property="og:description" content="Возможно, шаблоны не понадобятся вам при разработке простых веб-приложений, однако эти приложения не должны быть особо сложными, чтобы использование шаблонов становилось уместным. Так же как и при работе с любым другим инструментом или технологией, имеется несколько установившихся практик, о которых вам следует помнить при использовании шаблонов. М...">
<meta name="twitter:description" content="Возможно, шаблоны не понадобятся вам при разработке простых веб-приложений, однако эти приложения не должны быть особо сложными, чтобы использование шаблонов становилось уместным. Так же как и при работе с любым другим инструментом или технологией, имеется несколько установившихся практик, о которых вам следует помнить при использовании шаблонов. М...">
<meta property="aiturec:description" content="Возможно, шаблоны не понадобятся вам при разработке простых веб-приложений, однако эти приложения не должны быть особо сложными, чтобы использование шаблонов становилось уместным. Так же как и при работе с любым другим инструментом или технологией, имеется несколько установившихся практик, о которых вам следует помнить при использовании шаблонов. М...">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/2167_Templates/handlebars-templating.jpg">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/2167_Templates/handlebars-templating.jpg">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/2167_Templates/handlebars-templating.jpg">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/2167_Templates/handlebars-templating.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/2167_Templates/handlebars-templating.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript.html" title="Установившиеся практики при работе с шаблонами JavaScript... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Установившиеся практики при работе с шаблонами JavaScript... | envatomarket.ru | norma-studio.github.io" title="Установившиеся практики при работе с шаблонами JavaScript... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/63456435436.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript.html" class="tm-user-info__username" title="
М. Старостенко" aria-label="
М. Старостенко">
М. Старостенко</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Установившиеся практики при работе с шаблонами JavaScript...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript" class="tm-article-snippet__hubs-item-link"><span>Web Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/2167_Templates/handlebars-templating.jpg">
    <meta itemprop="headline name" content="Установившиеся практики при работе с шаблонами JavaScript... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Возможно, шаблоны не понадобятся вам при разработке простых веб-приложений, однако эти приложения не должны быть особо сложными, чтобы использование шаблонов становилось уместным. Так же как и при работе с любым другим инструментом или технологией, имеется несколько установившихся практик, о которых вам следует помнить при использовании шаблонов. М...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Возможно, шаблоны не понадобятся вам при разработке простых веб-приложений, однако эти приложения не должны быть особо сложными, чтобы использование шаблонов становилось уместным. Так же как и при работе с любым другим инструментом или технологией, имеется несколько установившихся практик, о которых вам следует помнить при использовании шаблонов. М...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Возможно, шаблоны не понадобятся вам при разработке простых веб-приложений, однако эти приложения не должны быть особо сложными, чтобы использование шаблонов становилось уместным. Так же как и при работе с любым другим инструментом или технологией, имеется несколько установившихся практик, о которых вам следует помнить при использовании шаблонов. Мы рассмотрим в этом руководстве некоторые из них.</p><p><!--more--></p> <hr><h2>  1. Используйте <span>Underscore </span>для простых приложений, а <span>Handlebars </span>– для сложных</h2> <blockquote class="pullquote"> <p>Если вам необходимо что-то особенное, то могу ли я порекомендовать вам <span>Handlebars</span>?</p> </blockquote> <p>Прежде всего, если вы только не <span>Джон Резиг</span>, то, скорее всего, подыскиваете надежную библиотеку для создания шаблонов. Хотя имеется огромное количество вариантов, есть два действительно хороших, выбор которых определяется сложностью вашего проекта. </p> <p>Если ваш проект относительно простой, то вы можете использовать <span>Underscore.js</span>. В основном эта библиотека предлагает вспомогательные методы, полезные, если вы кодируете согласно функциональному программированию, (* парадигма программирования, согласно которой все конструкции языка программирования реализуются в виде функций и выражений), однако в действительности в ней имеется метод <code>_.template</code>, который по максимуму облегчает использование шаблонов. По умолчанию в ней используются разделители в стиле ERB (* реализация eRuby (Embedded Ruby) – шаблонизатора, при помощи которого возможно использование Ruby в контексте текстового документа; это язык для написания шаблонов, в основе которого лежит Ruby) – <code>&lt;%= %&gt;</code>, однако это можно запросто изменить. Преимущество этого варианта заключается в том, что в любом проекте, где необходимо использование шаблонов, скорее всего, уже будет добавлена библиотека Underscore из-за очевидной полезности этой библиотеки во большинстве случаев. Для того чтобы ознакомиться с подробностями об Underscore, обращайтесь к написанному Siddharth <span>исчерпывающему руководству</span>, расположенному прямо здесь на Nettuts+.</p> <p>Если вам необходимо что-то особенное, то могу ли я порекомендовать вам <span>Handlebars</span>? Предоставляя возможность использования множества  блоковых выражений (* хелперов) (вроде <code>#each</code>, используемого для введения цикла, и <code>#if</code>, применяемого в качестве условного оператора), регистрации ваших собственных хелперов, Handlebars обеспечит вас всем необходимым для создания даже наиболее сложного шаблона.</p> <blockquote> <p>Если вы не знакомы с Handlebars, то ознакомьтесь с этим <span>руководством</span>, написанным Gabriel Manricks.</p> </blockquote> <p>Естественно, имеются и другие библиотеки для создания шаблонов помимо рассмотренных мною здесь; смело можете с ними ознакомиться! Я порекомендовал только эти две, поскольку они мне нравятся и я и сам их использую. Их также наиболее часто рекомендуют в сообществе программистов.</p> <div class="tutorial_image"> <span><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/2167_Templates/handlebars-templating.jpg" alt="Установившиеся практики при работе с шаблонами JavaScript..." title="Установившиеся практики при работе с шаблонами JavaScript..." width="50" height="50"></span><br> Handlebars – замечательный шаблонизатор для JavaScript. </div> <hr><h2>  2. Создавайте хелперы для шаблонов</h2> <blockquote class="pullquote"> <p>Большинство библиотек для создания шаблонов будут использовать объект с данными, передаваемый вами в соответствующую шаблону функцию, в качестве контекста.</p> </blockquote> <p>Будут моменты, когда передаваемые вами в шаблон данные не будут отформатированы, как вам необходимо. В этих случаях вам нужно будет создать свои собственные функции для форматирования данных. Если вы используете что-то вроде Handlebars, то вы запросто можете зарегистрировать хелпер; однако другие варианты подобных библиотек вроде Underscore не предоставляют подобной возможности. Вам нужно будет реализовать ее самостоятельно. </p> <p>Причиной, по которой это не так легко выполнить, как может показаться на первый взгляд, состоит в том, что большинство библиотек для создания шаблонов будут использовать объект с данными, передаваемый вами в функцию, соответствующую шаблону, в качестве контекста (значение <code>this</code>). Поэтому ваш хелпер должен быть частью этого объекта. Есть несколько способов реализовать это. Простейший способ выполняется за счет добавления функции к объекту с данными перед передачей его соответствующей шаблону функции. Ниже приводится пример:</p> <pre class="brush: js noskimlinks noskimwords">// assume data object and template functiondata.formatPrice = function (priceInCents) {    return "$" + (priceInCents / 100).toFixed(2);}var html = template(data);</pre> <p>Этот вариант подходит для единичного случая, однако вероятно, что у вас будет множество наборов шаблонов, для каждого из которых необходим свой собственный набор хелперов. В этих случаях мне нравится оборачивать функцию, соответствующую шаблону, в другую функцию, при помощи которой хелперы будут добавлены к объекту <code>data</code>:</p> <pre class="brush: js noskimlinks noskimwords">var productTemplate = function (data) {    var template = _.template("the template string");    data.helperFunction1 = function () { return "whatever" };    return template(data);};</pre> <p>Имеется несколько способов усовершенствования этого подхода (вы могли бы начать с получения «сырой» функции, созданной в результате компиляции шаблона, за пределами рассматриваемой выше, возможно, при помощи замыкания (* комбинация функции и лексического окружения, в котором она была объявлена; функция + внешние переменные)), однако я дал общую идею.  Теперь вы можете просто передать ваши данные в ту функцию <code>productTemplate </code>и пользоваться вашими хелперами.</p> <hr><h2>  3. Храните шаблоны в их собственном файле</h2> <blockquote class="pullquote"> <p>Имеется несколько альтернативных вариантов, которые могли бы быть более удачными, особенно в более сложных сценариях.</p> </blockquote> <p>Все шаблоны JavaScript, понятное дело, поначалу являются текстом. Наиболее популярным (и естественным) местом для их хранения является ваш HTML-документ – обычно в теге <code>script </code>с альтернативным значением свойства <code>type </code>(* например text/x-handlebars-template в случает использования Handlebars), благодаря чему браузер не пытается выполнить их. Довольно просто воспользоваться атрибутом <code>innerHTML</code> тега <code>script </code>для получения шаблона и передать его значение (* содержимое) в функцию для компиляции шаблона в соответствующую функцию, когда вы готовы.</p> <p>Однако, это не единственный способ для хранения шаблонов; на практике это может быть не самый оптимальный вариант. Имеется несколько альтернативных вариантов, которые могли бы быть более удачными, особенно в более сложных сценариях.</p> <p>Один из них – хранение всех шаблонов в файле JavaScript. Естественно, это означает, что ваши шаблоны будут храниться в качестве строк, а не в виде более удобочитаемого HTML-кода, но погодите! Во-первых, вы не обязаны использовать для шаблонов длиннее одной строки (что справедливо для большинства шаблонов) единственную громоздкую оборачивающую строку. Вместо этого попробуйте сделать примерно так:</p> <pre class="brush: js noskimlinks noskimwords">Templates = {};Templates.contactEntry = [    "&lt;h1&gt; {{fullName}} &lt;/h1&gt;",    "&lt;ul&gt;",        "&lt;li&gt; Email: {{email}} &lt;/li&gt;",        "&lt;li&gt; Phone: {{tel}} &lt;/li&gt;",    "&lt;/ul&gt;"].join("\n");</pre> <p>За счет хранения шаблона в массиве вроде этого с ним намного легче работать. Благодаря использованию этого синтаксиса вы можете с легкостью хранить все ваши шаблоны в их собственном файле JavaScript и гарантировать, что он будет загружен в DOM (* Document Object Model – объектная модель документа) до того, как шаблоны будут необходимы. И, конечно же, нет необходимости в хранении всех шаблонов в единственном объекте <code>Template</code>, однако за счет этого ваш код станет более упорядоченным. Тот объект <code>Templates</code> мог бы быть даже свойством вашего глобального объекта (например так – <code>MyApp.Templates</code>).</p> <p>Но погодите, лучшее впереди (как говорится). Вы можете скомпилировать все ваши шаблоны в их соответствующие функции в одном цикле:</p> <pre class="brush: js noskimlinks noskimwords">for (var tmpl in Templates) {    if (Templates.hasOwnProperty(tmpl) {        Templates[t] = _.template(Templates[t]); // Underscore example    }}</pre> <p>Если вы используете AMD (Asynchronous Module Definition (* асинхронное определение модулей)) в вашем приложении, то этот подход по-прежнему сработает; просто поместите рассмотренный выше код в модуль с шаблонами, который возвращает тот объект <code>Templates</code>. Однако для многих платформ с поддержкой AMD имеется плагин для работы с текстом, который позволяет вам загружать файлы с чистым текстом; вместо того обычного объекта модуля вы получите строку. Если вы используете библиотеку RequireJS, то вам необходимо будет разместить плагин <code>text.js</code> в той же папке, где находится файл <code>require.js</code>. Далее вы можете сделать нечто подобное:</p> <pre class="brush: text noskimlinks noskimwords">require(["text!templates/document.html"], function (documentTemplate) {});</pre> <p>Тот параметр <code>documentTemplate</code> будет строкой, содержащей контент, каким бы он ни был, того файла <code>templates/document.html</code>. При этом подходе вы не сможете разместить множество шаблонов в одном файле, за исключением того случая, когда решите поработать с той строкой. </p> <hr><h2>  4. Выполняйте предварительную компиляцию ваших шаблонов</h2> <blockquote class="pullquote"> <p>Если вы пользуетесь при создании приложений Rails Asset Pipeline, то можете воспользоваться <span>Sprockets </span>для предварительной компиляции ваших функций, полученных в результате компиляции шаблонов.</p> </blockquote> <p>Если вы задумаетесь на секундочку, то поймете, что браузер выполняет некоторую дополнительную работу каждый раз, когда вы создаете шаблон. Обычно этот шаблон изначально представляет из себя строку, которую вы передаете в функцию для компиляции шаблонов в соответствующую функцию. Та функция возвращает другую функцию, в которую вы можете передавать данные и получить HTML-код. Вышеупомянутая дополнительная работа выполняется при получении соответствующей шаблону функции; ничто не мешает выполнить этот этап до того, как код JavaScript отправляется браузеру. Предпочтительно, чтобы эта работа выполнялась при сборке проекта наряду с минификацией кода CSS и конкатенацией вашего кода Javascript. </p> <p>К сожалению, выполнить предварительную компиляцию не так просто, как минификацию или конкатенацию... по крайней мере пока что, вероятно, по причине наличия множества способов создания шаблонов. Если вы пользуетесь Grunt или Yeoman, то можете подыскать плагин (<span>вроде этого</span>) на <span>веб-сайте Grunt</span>. Если вы пользуетесь при создании приложений Rails Asset Pipeline (* инструмент, предоставляющий для фреймворка возможность конкатенации и минификации или сжатия ресурсов JavaScript и CSS), то можете воспользоваться <span>Sprockets </span>для предварительной компиляции ваших функций, полученных в результате компиляции шаблонов.</p> <blockquote> <p>И еще, если вы смелы (и являетесь подписчиком Tuts+ уровня Premium), то можете ознакомиться с уроком, <span>где я выполняю предварительную компиляцию шаблонов с нуля</span> в моем курсе "<span>Advanced Backbone Patterns and Techniques</span>".</p> </blockquote> <hr><h2>  5. Не выполняйте вычисления в шаблонах</h2> <blockquote class="pullquote"> <p>Не выполняйте вычисления в шаблонах.</p> </blockquote> <p>Не так давно при изучении <span>материала для моего следующего проекта</span> мне встретилась одна интересная идея, касающаяся шаблонов JavaScript, в замечательной книге "<span>Recipes with Backbone</span>". После выхода книги она стала установившейся практикой в сообществе разработчиков. Согласно ей не следует выполнять вычислений в шаблонах. Конечно же, интерполяция (* отыскание промежуточных значений какой-либо величины по некоторым известным её значениям) переменных, строго говоря, является вычислением, однако под вычислениями здесь я больше имею ввиду код логики (* последовательность операций, выполняемых программно или аппаратно. Соответственно говорят о программной логике (program logic , software logic) и об аппаратной логике (hardware logic)) приложения. Вы можете поместить любой код JavaScript, который захотите, внутри разделителей, однако при этом запросто может усложниться работа с кодом. Все мы в курсе, что размещение кода HTML, CSS и JavaScript в отдельных файлах считается устоявшейся практикой; благодаря этому облегчается отслеживание работы кода и обнаружение ошибок при необходимости. То же справедливо и для шаблонов: они должны быть местом только для интерполяции переменных. Любая логика или преобразование данных должны выполняться за пределами шаблона.</p> <p>Естественно, что то, насколько вы будете следовать этому правилу, зависит от вас. Вы можете решить, что выполнение цикла в вашем шаблоне вполне уместно; у вас может быть шаблон вроде следующего:</p> <pre class="brush: html noskimlinks noskimwords">&lt;h1&gt; My List &lt;/h1&gt;&lt;ul id="myList"&gt;    &lt;% list.forEach(function (item) { %&gt;        &lt;li&gt; &lt;%= item.name %&gt; &lt;/li&gt;    &lt;% }); %&gt;&lt;/ul&gt;</pre> <p>Или же вместо этого вы можете решить выполнять цикл за пределами шаблона за счет создания шаблона-обертки и последующего перебора элементов, компиляции подшаблонов и добавления их в шаблон-обертку. У вас могут получиться два шаблона вроде следующих:</p> <p>Шаблон-обертка:</p> <pre class="brush: html noskimlinks noskimwords">&lt;h1&gt; My List &lt;/h1&gt;&lt;ul id="myList"&gt;&lt;/ul&gt;</pre> <p>Подшаблон:</p> <pre class="brush: html noskimlinks noskimwords">&lt;li&gt; &lt;%= name %&gt; &lt;/li&gt;</pre> <p>Разумеется, что в случае использования этого способа необходимо будет написать немного больше кода, однако в конечном счете вы поймете, что оно того стоит. </p> <p>Продолжая тему, скажу, что к установившейся практике относится и учет возможностей используемой вами библиотеки или фреймворка. Например, я понял, что при использовании с Backbone шаблонов, созданных при помощи Underscore, легче пользоваться вторым способом: среди предлагаемых Underscore минимальных возможностей для создания шаблонов нет синтаксиса для создания циклов, и метод <code>render </code>Backbone хорошо походит для введения того цикла и вставки подшаблонов. Однако при работе с Meteor, в котором используется шаблонизатор Handlebars, намного проще будет вводить циклы внутри шаблонов при помощи блокового хелпера <code>#each</code> (также можно пользоваться и подшаблонами, если хотите). </p> <hr><h2>  6. Привязывайте данные к шаблонам</h2> <blockquote class="pullquote"> <p>За подробностями о Backbone.stickit обращайтесь к <span>Tuts+ Premium</span>.</p> </blockquote> <p>Это не всегда будет возможно, однако в некоторых случаях может очень пригодиться добавление для шаблонов возможности автоматического обновления при изменении содержащихся в них данных. Мне очень нравится эта идея, поскольку благодаря ей даже UI (* пользовательский интерфейс) может стать таким, который управляется только данными (* стиль взаимодействия с компьютером, при котором пользователь преимущественно напрямую манипулирует файлами данных, вместо того чтобы явно запустить приложение, а затем начать с его помощью обрабатывать файл данных. В простейшем варианте для этого могут служить ассоциированные приложения (file association), обеспечивающие открывание каждого файла соответствующим приложением, а в более продвинутых объектно-ориентированных системах для разных видов контента предусматривается редактирование по месту (in-place editing) в одном и том же окне при помощи различных приложений, автоматически запускаемых (вызываемых) при необходимости): при обновлении значения атрибута модели обновляется и  UI. Такое поведение является базовым принципом, согласно которому работают такие инструменты как Knockout.</p> <p>Хотя вы бы и могли, вероятно, реализовать этот функционал самостоятельно без особых хлопот, знайте, что он встроен во все популярные фреймворки. Например, в Backbone функция шаблона <code>initialize </code>может содержать некоторые определенные пользователем обработчики событий, например так:</p> <pre class="brush: js noskimlinks noskimwords">this.model.on("change", this.render, this);</pre> <p>Благодаря этому каждый раз при изменении значения атрибута модели будет вызвана функция шаблона <code>render </code>и шаблон будет перекомпилирован. Также вы можете использовать плагин вроде <span>backbone.stickit</span>, который выполнит привязывание данных за вас. Если вы работаете с Meteor и используете один из его реактивных источников данных (* при помощи которых вызываются изменения), то вам будет автоматически предоставлена возможность привязывания данных – без необходимости выполнения действий с вашей стороны. Я недостаточно ознакомлен с любыми другими фреймворками, чтобы точно объяснить, как эта возможность реализуется в них, однако любой заслуживающий внимания фреймворк должен предоставлять нечто подобное.</p> <hr><h2>  7. Упрощайте ваши шаблоны</h2> <blockquote class="pullquote"> <p>Очень быстро ваши шаблоны могут выйти из-под контроля и стать громоздкими</p> </blockquote> <p>Если вы невнимательны, то очень быстро ваши шаблоны могут выйти из под контроля и стать громоздкими. Поэтому всегда стоит разумно ограничивать размер ваших шаблонов. При слишком большом размере их будет сложнее обновлять и будет затруднено удачное разделение кода. С другой стороны, при слишком малом размере они не будут  того стоить и впоследствии снизят производительность вашего приложения. </p> <p>Поэтому так важно найти золотую середину. Обращайтесь с вашими шаблонами так же, как вы пишете ваш код JavaScript или CSS: оформляйте их в виде модулей. Да, каждый «кусочек» UI или виджет должен иметь свой собственный шаблон, однако не забывайте и о подшаблонах. Они полезны, когда меньшие части виджета содержат сложные макеты или состояния, а также когда в них содержатся обработчики для множества событий, но помните, что их использование – палка о двух концах. Не используйте их, пока у вас нет на то уважительной причины.</p> <hr><h2>  8. Не используйте их, если в этом нет необходимости</h2> <p>Наконец, помните, что шаблоны JavaScript – всего лишь еще один инструмент в вашем наборе разработчика; и иногда он просто не подходит для выполнения стоящей перед вами задачи. Не используйте шаблоны, если в этом нет необходимости. Полагайтесь на себя: возможно, имеются и другие ситуации, когда использование шаблона неуместно. </p> <hr><h2>Заключение</h2> <p>Что ж, выше были перечислены мои главные советы по использованию шаблонов JavaScript, однако, вероятно, вы можете что-то добавить! Если да, то, пожалуйста, поделитесь своими рекомендациями в разделе для добавления комментариев ниже, чтобы мы могли продолжить обсуждение.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825608-ustanovivshiesya-praktiki-pri-rabote-s-shablonami-javascript" class="tm-article-body__tags-item-link">Web Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
32670</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
473</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
