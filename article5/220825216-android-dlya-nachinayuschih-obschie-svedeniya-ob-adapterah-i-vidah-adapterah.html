
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Android для начинающих: Общие сведения об адаптерах и видах-адаптерах... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Виды адаптеров настолько повсеместны, что вам нелегко найти популярное приложение для Android, которое их не использует. Название может показаться незнакомым, но если вы думаете, что никогда не видели адаптер, вы, вероятно, ошибаетесь. Каждый раз, когда вы видите элементы интерфейса Android, отображающие элементы пользовательского интерфейса в виде...">
<meta property="og:description" content="Виды адаптеров настолько повсеместны, что вам нелегко найти популярное приложение для Android, которое их не использует. Название может показаться незнакомым, но если вы думаете, что никогда не видели адаптер, вы, вероятно, ошибаетесь. Каждый раз, когда вы видите элементы интерфейса Android, отображающие элементы пользовательского интерфейса в виде...">
<meta name="twitter:description" content="Виды адаптеров настолько повсеместны, что вам нелегко найти популярное приложение для Android, которое их не использует. Название может показаться незнакомым, но если вы думаете, что никогда не видели адаптер, вы, вероятно, ошибаетесь. Каждый раз, когда вы видите элементы интерфейса Android, отображающие элементы пользовательского интерфейса в виде...">
<meta property="aiturec:description" content="Виды адаптеров настолько повсеместны, что вам нелегко найти популярное приложение для Android, которое их не использует. Название может показаться незнакомым, но если вы думаете, что никогда не видели адаптер, вы, вероятно, ошибаетесь. Каждый раз, когда вы видите элементы интерфейса Android, отображающие элементы пользовательского интерфейса в виде...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/564/preview_image/getting-started-android-1.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/564/preview_image/getting-started-android-1.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/564/preview_image/getting-started-android-1.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/564/preview_image/getting-started-android-1.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/564/preview_image/getting-started-android-1.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah.html" title="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах... | envatomarket.ru | norma-studio.github.io" title="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/653463654.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah.html" class="tm-user-info__username" title="
С. Салин" aria-label="
С. Салин">
С. Салин</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Android для начинающих: Общие сведения об адаптерах и видах-адаптерах...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Android SDK" href="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah" class="tm-article-snippet__hubs-item-link"><span>Android SDK</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/564/preview_image/getting-started-android-1.png">
    <meta itemprop="headline name" content="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Виды адаптеров настолько повсеместны, что вам нелегко найти популярное приложение для Android, которое их не использует. Название может показаться незнакомым, но если вы думаете, что никогда не видели адаптер, вы, вероятно, ошибаетесь. Каждый раз, когда вы видите элементы интерфейса Android, отображающие элементы пользовательского интерфейса в виде...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Виды адаптеров настолько повсеместны, что вам нелегко найти популярное приложение для Android, которое их не использует. Название может показаться незнакомым, но если вы думаете, что никогда не видели адаптер, вы, вероятно, ошибаетесь. Каждый раз, когда вы видите элементы интерфейса Android, отображающие элементы пользовательского интерфейса в виде...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Виды адаптеров настолько повсеместны, что вам нелегко найти популярное приложение для Android, которое их не использует. Название может показаться незнакомым, но если вы думаете, что никогда не видели адаптер, вы, вероятно, ошибаетесь. Каждый раз, когда вы видите элементы интерфейса Android, отображающие элементы пользовательского интерфейса в виде списка, сетки или стека, вы видите представление адаптера в действии.</p><p><strong>Представление адаптера</strong>, как следует из его названия, является объектом <code class="inline">View</code>. Это означает, что вы можете добавить его в свои действия так же, как вы добавляете любой другой виджет пользовательского интерфейса. Однако он не может отображать данные самостоятельно. Его содержимое всегда определяется другим объектом, <strong>адаптером</strong>. В этом уроке я покажу вам, как создавать адаптеры и использовать их для подачи различных видов адаптеров, таких как <code class="inline">ListView</code> и <code class="inline">GridView</code>.</p><p>Вам легче учиться с видео? Почему бы не проверить наш курс:<br></p><ul class="roundup-block__contents"><li class="roundup-block__content"><span><img class="lazy07" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=400/uploads/users/71/courses/564/preview_image/getting-started-android-1.png" alt="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." title="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." width="50" height="50"><div class="roundup-block__primary-category topic-code">Android</div> <div class="roundup-block__content-title">Начало работы с Android</div> <div class="roundup-block__author">Пол Требилкокс-Руис</div></span></li></ul><h2> <span class="sectionnum">1.</span> Что такое адаптер?</h2><p>Адаптер - это объект класса, который реализует интерфейс <code class="inline">Adapter</code>. Он действует как связь между набором данных и видом адаптера, объектом класса, который расширяет абстрактный класс <code class="inline">AdapterView</code>. Набор данных может быть любым, что представляет данные структурированным образом. Массивы, объекты <code class="inline">List</code> и объекты <code class="inline">Cursor</code> являются обычно используемыми наборами данных.</p><p>Адаптер отвечает за извлечение данных из набора данных и за создание объектов <code class="inline">View</code> на основе этих данных. Сгенерированные объекты <code class="inline">View</code> затем используются для заполнения любого вида адаптера, привязанного к адаптеру.</p><p>Вы можете создавать собственные классы адаптеров с нуля, но большинство разработчиков предпочитают использовать или расширять классы адаптеров, предоставляемые Android SDK, такие как <code class="inline">ArrayAdapter</code> и <code class="inline">SimpleCursorAdapter</code>. В этом уроке мы сосредоточимся на классе <code class="inline">ArrayAdapter</code>.</p><h2> <span class="sectionnum">2. </span>Как работают представления адаптера?</h2><p>Представления адаптеров могут очень эффективно отображать большие наборы данных. Например, виджеты <code class="inline">ListView</code> и <code class="inline">GridView</code> могут отображать миллионы элементов без какого-либо заметного запаздывания, при этом память и загрузка процессора очень низки. Как они это делают? Различные виды адаптеров следуют различным стратегиям. Однако, вот что большинство из них обычно делает.<br></p><ul><li>Они отображают только те объекты <code class="inline">View</code>, которые либо уже присутствуют на экране, либо собираются перемещаться по экрану. Таким образом, память, потребляемая представлением адаптера, может быть постоянной и независимой от размера набора данных.<br></li> <li>Они также позволяют разработчикам свести к минимуму дорогостоящие операции раздувания макетов и перерабатывать существующие объекты <code class="inline">View</code>, которые перемещаются за пределы экрана. Это снижает потребление процессора.</li> </ul><h2> <span class="sectionnum">3. </span>Создание <code class="inline">ArrayAdapter</code> </h2><p>Чтобы создать адаптер, вам необходимо следующее:<br></p><ul><li>набор данных<br></li> <li>файл ресурсов, содержащий макет сгенерированных объектов <code class="inline">View</code><br></li> </ul><p>Кроме того, поскольку класс <code class="inline">ArrayAdapter</code> может работать только со строками, вам нужно убедиться, что макет сгенерированных объектов <code class="inline">View</code> содержит хотя бы один виджет <code class="inline">TextView</code>.<br></p><h3>Шаг 1. Создание набора данных<br></h3><p>Класс <code class="inline">ArrayAdapter</code> может использовать как массивы, так и объекты <code class="inline">List</code> в качестве наборов данных. Пока давайте будем использовать массив в качестве набора данных.</p><pre class="brush: java noskimlinks noskimwords">String[] cheeses = {            "Parmesan",            "Ricotta",            "Fontina",            "Mozzarella",            "Cheddar"          };</pre><h3>Шаг 2. Создание файла ресурсов<br></h3><p>Создайте новый XML-файл макета, корневым элементом которого является <code class="inline">LinearLayout</code> и назовите его <strong>item.xml</strong>. Перетащите в него <strong>Large text</strong> виджет и установите значение его атрибута <code class="inline">id</code> в <strong>cheese_name</strong>. XML-файл макета должен выглядеть так:<br></p><pre class="brush: xml noskimlinks noskimwords">&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="https://schemas.android.com/apk/res/android"    android:orientation="vertical" android:layout_width="match_parent"    android:layout_height="match_parent"    android:padding="@dimen/activity_horizontal_margin"&gt;    &lt;TextView        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:textAppearance="?android:attr/textAppearanceLarge"        android:text="Large Text"        android:id="@+id/cheese_name" /&gt;&lt;/LinearLayout&gt;</pre><h3>Шаг 3: Создайте адаптер<br></h3><p>В своей деятельности создайте новый экземпляр класса <code class="inline">ArrayAdapter</code>, используя его конструктор. В качестве аргументов передайте имя файла ресурсов, идентификатор <code class="inline">TextView</code> и ссылку на массив. Теперь адаптер готов.<br></p><pre class="brush: java noskimlinks noskimwords">ArrayAdapter&lt;String&gt; cheeseAdapter =     new ArrayAdapter&lt;String&gt;(this,        R.layout.item,        R.id.cheese_name,        cheeses    );</pre><h2> 4. Создание списка</h2><p>Чтобы отобразить вертикально прокручиваемый список элементов, вы можете использовать виджет <code class="inline">ListView</code>. Чтобы добавить виджет в свою деятельность, вы можете перетащить его в файл XML макета или создать его с помощью своего конструктора в вашем Java-коде. А пока давайте сделаем последнее.</p><pre class="brush: java noskimlinks noskimwords">ListView cheeseList = new ListView(this);</pre><p>Как правило, никакие другие виджеты пользовательского интерфейса не помещаются внутри макета, содержащего <code class="inline">ListView</code>. Поэтому передайте <code class="inline">ListView</code> методу <code class="inline">setContentView()</code> вашей деятельности, чтобы он занимал весь экран.</p><pre class="brush: java noskimlinks noskimwords">setContentView(cheeseList);</pre><p>Чтобы связать <code class="inline">ListView</code> с адаптером, созданным нами на предыдущем шаге, вызовите метод <code class="inline">setAdapter()</code>, как показано ниже.</p><pre class="brush: java noskimlinks noskimwords">cheeseList.setAdapter(cheeseAdapter);</pre><p>Если вы сейчас запустите свое приложение, вы сможете увидеть содержимое массива в виде списка.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=640/uploads/users/362/posts/26646/image/device-2016-06-04-205132TT.png" alt="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." title="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." width="50" height="50"></figure><h2> <span class="sectionnum">5. </span>Создание сетки</h2><p>Чтобы отобразить вертикально прокручиваемую двумерную сетку элементов, вы можете использовать виджет <code class="inline">GridView</code>. И <code class="inline">ListView</code>, и <code class="inline">GridView</code> являются подклассами абстрактного класса <code class="inline">AbsListView</code>, и они имеют много общего. Поэтому, если вы знаете, как использовать его, вы также знаете, как использовать другие.<br></p><p>Используйте конструктор класса <code class="inline">GridView</code> для создания нового экземпляра и передайте его методу <code class="inline">setContentView()</code> вашей активности.</p><pre class="brush: java noskimlinks noskimwords">GridView cheeseGrid = new GridView(this);setContentView(cheeseGrid);</pre><p>Чтобы установить количество столбцов в сетке, вызовите его метод <code class="inline">setNumColumns()</code>. Я собираюсь сделать это двухколоночной сеткой.<br></p><pre class="brush: java noskimlinks noskimwords">cheeseGrid.setNumColumns(2);</pre><p>Обычно вы хотите настроить ширину столбцов и расстояние между ними, используя методы <code class="inline">setColumnWidth()</code>, <code class="inline">setVerticalSpacing()</code> и <code class="inline">setHorizontalSpacing()</code>. Обратите внимание, что эти методы используют пиксели в качестве единиц.</p><pre class="brush: java noskimlinks noskimwords">cheeseGrid.setColumnWidth(60);cheeseGrid.setVerticalSpacing(20);cheeseGrid.setHorizontalSpacing(20);</pre><p>Теперь вы можете привязать <code class="inline">GridView</code> к адаптеру, который мы создали ранее, с помощью метода <code class="inline">setAdapter()</code>.</p><pre class="brush: java noskimlinks noskimwords">cheeseGrid.setAdapter(cheeseAdapter);</pre><p>Запустите приложение еще раз, чтобы посмотреть, как выглядит <code class="inline">GridView</code>.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=640/uploads/users/362/posts/26646/image/device-2016-06-04-205215.png" alt="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." title="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." width="50" height="50"></figure><h2> <span class="sectionnum">6.</span> Добавление слушателей событий</h2><p>Возможно прослушивание событий щелчка и длинных кликов на элементах внутри вида адаптера. В качестве примера добавим прослушиватель событий щелчка в <code class="inline">GridView</code>.<br></p><p>Создайте новый экземпляр анонимного класса, который реализует интерфейс <code class="inline">AdapterView.OnItemClickListener</code> и передает его методу <code class="inline">setOnItemClickListener()</code> объекта <code class="inline">GridView</code>. Android Studio автоматически создает заглушку для метода <code class="inline">onItemClick()</code> интерфейса. Вы заметите, что параметры метода включают целое число, определяющее позицию элемента списка. Вы можете использовать это целое число, чтобы узнать, какой элемент в наборе данных пользователь нажал.<br></p><p>Следующий код иллюстрирует, как отображать простое сообщение в качестве закутки каждый раз, когда элемент в <code class="inline">GridView</code> будет нажат.</p><pre class="brush: java noskimlinks noskimwords">cheeseGrid.setOnItemClickListener(new AdapterView.OnItemClickListener() {    @Override    public void onItemClick(AdapterView&lt;?&gt; adapterView,                            View view, int position, long rowId) {        // Generate a message based on the position        String message = "You clicked on " + cheeses[position];        // Use the message to create a Snackbar        Snackbar.make(adapterView, message, Snackbar.LENGTH_LONG)                .show(); // Show the Snackbar    }});</pre><p>Если вы запустите приложение и щелкните любой элемент в сетке, в нижней части экрана появится сообщение. Обратите внимание, что вы можете использовать один и тот же код для прослушивания событий щелчка по элементам внутри <code class="inline">ListView</code>.<br></p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=640/uploads/users/362/posts/26646/image/device-2016-06-04-205231.png" alt="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." title="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." width="50" height="50"></figure><h2> <span class="sectionnum">7.</span> Расширение <code class="inline">ArrayAdapter</code> </h2><p><code class="inline">ArrayAdapter</code> может обрабатывать только один виджет <code class="inline">TextView</code> внутри макета создаваемых им объектов <code class="inline">View</code>. Чтобы расширить свои возможности, вы должны расширить его. Однако прежде чем мы это сделаем, давайте создадим несколько более сложный набор данных.<br></p><p>Вместо строк, скажем, наш набор данных содержит объекты следующего класса:</p><pre class="brush: java noskimlinks noskimwords">static class Cheese {    String name;    String description;    public Cheese(String name, String description) {        this.name = name;        this.description = description;    }}</pre><p>Это набор данных, который мы будем использовать:</p><pre class="brush: java noskimlinks noskimwords">Cheese[] cheeses = {        new Cheese("Parmesan", "Hard, granular cheese"),        new Cheese("Ricotta", "Italian whey cheese"),        new Cheese("Fontina", "Italian cow"s milk cheese"),        new Cheese("Mozzarella", "Southern Italian buffalo milk cheese"),        new Cheese("Cheddar", "Firm, cow"s milk cheese"),};</pre><p>Как вы можете видеть, класс <code class="inline">Cheese</code> содержит два поля, <code class="inline">name</code> и <code class="inline">description</code>. Чтобы отображать оба поля в списках или сетках, макет элементов должен содержать два виджета <code class="inline">TextView</code>.</p><p>Создайте новый XML-файл макета и назовите его <strong>custom_item.xm</strong>l. Добавьте в него виджеты <strong>Large text</strong> и <strong>Small text</strong>. Установите атрибут <code class="inline">id</code> первого виджета на имя <strong>cheese_name</strong>, а второй - на <strong>cheese_description</strong>. Содержимое XML-файла макета должно выглядеть следующим образом:<br></p><pre class="brush: xml noskimlinks noskimwords">&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:orientation="vertical" android:layout_width="match_parent"    android:layout_height="match_parent"    android:padding="@dimen/activity_horizontal_margin"&gt;    &lt;TextView        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:textAppearance="?android:attr/textAppearanceLarge"        android:text="Large Text"        android:id="@+id/cheese_name" /&gt;    &lt;TextView        android:layout_width="wrap_content"        android:layout_height="wrap_content"        android:textAppearance="?android:attr/textAppearanceSmall"        android:text="Small Text"        android:id="@+id/cheese_description" /&gt;&lt;/LinearLayout&gt;</pre><p><code class="inline">ArrayAdapter</code> также должен иметь возможность обрабатывать два виджета <code class="inline">TextView</code>. Измените свою деятельность, создайте новый анонимный класс, который расширяет класс <code class="inline">ArrayAdapter</code> и переопределяет его метод <code class="inline">getView()</code>. Убедитесь, что вы передаете массив как аргумент его конструктору.</p><pre class="brush: java noskimlinks noskimwords">ArrayAdapter&lt;Cheese&gt; cheeseAdapter =         new ArrayAdapter&lt;Cheese&gt;(this, 0, cheeses) {            @Override            public View getView(int position,                                View convertView,                                ViewGroup parent) {            }        };</pre><p>Внутри метода <code class="inline">getView()</code> вы должны использовать параметр <code class="inline">position</code> в качестве индекса массива и выбрать элемент в этом индексе.</p><pre class="brush: java noskimlinks noskimwords">Cheese currentCheese = cheeses[position];</pre><p>Второй параметр метода <code class="inline">getView()</code> - это то, что позволяет нам повторно использовать объекты <code class="inline">View</code>. Если вы проигнорируете это, производительность вашего адаптера будет плохой. Когда метод <code class="inline">getView()</code> вызывается в первый раз, <code class="inline">convertView</code> имеет значение <code class="inline">null</code>. Вы должны инициализировать его, изменяя файл ресурсов, который определяет макет элементов списка. Для этого обратитесь к макету <code class="inline">LayoutInflater</code> с помощью метода <code class="inline">getLayoutInflater()</code> и вызовите его метод <code class="inline">inflate()</code>.</p><pre class="brush: java noskimlinks noskimwords">// Inflate only onceif(convertView == null) {    convertView = getLayoutInflater()                    .inflate(R.layout.custom_item, null, false);}</pre><p>На этом этапе вы можете использовать <code class="inline">findViewById()</code>, чтобы получить ссылку на виджеты <code class="inline">TextView</code> внутри макета и вызвать их методы <code class="inline">setText()</code> для их инициализации с использованием данных из массива.</p><pre class="brush: java noskimlinks noskimwords">TextView cheeseName =     (TextView)convertView.findViewById(R.id.cheese_name);TextView cheeseDescription =     (TextView)convertView.findViewById(R.id.cheese_description);cheeseName.setText(currentCheese.name);cheeseDescription.setText(currentCheese.description);</pre><p>Наконец, верните <code class="inline">convertView</code>, чтобы он мог использоваться для заполнения любого вида адаптера, связанного с адаптером.</p><pre class="brush: java noskimlinks noskimwords">return convertView;</pre><h2> <span class="sectionnum">8. </span>Использование держателя вида</h2><p>Метод <code class="inline">getView()</code> многократно вызывается видом адаптера для заполнения. Поэтому вы должны попытаться свести к минимуму количество операций, которые вы в нем выполняете.<br></p><p>На предыдущем шаге вы могли заметить, что, хотя мы убедились, что макет элементов списка заполняется только один раз, метод <code class="inline">findViewById()</code>, который потребляет много циклов процессора, вызывается каждый раз, когда метод вызывается <code class="inline">getView()</code>.</p><p>Чтобы избежать этого и улучшить производительность представления адаптера, нам нужно сохранить результаты метода <code class="inline">findViewById()</code> внутри объекта <code class="inline">convertView</code>. Для этого мы можем использовать объект <strong>view holder</strong>, который представляет собой не что иное, как объект класса, который может хранить виджеты, присутствующие в макете.<br></p><p>Поскольку в макете есть два виджета <code class="inline">TextView</code>, класс владельца представления должен также иметь два виджета <code class="inline">TextView</code>. Я назвал класс <strong>ViewHolder</strong>.</p><pre class="brush: java noskimlinks noskimwords">static class ViewHolder{    TextView cheeseName;    TextView cheeseDescription;}</pre><p>В методе <code class="inline">getView()</code> после раздувания макета вы можете теперь инициализировать объект держателя вида с помощью метода <code class="inline">findViewById()</code>.<br></p><pre class="brush: java noskimlinks noskimwords">ViewHolder viewHolder = new ViewHolder();viewHolder.cheeseName =        (TextView)convertView.findViewById(R.id.cheese_name);viewHolder.cheeseDescription =        (TextView)convertView.findViewById(R.id.cheese_description);</pre><p>Чтобы сохранить объект-держатель вида в <code class="inline">convertView</code>, используйте его метод <code class="inline">setTag()</code>.</p><pre class="brush: java noskimlinks noskimwords">// Store results of findViewByIdconvertView.setTag(viewHolder);</pre><p>И теперь, каждый раз, когда вызывается <code class="inline">getView()</code>, вы можете получить объект держателя вида из <code class="inline">convertView</code> с помощью метода <code class="inline">getTag()</code> и обновить виджеты <code class="inline">TextView</code> внутри него, используя их методы <code class="inline">setText()</code>.</p><pre class="brush: java noskimlinks noskimwords">TextView cheeseName =     ((ViewHolder)convertView.getTag()).cheeseName;TextView cheeseDescription =     ((ViewHolder)convertView.getTag()).cheeseDescription;    cheeseName.setText(currentCheese.name);cheeseDescription.setText(currentCheese.description);</pre><p>Если вы запустите приложение сейчас, вы увидите, что <code class="inline">GridView</code> отображает две строки текста в каждой ячейке.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=640/uploads/users/362/posts/26646/image/device-2016-06-04-205049.png" alt="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." title="Android для начинающих: Общие сведения об адаптерах и видах-адаптерах..." width="50" height="50"></figure><h2>Заключение<br></h2><p>В этом уроке вы узнали, как создать адаптер и использовать его для заполнения различных видов адаптеров. Вы также узнали, как создать свой собственный адаптер. Хотя мы ориентируемся только на классы <code class="inline">ArrayAdapter</code>, <code class="inline">ListView</code> и <code class="inline">GridView</code>, вы можете использовать те же методы для других адаптеров и адаптеров, которые предлагает Android SDK.<br></p><p><strong>Android Support Library</strong> включает в себя класс <code class="inline">RecyclerView</code>. Он очень похож на вид адаптера, но не является подклассом класса <code class="inline">AdapterView</code>. Вы должны использовать его, если хотите создать более сложные списки, особенно те, которые используют несколько файлов макета для своих элементов. Чтобы узнать больше об этом, вы можете обратиться к этому <span>учебнику Envato Tuts +</span>.<br></p><p>Чтобы узнать больше о классе <code class="inline">AdapterView</code> и его подклассах, вы можете обратиться к <span>его документации</span>.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Android SDK" href="https://norma-studio.github.io/article5/220825216-android-dlya-nachinayuschih-obschie-svedeniya-ob-adapterah-i-vidah-adapterah" class="tm-article-body__tags-item-link">Android SDK</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
45132</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
733</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
