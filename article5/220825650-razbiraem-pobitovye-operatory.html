
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Разбираем побитовые операторы... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Разбираем побитовые операторы... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Разбираем побитовые операторы... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Разбираем побитовые операторы... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Побитовые операторы - это те странно-выглядящие операторы, которые, как вам кажется сложно понять... теперь это в прошлом! Эта простая статья поможет вам разобраться, что они из себя представляют и как их стоит использовать, также я покажу на практических примерах, когда и в каких случаях их стоит применять....">
<meta property="og:description" content="Побитовые операторы - это те странно-выглядящие операторы, которые, как вам кажется сложно понять... теперь это в прошлом! Эта простая статья поможет вам разобраться, что они из себя представляют и как их стоит использовать, также я покажу на практических примерах, когда и в каких случаях их стоит применять....">
<meta name="twitter:description" content="Побитовые операторы - это те странно-выглядящие операторы, которые, как вам кажется сложно понять... теперь это в прошлом! Эта простая статья поможет вам разобраться, что они из себя представляют и как их стоит использовать, также я покажу на практических примерах, когда и в каких случаях их стоит применять....">
<meta property="aiturec:description" content="Побитовые операторы - это те странно-выглядящие операторы, которые, как вам кажется сложно понять... теперь это в прошлом! Эта простая статья поможет вам разобраться, что они из себя представляют и как их стоит использовать, также я покажу на практических примерах, когда и в каких случаях их стоит применять....">
<meta property="og:image" content="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/and_example.png">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/and_example.png">
<meta name="twitter:image" content="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/and_example.png">
<meta property="vk:image" content="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/and_example.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/and_example.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory.html" title="Разбираем побитовые операторы... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Разбираем побитовые операторы... | envatomarket.ru | norma-studio.github.io" title="Разбираем побитовые операторы... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/ded38a8520cf75a955c11fc92a1a403e.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory.html" class="tm-user-info__username" title="
В. Самсонов" aria-label="
В. Самсонов">
В. Самсонов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Разбираем побитовые операторы...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Explanatory" href="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory" class="tm-article-snippet__hubs-item-link"><span>Explanatory</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/and_example.png">
    <meta itemprop="headline name" content="Разбираем побитовые операторы... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Побитовые операторы - это те странно-выглядящие операторы, которые, как вам кажется сложно понять... теперь это в прошлом! Эта простая статья поможет вам разобраться, что они из себя представляют и как их стоит использовать, также я покажу на практических примерах, когда и в каких случаях их стоит применять....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Побитовые операторы - это те странно-выглядящие операторы, которые, как вам кажется сложно понять... теперь это в прошлом! Эта простая статья поможет вам разобраться, что они из себя представляют и как их стоит использовать, также я покажу на практических примерах, когда и в каких случаях их стоит применять....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Побитовые операторы - это те странно-выглядящие операторы, которые, как вам кажется сложно понять... теперь это в прошлом! Эта простая статья поможет вам разобраться, что они из себя представляют и как их стоит использовать, также я покажу на практических примерах, когда и в каких случаях их стоит применять.</p><p><!--more--></p> <hr><h2>Вступление</h2> <p>Побитовые операторы (+, *, &amp;&amp; и так далее), работают с <code>целыми числами (ints)</code> и <code>единицами (units)</code> на бинарном уровне. Это значит, что данные операторы работают с бинарными числами или битами целых чисел. Всё это звучит страшновато, но правда в том что побитовые операторы довольно легко использовать и они действительно полезны!</p> <p>Тем не менее стоит упомянуть, вам нужно понимать как работают бинарные и шестнадцатеричные числа. Если вы с этим не знакомы, пожалуйста <span>взгляните на данную статью</span> - она вам поможет! Ниже вы найдёте приложение, которые позволит вам проверить работу побитовых операторов. </p> <div class="tutorial_image"> <object width="600" height="170" data="https://activetuts.s3.amazonaws.com/tuts/434_bitwiseOperators/BitwiseOperators.swf" type="application/x-shockwave-flash"><param name="src" value="http://activetuts.s3.amazonaws.com/tuts/434_bitwiseOperators/BitwiseOperators.swf"></object> </div> <p>Не бойтесь если на данный момент что-то не понятно, скоро всё встанет на свои места.</p> <hr><h2>Что из себя представляют побитовые операторы</h2> <p>Давайте посмотрим на побитовые операторы, которые предоставляет AS3. Другие языки довольно похожи (к примеру JavaScript и Java обладают практически схожими операторами):</p> <ul><li>&amp; (побитовое AND)</li> <li>| (побитовое OR)</li> <li>~ (побитовое NOT)</li> <li>^ (побитовый XOR)</li> <li>&lt;&lt; (побитовый сдвиг влево)</li> <li>&gt;&gt; (побитовый сдвиг вправо)</li> <li>&gt;&gt;&gt; (побитовый правый сдвиг с заполнением нулями)</li> <li>&amp;= (побитовое AND присваивание)</li> <li>|= (побитовое OR присваивание)</li> <li>^= (побитовое XOR присваивание)</li> <li>&lt;&lt;= (побитовый левый сдвиг и присваивание)</li> <li>&gt;&gt;= (побитовый правый сдвиг и присваивание)</li> <li>&gt;&gt;&gt;= (побитовый правый сдвиг с заполнением нулями и присваивание)</li> </ul><p>Из всего этого вам следует запомнить несколько вещей: Сперва, некоторые побитовые операторы, похожи на те операторы, которые вам доводилось использовать ранее (&amp; и &amp;&amp;, | и ||). Всё это потому что принцип их работы <em>относительно</em> похож.</p> <p>Во вторых, большинство побитовых операторов обладают составными формами с <em>присваиванием</em>. Это тоже самое, как мы используем + и +=, - и -=, и так далее.</p> <hr><h2>Оператор &amp;</h2> <p>Сначала мы рассмотрим AND оператор, &amp;. Вам следует знать: обычно, <code>ints</code> и <code>units</code> занимают 4 байта или 32 бита. Это означает что каждое <code>int</code> и <code>unit</code> хранится как 32 битное число. Для целей нашего туториала, мы будем считать, что <code>ints</code> и <code>units</code> занимают лишь один байт и имеют только 8 битные числа.</p> <p>Оператор &amp; сравнивает каждое бинарное число (бит) двух целых чисел и возвращает новое целое число, со значением 1 если оба числа являются 1, в противном случае получим 0. Диаграмма лучше тысячи слов, так что вот вам одна из них, призванная прояснить ситуацию. Она представляет собой операцию <code>37 &amp; 23</code>, результат будет равен <code>5</code>.</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/and_example.png" class="lazy07" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Обратите внимание, как бинарное представление чисел 37 и 23 сравниваются, результат равен 1, когда оба 37 и 23 обладают 1, в другом случае мы получаем 0.</p> <p>Обычно, считается что каждое бинарное число представляет собой <code>true</code>, либо <code>false</code>. Тем самым, 1 равн <code>true</code>, 0 равен <code>false</code>. Это делает принцип работу оператора &amp; более понятным.</p> <p>Когда мы сравниваем два булевых значения, мы делаем что-то вроде <code>boolean1 &amp;&amp; boolean2</code>. Это выражение будет равно true, только в том случае если оба <code>boolean1</code> и <code>boolean2</code> равны true. Таким же образом, <code>integer1 &amp; integer2</code> равны, в том случае если оператор &amp; выдаёт 1 для каждого из двух битов наших целых чисел, опять же результат будет равен 1.</p> <p>Вот таблица, которая показывает что я имел ввиду:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/and_table.png" class="lazy07" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Небольшая хитрость использования &amp; оператора, чтобы проверить чётное число или нечётное. Для целых чисел мы просто может проверить самый правый бит (также называемый младшим разрядом), чтобы определить чётное число или нечётное. Это потому что конвертируя к основанию 10, самый правый бит представляет 2<sup>0</sup> или 1. В том случае когда самый правый бит равен 1, нам известно что число нечётное так как мы добавляем 1 к степени двойки, которая всегда будет чётная. Когда самый правый бит равен 0, мы знаем что число будет чётное, поскольку нам известно что мы просто добавляем к набору чётных чисел.</p> <p>Вот вам пример:</p> <pre class="brush: actionscript3 noskimlinks noskimwords">var randInt:int = int(Math.random()*1000);if(randInt &amp; 1){  trace("Odd number.");}else{trace("Even number.");}</pre> <p>На моём компьютере, данный метод был на 66% быстрее, чем <code>randInt % 2</code>, для проверки чётности и нечётности чисел. Существенное улучшение производительности!</p> <hr><h2>Оператор |</h2> <p>Далее речь пойдёт об операторе OR, |. Так как вы наверно уже догадались, | оператор похож на оператор ||, также как &amp; оператор похож &amp;&amp; оператор. Оператор | сравнивает каждый бит двух целых числ и возвращает 1, если хотя бы <em>один из них</em> равен 1. Опять же, это похоже на работу || оператора для булевых. </p><div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/or_table.png" class="lazy07" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Давайте рассмотрим такой же пример, как раньше, за исключением того, что на этот раз мы воспользуемся оператором |, вместо &amp;. На этот раз, это будет <code>37 | 23</code>, что будет равно 55:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=367/active/uploads/legacy/tuts/434_bitwiseOperators/or_example.PNG" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <hr><h3>Использование &amp; и | операторов</h3> <p>Мы можем воспользоваться операторами &amp; и |, чтобы передать несколько опций функции в одном, единственном <code>int</code>.</p> <p>Давайте взглянем на возможную ситуацию. Мы создаём класс всплывающего окна. Снизу будут варианты Yes, No, Okay, или кнопка Cancel, или любая другая комбинация вариантов - как нам стоит поступить? Вот сложное решение:</p> <pre class="brush: actionscript3 noskimlinks noskimwords">public class PopupWindow extends Sprite{// Variables, Constructor, etc...public static void showPopup(yesButton:Boolean, noButton:Boolean, okayButton:Boolean, cancelButton:Boolean){if(yesButton){// add YES button}if(noButton){// add NO Button}// and so on for the rest of the buttons}}</pre> <p>Ужасно-ли это? Нет. Но это довольно плохо, вы программист, взгляните на порядок аргументов, каждый раз при вызове функции. Также раздражает - к примеру, если вы хотите показать только кнопку Cancel, вам придётся задать остальным <code>Booleans</code> <code>false</code>.</p> <p>Давайте используем то что нам известно о &amp; и | для создания лучшего решения:</p> <pre class="brush: actionscript3 noskimlinks noskimwords">public class PopupWindow extends Sprite{public static const YES:int = 1;public static const NO:int = 2;public static const OKAY:int = 4;public static const CANCEL:int = 8;public static void showPopup(buttons:int){if(buttons &amp; YES){// add YES button}if(buttons &amp; NO){// add NO button}}}</pre> <p>Как программист вызовет функцию, чтобы кнопка Yes, кнопка No, и кнопка Cancel показывались? Вот так:</p> <pre class="brush: actionscript3 noskimlinks noskimwords">PopupWindow.show(PopupWindow.YES | PopupWindow.NO | PopupWindow.CANCEL);</pre> <p>Что же происходит? Важно отметить что все наши константы из второго примера являются степенью двойки. Если мы посмотрим на бинарную форму, мы заметим, что все они обладают одним числом равным 1, а остальные равны 0. По факту, каждое из них обладает отличным числом равным 1. Это значит, что не важно как мы будем комбинировать их с |, каждая комбинация будет давать нам уникальное число. Посмотрите на это с другой стороны, наш результат выражения с | будет равен бинарному числу с 1, каждый раз когда опция обладает 1.</p> <p>В текущем примере у нас есть <code>PopupWindow.YES | PopupWindow.NO | PopupWindow.CANCEL</code>, что, в свою очередь является эквивалентом <code>1 | 2 | 8</code>, что в бинарном формате будет выглядеть как <code>00000001 | 00000010 | 00001000</code> и в результате даст нам <code>00001011</code>.</p> <p>Теперь, в нашей функции <code>showPopup()</code>, мы используем &amp; для проверки, какие опции были переданы внутрь функции. Для примера, когда мы проверяем <code>buttons &amp; YES</code>, все биты в YES равны 0, за исключением крайнего справа. По сути мы проверяем самый правый бит у кнопок, равен он 1 или нет. Если это так, <code>buttons &amp; YES</code> будут равны 0 и всё в выражении if будет выполнено. И наоборот, если самый правый бит кнопок равен 0, <code>buttons &amp; YES</code> будет равно 0 и код в выражении if не будет выполнен.</p> <hr><h2>Оператор ~</h2> <p>Побитовый оператор NOT немного отличается, чем два оператора, которые нам довелось изучить прежде. Вместо того, чтобы работать с целыми числами с каждой стороны, он работает только с целым числом, которые идёт сразу после самого оператора. Тоже самое что ! оператор, и, что неудивительно, делает похожую работу. По факту, также как и ! меняет булево значение с <code>true</code> на <code>false</code>, или наоборот, оператор ~ меняет значение каждого бита на противоположное: с 0 на 1 и с 1 на 0:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/not_table.png" class="lazy07" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Быстрый пример. Допустим у нас есть целое число 37, или 00100101. ~37 сделает из него 11011010. Какое десятичное значение этого? Что же...</p> <hr><h3>Дополнительный код (представление числа two’s complement), <code>unit</code> против <code>int</code>, и даже больше!</h3> <p>Теперь, будет весело! Мы посмотрим на бинарные числа на компьютере. Давайте начнём с <code>unit</code>. Как говорилось ранее <code>unit</code> представляет обычно из себя 4 байта или 32 бита, что означает что в нём 32 бинарных числа. Это легко понять: чтобы получить десятичное значение мы просто конвертируем число используя основание 10. Мы всегда получим положительное число.</p> <p>Но что насчёт <code>int</code>? Это также использует 32 бита, но как же хранятся отрицательные числа? Если вы подумали, что первое число хранит информацию о знаки, вы на правильном пути. Давайте взглянем на две <em>системы хранения</em> бинарных чисел. Хотя мы не будем рассматривать все детали, две системы используются для того, чтобы сделать арифметические операции над бинарными числами легче.</p> <p>Чтобы найти представление бинарного числа, нам просто нужно перевернуть все биты (то есть тоже самое, что делает оператор ~) и прибавить к получившемуся результату единицу. Давайте попробуем это сделать, один раз:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/twos_complement_37.png" class="lazy07" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Мы получим результат -37. Но зачем весь этот сложный процесс, почему просто не перевернуть только первый бит и назвать это -37?</p> <p>Давайте представим простое выражение <code>37 + -37</code>. Мы все знаем, что результат должен получится равный 0, когда мы прибавляем 37 к его дополнительному коду (представлению числа), вот что мы получаем:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/37_plus_neg37.png" class="lazy07" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Обратите внимание наши целые числа состоят только из восьми бинарных чисел, мы отбрасываем 1 в нашем результате, и получаем 0, как и должно было быть.</p> <p>Подытожим, чтобы найти отрицательное число, мы просто берём его дополнительный код. Мы можем сделать это перевернув все биты и добавив единицу.</p> <p>Хотите сами это попробовать? Добавьте <code>trace(~37+1)</code>; в файл AS3, затем скомпилируйте его и запустите. Вы увидите как будет напечатано -37, что мы и хотели.</p> <p>Также для этого имеется небольшая хитрость: начиная справа, и двигаясь влево до тех пор, пока не доберётесь до 1. Переверните все биты налево начиная с первой единицы.</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/twos_complement_short_37.png" class="lazy07" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Когда мы имеем дело с отмеченным бинарным числом (другими словами, тем которое может быть отрицательным, <code>int</code> не <code>unit</code>), мы смотрим на самое левое число, чтобы определить положительное или отрицательное оно. Если это 0, тогда число положительное и мы можем конвертировать его в десятичную систему, вычислив его согласно основе 10. Если левый крайний бит равен 1, тогда число отрицательное, мы возьмём дополнительный код числа, чтобы получить положительное значение и затем просто добавим ему отрицательный знак.</p> <p>К примеру, если у нас есть 11110010, мы знаем что это отрицательное число. Мы можем найти его дополнительный код, перевернув все числа налево до крайнего правого 1, что даст нам 00001110. Это будет равно 13, так что мы знаем 11110010 равен -13.</p> <hr><h2>Оператор ^</h2> <p>Давайте вернёмся к побитовым операторам, на этот раз мы рассмотрим оператор XOR. Для данного оператора нет эквивалента при работе с булевыми значениями.</p> <p>Оператор ^ похож на операторы &amp; и | так как принимает с обеих сторон <code>int</code> или <code>unit</code>. Когда дело доходит до вычисления результата, опять же сравниваются бинарные числа данного числа. Если один или другой бит равен 1, в результат добавиться 1, в другом случае 0. Вот почему этот оператор носит название XOR, или "exclusive or".</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/active/uploads/legacy/tuts/434_bitwiseOperators/xor_table.png" class="lazy07" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Давайте посмотрим на обычный пример:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=412/active/uploads/legacy/tuts/434_bitwiseOperators/xor_example.png" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Оператор ^ имеет свои области применения - особенно хорошо подходит для переключения бинарных чисел - но в данной статье мы не будем разбирать способы его применения на практике.</p> <hr><h2>Оператор &lt;&lt;</h2> <p>Разберём операторы со сдвигом битов, остановимся на операторе левого сдвига.</p> <p>Работа данного оператора немного отличается. Вместо того чтобы сравнивать два целых числа, как &amp;, | и ^, операторы о которых пойдёт речь сдвигают целое число. Слева от оператора находится целое число, которые будет сдвинуто, а справа значение насколько стоит сдвигать. К примеру 37 &lt;&lt; 3 сдвигает число 37 влево на 3. Конечно мы работаем с бинарным представлением 37.</p> <p>Давайте посмотрим на примеры (запомните, только в этом туториале, мы решили что целые числа обладают только 8 битами вместо 32). Далее изображено число 37 в 8 битном представлении.</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=405/active/uploads/legacy/tuts/434_bitwiseOperators/left_shift_1.png" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p> Отлично, давайте сдвинем все числа налево на 3, в случае <code>37 &lt;&lt; 3</code>:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=522/active/uploads/legacy/tuts/434_bitwiseOperators/left_shift_2.png" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>У нас есть небольшая проблема - что нам делать с тремя пустыми битами памяти, в том месте где мы сдвинули числа?</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=420/active/uploads/legacy/tuts/434_bitwiseOperators/left_shift_3.png" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Все пустые места будут заменены нулями. У нас будет 00101000. На этом всё о левом побитовом сдвиге. Однако не забывайте, что Flash всегда считает, что результат левого побитового сдвига является <code>int</code>, а не <code>unit</code>. Если вдруг вам понадобится <code>unit</code>, вы можете превратить это в <code>unit</code>, следующим образом: <code>unit(37 &lt;&lt; 3)</code>. В этом случае не меняется никакая бинарная информация, только то как будет интерпретировать это Flash (штука с дополнительным кодом).</p> <p>Интересная функция левого сдвига, так это то что это тоже самое что умножение на два возведённое в степень, равную количеству сдвига. То есть <code>37 &lt;&lt; 3 == 37 * Math.pow(2,3) == 37 * 8</code>. Если использовать левый сдвиг вместо <code>Math.pow</code>, вы получите ощутимое улучшение производительности.</p> <p> <em>Должно быть вы заметили, что полученное бинарное число не равно 37 * 8.</em> Это всё потому что мы используем только 8 битов памяти для целых чисел; если вы попробуете пример в ActionScript, вы получите правильный результат. Можете попробовать в демонстрационном приложении наверху страницы!</p> <hr><h2>Оператор &gt;&gt;</h2> <p>Теперь когда мы поняли как работает левый сдвиг, пришло время для следующего, правый побитовый сдвиг, думаю тут не должно возникнуть сложностей. Все биты сдвигаются вправо на указанное нами количество. Единственная разница чем заполняются пустые биты.</p> <p>Если мы работаем с отрицательным числом (в бинарном представлении самый левый бит равен 1), все пустые места будут заполнены 1. Если же мы работаем с положительным числом (самый левый, крайний левый бит равен 0), в этом случае все пустые места заполняются 0. Всё также речь идёт о дополнительном коде, который был рассмотрен ранее.</p> <p>Может показаться, что это звучит сложно, всё что происходит сохраняется знак числа, с которым мы начинали работать. Так что <code>-8 &gt;&gt; 2 == -2</code>, а <code>8 &gt;&gt; 2 == 2</code>. Я рекомендую попробовать данные примеры на бумаге.</p> <p>Так как &gt;&gt; противоположность &lt;&lt;, неудивительно, что сдвигая число вправо, тоже самое что деление на 2 возведённое в степень равную количеству сдвигов. Возможно вы заметили в примере выше. Опять же, если избежать использования <code>Math.pow</code>, получите лучшую производительность.</p> <hr><h2>Оператор &gt;&gt;&gt;</h2> <p>Последний побитовый оператор - побитовый правый сдвиг с заполнением нулями. Очень похоже на обычный побитовый правый сдвиг, за исключением того, что пустые биты слева заполняются нулями. Это значит, что результат после работы оператора всегда будет положительным целым числом и данное целое число будет всего представлять из себя неотмеченное целое число. Мы не будем смотреть на пример, но вскоре мы увидим пример использования оператора.</p> <hr><h2>Использование побитовых операторов для работы с цветами</h2> <p>Самый популярный на практике пример использования побитовых операторов в Actionscript 3 - работа с цветами, которые обычно представляют из себя <code>units</code>.</p> <p>Стандартный формат для цветов записывается, как шестнадцатеричное значение: 0xAARRGGBB - каждая буква представляет шестнадцатеричное число. В данном цвете, первые шестнадцатеричные числа, которые <span>равны первым восьми битам</span>, представляют альфа канал или прозрачность. Следующие восемь битов представляют количество красного в нашем цвете (целое число от 0 до 255), следующие восемь - количество зелёного и последние восемь - количество голубого цвета.</p> <p>Без побитовых операторов, невероятно сложно работать с цветами в таком формате - но с ними данная задача будет очень простой!</p> <p><strong>Испытание 1: найдите количество голубого в цвете:</strong> Используйте оператор &amp;, попытайтесь найти количество голубого в случайно - выбранном цвете.</p> <pre class="brush: actionscript3 noskimlinks noskimwords">public function findBlueComponent(color:uint):uint{// Your code here!}</pre> <p>Нам нужен способ "удалить" или создать маску для всех данных в <code>color</code> и получить только голубой компонент. Вообще это просто! если мы возьмём <code>color &amp; 0x000000FF</code> - или если записать проще, <code>color &amp; 0xFF</code> - в результате мы получим голубой компонент.</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=534/active/uploads/legacy/tuts/434_bitwiseOperators/color_challenge_1.png" alt="Разбираем побитовые операторы..." title="Разбираем побитовые операторы..." width="50" height="50"></div> <p>Как вы могли заметить мы научились применять оператор &amp;, и бинарное число &amp; 0 всегда будет равно 0, в то время как бинарное число &amp; 1 всегда будет сохранять свое значение. Создав маску 0xFF для нашего цвета, в котором есть только единицы, мы добились результата и получили только голубой компонент цвета.</p> <p><strong>Испытание 2: Найдите количество красного в цвете:</strong> Используя два побитовых оператора, найти количество красного нужно в случайном цвете.</p> <pre class="brush: actionscript3 noskimlinks noskimwords">public function findRedComponent(color:uint):uint{// Your code here!}</pre> <p>Для решения подобной задачи есть два метода. Первый - <code>return (color &amp; 0xFF0000) &gt;&gt; 16;</code> а другой будет <code>return (color &gt;&gt; 16) &amp; 0xFF;</code></p> <p>Очень похоже на испытание 1, за исключением что позже нам придётся сдвинуть наш результат.</p> <p><strong>Испытание 3: найдите прозрачность цвета:</strong> Используя только один побитовый оператор, попытайтесь найти альфа канал цвета (целое число от 0 до 255). </p> <pre class="brush: actionscript3 noskimlinks noskimwords">public function findAlphaComponent(color:uint):uint{// Your code here!}</pre> <p>Это испытание хитрое. Мы должны быть осторожны с выбором оператора правого сдвига, какой именно стоит выбрать. Так как мы работает с крайними левыми числами <code>unit</code>, нам понадобится оператор &gt;&gt;&gt;. Тем самым ответ будет <code>return color &gt;&gt;&gt; 24;</code>.</p> <p><strong>Последнее испытание: создайте цвет из компонентов:</strong> Используя &lt;&lt; и | операторы, возьмите компоненты цвета, соедините их в <code>unit</code>. </p> <pre class="brush: actionscript3 noskimlinks noskimwords">public function createColor(a:uint, r:uint, g:uint, b:uint):uint{// Your code here!}</pre> <p>Здесь, мы должны сдвинуть компонент на соответствующую позицию, затем соединить их. Мы хотим, чтобы Flash расценивал это как неотмеченное целое число, тем самым мы сделаем из него <code>unit</code>: <code>return uint((a &lt;&lt; 24) | (r &lt;&lt; 16) | (g &lt;&lt; 8) | b);</code></p> <hr><h2>Составные операторы</h2> <p>Должно быть вы заметили, что я пропустил составные побитовые операторы. Представьте у нас есть целое число x. Следовательно, <code>x = x &amp; 0xFF</code>, тоже самое что <code>x &amp;= 0xFF</code>, <code>x = x | 256</code> тоже самое что <code>x |= 256</code>, и так далее, тоже самое для остальных составных операторов.</p> <hr><h2>Заключение</h2> <p>Спасибо что прочитали эту статью! Надеюсь теперь вы понимаете побитовые операторы и как их можно использовать в AS3 коде (или других языках!). Как всегда, если у вас есть вопросы или комментарии, оставляйте их ниже.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Explanatory" href="https://norma-studio.github.io/article5/220825650-razbiraem-pobitovye-operatory" class="tm-article-body__tags-item-link">Explanatory</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
45174</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
683</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
