
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Введение в API геолокации
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Введение в API геолокации
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Введение в API геолокации
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Введение в API геолокации
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Уже много лет бумажные карты стали антикварными. Они были заменены специальными GPS-навигационными устройствами и мобильными приложениями, которые стали повсеместными. Вы находите их в автомобилях и, что более важно, на планшетах и смартфонах....">
<meta property="og:description" content="Уже много лет бумажные карты стали антикварными. Они были заменены специальными GPS-навигационными устройствами и мобильными приложениями, которые стали повсеместными. Вы находите их в автомобилях и, что более важно, на планшетах и смартфонах....">
<meta name="twitter:description" content="Уже много лет бумажные карты стали антикварными. Они были заменены специальными GPS-навигационными устройствами и мобильными приложениями, которые стали повсеместными. Вы находите их в автомобилях и, что более важно, на планшетах и смартфонах....">
<meta property="aiturec:description" content="Уже много лет бумажные карты стали антикварными. Они были заменены специальными GPS-навигационными устройствами и мобильными приложениями, которые стали повсеместными. Вы находите их в автомобилях и, что более важно, на планшетах и смартфонах....">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/41/posts/20071/image/warning-geolocation-api.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/41/posts/20071/image/warning-geolocation-api.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/41/posts/20071/image/warning-geolocation-api.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/41/posts/20071/image/warning-geolocation-api.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/41/posts/20071/image/warning-geolocation-api.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii.html" title="Введение в API геолокации
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Введение в API геолокации
... | envatomarket.ru | norma-studio.github.io" title="Введение в API геолокации
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/54332343.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii.html" class="tm-user-info__username" title="
В. Бухтеев" aria-label="
В. Бухтеев">
В. Бухтеев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Введение в API геолокации
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Mobile Development" href="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii" class="tm-article-snippet__hubs-item-link"><span>Mobile Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/41/posts/20071/image/warning-geolocation-api.png">
    <meta itemprop="headline name" content="Введение в API геолокации
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Уже много лет бумажные карты стали антикварными. Они были заменены специальными GPS-навигационными устройствами и мобильными приложениями, которые стали повсеместными. Вы находите их в автомобилях и, что более важно, на планшетах и смартфонах....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Уже много лет бумажные карты стали антикварными. Они были заменены специальными GPS-навигационными устройствами и мобильными приложениями, которые стали повсеместными. Вы находите их в автомобилях и, что более важно, на планшетах и смартфонах....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



 <h2>Введение</h2> <p>Уже много лет бумажные карты стали антикварными. Они были заменены специальными GPS-навигационными устройствами и мобильными приложениями, которые стали повсеместными. Вы находите их в автомобилях и, что более важно, на планшетах и смартфонах.</p> <p>Одной из основных особенностей навигационного устройства является обнаружение текущего положения устройства и его обновление при его изменении. Это помогает нам добраться из одного места в другое, давая нам указания.</p> <p>Сегодня нам повезло, что геолокация поддерживается браузерами. В этой статье мы обсудим API геолокации, позволяя приложениям обнаруживать и отслеживать местоположение устройства.</p> <p>Возможность обнаружения местоположения устройства имеет широкий спектр приложений. Например, в Интернете Google, Microsoft и Yahoo используют местоположение пользователя для персонализации SERPs (Страница результатов поисковой системы) на основе местоположения пользователя. Локализация - еще одна отличная возможность для геолокации.</p> <h2> <span class="sectionnum">1.</span> Что это такое?</h2> <p><span>API геолокации </span>определяет интерфейс высокого уровня для информации о местоположении, такой как широта и долгота, которая связана с устройством, реализующим геолокацию. Сам API является не привязан к источникам информации о местоположении.</p> <p>Общие источники информации о местоположении включают в себя <span>Глобальную систему определения местоположения</span> (GPS) и информацию о местоположении, выведенную из сетевых сигналов, таких как IP-адрес устройства, <span>RFID</span>, Wi-Fi, Bluetooth, MAC-адреса, идентификаторы сотовой сети GSM / CDMA и пользовательский ввод. Не предоставляется никаких гарантий, что API возвращает фактическое местоположение устройства.</p> <p>API геолокации является <span>Рекомендацией W3C</span>, которая означает, что <span>спецификация</span> является стабильной. Мы можем предположить, что оно не изменится в будущем, если не будет работать новая версия. Стоит отметить, что API геолокации не является официально частью спецификации HTML5, поскольку он разработан отдельно.</p> <p>Теперь, когда мы знаем, что такое API геолокации и что он может сделать, пришло время посмотреть, какие методы он предоставляет разработчикам.</p> <h2> 2. Внедрение</h2> <h3>Точность<br> </h3> <p>API использует несколько источников для определения позиции устройства. Например, на ноутбуке или настольном компьютере без чипа GPS вполне вероятно, что позиция выводится из IP-адреса устройства, а это означает, что местоположение, возвращаемое API, не очень точное.</p> <p>Однако на мобильном устройстве API может использовать информацию из нескольких и более точных источников, таких как чип GPS устройства, сетевое соединение (Wi-Fi, 3G, HSPA +) и ячейка GSM / CDMA. Вы можете ожидать более точной информации о местоположении на мобильном устройстве, особенно если GPS включен.</p> <h3>Конфиденциальность</h3> <p>Спецификация API геолокации также обсуждает конфиденциальность и разрешения. Фактически, в спецификации четко указано, что разрешение пользователя должно быть явно получено до включения API.</p> <p>Это означает, что браузер должен отображать уведомление пользователю, запрашивающему их разрешение. Пример сообщения, показанного пользователю, показан ниже (Карты Google).</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/41/posts/20071/image/warning-geolocation-api.png" alt="Введение в API геолокации..." title="Введение в API геолокации..." width="50" height="50"></figure><h3>API</h3> <p>API предоставляет три метода, которые относятся к объекту <code>window.navigator.geolocation</code>. Предоставляемые методы:</p> <ul> <li><code>getCurrentPosition</code></li> <li><code>watchPosition</code></li> <li><code>clearWatch</code></li> </ul> <h3>Обнаружение поддержки</h3> Как и многие другие API, определение того, поддерживает ли браузер устройства API геолокации, очень простое. Взгляните на следующий фрагмент, в котором мы обнаруживаем поддержку API геолокации.<pre class="brush: javascript noskimlinks noskimwords">if (window.navigator &amp;&amp; window.navigator.geolocation) {    // I can watch you wherever you go... } else {    // Not supported }</pre> <h3>Поиск устройства</h3> <p> Чтобы определить местоположение устройства, мы вызываем <code>getCurrentPosition</code> или <code>watchPosition</code>, в зависимости от ваших потребностей. Оба метода выполняют одну и ту же задачу с несколькими незначительными отличиями.</p> <p>Чтобы получить местоположение устройства, <code class="inline">getCurrentPosition</code> и <code class="inline">watchPosition</code> делают асинхронный запрос. Разница между этими методами заключается в том, что <code>getCurrentPosition</code> выполняет одноразовый запрос, а <code>watchPosition</code> контролирует местоположение устройства для изменений и уведомляет приложение о том, когда происходит изменение местоположения.</p> <p>API геолокации достаточно умен, чтобы вызвать только обратный вызов функции <code class="inline">watchPosition</code>-invoked, когда позиция получена - если местоположение пользователя изменяется.</p> <p>Другим важным различием между <code>getCurrentPosition</code> и <code>watchPosition</code> является возвращаемое значение каждого метода. Метод <code>getCurrentPosition</code> ничего не возвращает, в то время как <code>watchPosition</code> возвращает идентификатор, который может использоваться, чтобы остановить API от контроля местоположения устройства через функцию <code>clearWatch</code>.</p> <p>Сигнатуры <code class="inline">getCurrentPosition</code> и <code class="inline">watchPosition</code> выглядят следующим образом:</p> <pre class="brush: javascript noskimlinks noskimwords">// Get Current Position getCurrentPosition(successCallback [, errorCallback [, options]])  // Watch Position watchPosition(successCallback [, errorCallback [, options]])</pre> <p>Как показывают сигнатуры, каждая функция принимает три параметра. Требуется только первый аргумент - функция обратного вызова. Давайте подробнее рассмотрим каждый аргумент.<br></p> <ol> <li> <code>successCallback</code>: эта функция обратного вызова выполняется после успешного получения местоположения пользователя. Обратный вызов принимает объект <code class="inline">position</code>, который содержит информацию о местоположении устройства.</li> <li> <code>errorCallback</code>: обратный вызов ошибки выполняется при возникновении ошибки. Обратный вызов ошибки принимает объект <code class="inline">error</code>, содержащий информацию о типе возникшей ошибки.</li> <li> <code>options</code>: Объект <code class="inline">options</code> дает разработчику возможность настроить асинхронный запрос.</li> </ol> <p>Взгляните на следующие фрагменты, чтобы узнать, как вы можете использовать <code class="inline">getCurrentPosition</code> и <code class="inline">watchPosition</code> для получения местоположения устройства.</p> <pre class="brush: javascript noskimlinks noskimwords">var geolocation = null;  if (window.navigator &amp;&amp; window.navigator.geolocation) {   geolocation = window.navigator.geolocation; }  if (geolocation) {   geolocation.getCurrentPosition(function(position) {     console.log(position);   });    var identifier = geolocation.watchPosition(function(position) {     console.log(position);   });    console.log(identifier); }</pre> <h3>Остановить мониторинг местоположения</h3> <p> В предыдущем разделе я упомянул функцию <code>clearWatch</code>. Эта функция позволяет остановить мониторинг местоположения устройства, инициированный вызовом <code>watchPosition.</code></p> <p>Функция <code class="inline">clearWatch</code> принимает один обязательный аргумент, возвращаемый нам идентификатор после вызова <code class="inline">watchPosition</code>.</p> <p>Теперь, когда мы рассмотрели технические подробности API геолокации, пришло время изучить объекты <code>position</code>, <code>error</code> и <code>options</code>, возвращаемые API геолокации.</p> <h3>Информация о местонахождении</h3> <h4><code class="inline">Position</code></h4> <p>Методы, представленные API геолокации, принимают или возвращают три типа объектов. Первым интересующим нас объектом является объект <code>position</code>, который содержит информацию о местоположении, которая нам интересна. Взгляните на следующую таблицу, чтобы получить представление о содержащейся в ней информации.</p> <p>Объект позиции, который возвращается из обратных вызовов <code class="inline">getCurrentPosition</code> и <code class="inline">watchPosition</code>, содержит свойство <code class="inline">timestamp</code> и <code class="inline">coords</code>. Свойство <code class="inline">coords</code> - это объект, содержащий <code class="inline">latitude</code>, <code class="inline">longitude</code>, <code class="inline">altitude</code>, <code class="inline">accuracy</code>, <code class="inline">altitudeAccuracy</code>, <code class="inline">heading</code>, и <code class="inline">speed</code>.</p> <p>Большинство настольных браузеров не вернут значение для свойств <code>altitude</code>, <code>altitudeAccuracy</code>, <code>heading</code> и <code>speed</code>. Однако мобильные устройства, такие как смартфоны и планшеты, обеспечивают более точную информацию благодаря наличию микросхемы GPS или другого оборудования, которое помогает обнаружить местоположение устройства.<br></p> <p>Свойство <code class="inline">timestamp</code> содержит время обнаружения местоположения, которое может быть полезно, если вам нужно знать, как свежие данные были возвращены.</p> <h4><code class="inline">PositionError</code></h4> <p>Объект <code class="inline">error</code> обратного вызова ошибки, необязательный второй аргумент <code class="inline">getCurrentPosition</code> и <code class="inline">watchPosition</code>, имеет <code class="inline">code</code> и свойство <code class="inline">message</code>.</p> <p>Свойство <code class="inline">message</code> кратко описывает тип ошибки. Свойство <code class="inline">code</code> может иметь одно из четырех значений:</p> <ul> <li> <code class="inline">0</code>: запрос не выполнен, но причина неизвестна.</li> <li> 1: запрос не удался, поскольку пользователь не дал разрешения на использование местоположения устройства.</li> <li> <code class="inline">2</code>: запрос завершился неудачно в результате сетевой ошибки.</li> <li> <code class="inline">3</code>: запрос завершился неудачно, поскольку для разрешения позиции устройства потребовалось слишком много времени.</li> </ul> <h4><code class="inline">PositionOptions</code></h4> <p>Необязательный третий аргумент <code class="inline">getCurrentPosition</code> и <code class="inline">watchPosition</code> - это объект <code class="inline">PositionOptions</code>, позволяющий разработчику настраивать асинхронный запрос.<br></p> <p>В настоящее время объект PositionOptions поддерживает три варианта:</p> <ul> <li> <code class="inline">enableHighAccuracy</code>: Если для значения установлено значение <code>true</code>, веб-страница или приложение указывают, что они хотят получить максимально возможный, самый точный результат. Это может привести к более медленному времени отклика или увеличению потребления энергии. Значение по умолчанию <code>false</code>.</li> <li> <code class="inline">timeout</code>: Это свойство определяет максимальное количество миллисекунд, после которого запрос должен считаться устаревшим. По умолчанию используется значение <code>Infinity</code>.</li> <li> <code class="inline">maximumAge</code>: Когда запрос местоположения будет успешным, браузер кэширует результат для последующего использования. Свойство <code class="inline">maximumAge</code> указывает время, в течение которого кеш должен быть недействительным. Значение по умолчанию равно <code class="inline">0</code>, что означает, что запрос не должен кэшироваться.</li> </ul> <h2>Поддержка браузера<br> </h2> <p> Поддержка API геолокации действительно хороша. Это справедливо для настольных и мобильных браузеров. Взгляните на это резюме, чтобы понять, какие настольные браузеры поддерживают API геолокации: </p> <ul> <li>Firefox 3.5+</li> <li>Chrome 5.0+</li> <li>Safari 5.0+</li> <li>Opera 10.60+</li> <li>Internet Explorer 9.0+</li> </ul> <p>Поддержка в мобильных браузерах еще лучше, как вы можете видеть в этом резюме:</p> <ul> <li>Android 2.0+</li> <li>iPhone 3.0+</li> <li>Opera Mobile 10.1+</li> <li>Symbian (S60 третьего и пятого поколения)</li> <li>Blackberry OS 6</li> </ul> <p> API геолокации широко поддерживается. Возможно, вам интересно, что вы можете сделать, если столкнулись с браузером, который не поддерживает API геолокации. Верьте или нет, для устранения этой проблемы существует несколько полифилов и прокладок. Наиболее заметными решениями являются тот, который был создан <span>Мануэлем Бихом</span> и легкой прокладкой, созданной <span>Полом Ирришем</span>.</p> <h2>Демонстрация</h2> <p> Теперь, когда мы знаем все аспекты API геолокации, пришло время увидеть его в действии. Эта демонстрация полностью функциональна и использует все методы и объекты, описанные в этой статье. Цель проста: каждый раз, когда выполняется запрос на обнаружение позиции устройства, данные о местоположении отображаются пользователю в виде списка.</p> <p>Демонстрация содержит три кнопки, позволяющие выбрать операцию, которую вы хотите выполнить. Демонстрация также определяет, поддерживает ли браузер API геолокации или нет. Если это не так, вы увидите сообщение «API не поддерживается», и кнопки отключены.</p> <p>Исходный код демонстрации показан ниже, но вы также можете играть с <span>демо-версией API геолокации</span>. </p> <pre class="brush: html noskimlinks noskimwords">&lt;!DOCTYPE html&gt; &lt;html&gt;    &lt;head&gt;       &lt;meta charset="UTF-8"&gt;       &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"/&gt;       &lt;meta name="author" content="Aurelio De Rosa"&gt;       &lt;title&gt;Geolocation API Demo by Aurelio De Rosa&lt;/title&gt;       &lt;style&gt;          *          {             -webkit-box-sizing: border-box;             -moz-box-sizing: border-box;             box-sizing: border-box;          }           body          {             max-width: 500px;             margin: 2em auto;             padding: 0 0.5em;             font-size: 20px;          }           h1          {             text-align: center;          }           .hidden          {             display: none;          }           .buttons-wrapper          {             text-align: center;          }           .button-demo          {             padding: 0.5em;             margin: 1em auto;          }           .g-info          {             font-weight: bold;          }           #log          {             height: 200px;             width: 100%;             overflow-y: scroll;             border: 1px solid #333333;             line-height: 1.3em;          }           .author          {             display: block;             margin-top: 1em;          }       &lt;/style&gt;    &lt;/head&gt;    &lt;body&gt;       &lt;h1&gt;Geolocation API&lt;/h1&gt;       &lt;div class="buttons-wrapper"&gt;          &lt;button id="button-get-position" class="button-demo"&gt;Get current position&lt;/button&gt;          &lt;button id="button-watch-position" class="button-demo"&gt;Watch position&lt;/button&gt;          &lt;button id="button-stop-watching" class="button-demo"&gt;Stop watching position&lt;/button&gt;       &lt;/div&gt;        &lt;span id="g-unsupported" class="hidden"&gt;API not supported&lt;/span&gt;        &lt;h2&gt;Information&lt;/h2&gt;       &lt;div id="g-information"&gt;          &lt;ul&gt;             &lt;li&gt;                Your position is &lt;span id="latitude" class="g-info"&gt;unavailable&lt;/span&gt;° latitude,                &lt;span id="longitude" class="g-info"&gt;unavailable&lt;/span&gt;° longitude (with an accuracy of                &lt;span id="position-accuracy" class="g-info"&gt;unavailable&lt;/span&gt; meters)             &lt;/li&gt;             &lt;li&gt;                Your altitude is &lt;span id="altitude" class="g-info"&gt;unavailable&lt;/span&gt; meters                (with an accuracy of &lt;span id="altitude-accuracy" class="g-info"&gt;unavailable&lt;/span&gt; meters)             &lt;/li&gt;             &lt;li&gt;You"re &lt;span id="heading" class="g-info"&gt;unavailable&lt;/span&gt;° from the True north&lt;/li&gt;             &lt;li&gt;You"re moving at a speed of &lt;span id="speed" class="g-info"&gt;unavailable&lt;/span&gt;° meters/second&lt;/li&gt;             &lt;li&gt;Data updated at &lt;span id="timestamp" class="g-info"&gt;unavailable&lt;/span&gt;&lt;/li&gt;          &lt;/ul&gt;       &lt;/div&gt;        &lt;h3&gt;Log&lt;/h3&gt;       &lt;div id="log"&gt;&lt;/div&gt;       &lt;button id="clear-log" class="button-demo"&gt;Clear log&lt;/button&gt;        &lt;small class="author"&gt;          Demo created by &lt;a href="http://www.audero.it"&gt;Aurelio De Rosa&lt;/a&gt;          (&lt;a href="https://twitter.com/AurelioDeRosa"&gt;@AurelioDeRosa&lt;/a&gt;)       &lt;/small&gt;        &lt;script&gt;          window.navigator = window.navigator || {};          window.navigator.geolocation = window.navigator.geolocation ||                                         undefined;          if (navigator.geolocation === undefined) {             document.getElementById("g-unsupported").classList.remove("hidden");             ["button-get-position", "button-watch-position", "button-stop-watching"].forEach(function(elementId) {                document.getElementById(elementId).setAttribute("disabled", "disabled");             });          } else {             var log = document.getElementById("log");             var watchId = null;             var positionOptions = {                enableHighAccuracy: true,                timeout: 10 * 1000, // 10 seconds                maximumAge: 30 * 1000 // 30 seconds             };              function success(position) {                document.getElementById("latitude").innerHTML = position.coords.latitude;                document.getElementById("longitude").innerHTML = position.coords.longitude;                document.getElementById("position-accuracy").innerHTML = position.coords.accuracy;                 document.getElementById("altitude").innerHTML = position.coords.altitude ?  position.coords.altitude :                        "unavailable";                document.getElementById("altitude-accuracy").innerHTML = position.coords.altitudeAccuracy ?                        position.coords.altitudeAccuracy :                        "unavailable";                document.getElementById("heading").innerHTML = position.coords.heading ? position.coords.heading :                        "unavailable";                document.getElementById("speed").innerHTML = position.coords.speed ? position.coords.speed :                        "unavailable";                 document.getElementById("timestamp").innerHTML = (new Date(position.timestamp)).toString();                 log.innerHTML = "Position succesfully retrieved&lt;br /&gt;" + log.innerHTML;             }              function error(positionError) {                log.innerHTML = "Error: " + positionError.message + "&lt;br /&gt;" + log.innerHTML;             }              document.getElementById("button-get-position").addEventListener("click", function() {                navigator.geolocation.getCurrentPosition(success, error, positionOptions);             });              document.getElementById("button-watch-position").addEventListener("click", function() {                watchId = navigator.geolocation.watchPosition(success, error, positionOptions);             });              document.getElementById("button-stop-watching").addEventListener("click", function() {                if (watchId !== null) {                   navigator.geolocation.clearWatch(watchId);                   log.innerHTML = "Stopped watching position&lt;br /&gt;" + log.innerHTML;                }             });              document.getElementById("clear-log").addEventListener("click", function() {                log.innerHTML = "";             });          }       &lt;/script&gt;    &lt;/body&gt; &lt;/html&gt;     </pre> <h2>Заключение</h2> <p> В этой статье мы узнали о Geolocation API. Мы видели, что это такое, как и когда его использовать.</p> <p>API геолокации - полезный инструмент для улучшения пользовательского опыта и может служить многим целям. Поддержка широка, но не забывайте, что более старые версии Internet Explorer ее не поддерживают.</p> <p>Как мы обсуждали в этой статье, вы должны знать, что некоторые данные о местоположении, такие как <code>speed</code>, <code>altitude</code> и <code class="inline">heading</code>, не всегда доступны. Также не забывайте использовать Geolocation API с осторожностью, потому что это требует значительного заряда батареи, особенно на мобильных устройствах, оснащенных чипом GPS.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Mobile Development" href="https://norma-studio.github.io/article5/220825519-vvedenie-v-api-geolokatsii" class="tm-article-body__tags-item-link">Mobile Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
40061</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
587</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
