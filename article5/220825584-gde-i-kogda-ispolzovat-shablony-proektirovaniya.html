
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Где и когда использовать шаблоны проектирования... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Где и когда использовать шаблоны проектирования... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Где и когда использовать шаблоны проектирования... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Где и когда использовать шаблоны проектирования... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Есть много различных статей, которые объясняют что такое шаблоны проектирования и как их реализовать, и больше нет необходимости в еще одной такой статье. Вместо этого эта статья более сосредоточена на таких вопросах, как зачем и когда, а не какой и как....">
<meta property="og:description" content="Есть много различных статей, которые объясняют что такое шаблоны проектирования и как их реализовать, и больше нет необходимости в еще одной такой статье. Вместо этого эта статья более сосредоточена на таких вопросах, как зачем и когда, а не какой и как....">
<meta name="twitter:description" content="Есть много различных статей, которые объясняют что такое шаблоны проектирования и как их реализовать, и больше нет необходимости в еще одной такой статье. Вместо этого эта статья более сосредоточена на таких вопросах, как зачем и когда, а не какой и как....">
<meta property="aiturec:description" content="Есть много различных статей, которые объясняют что такое шаблоны проектирования и как их реализовать, и больше нет необходимости в еще одной такой статье. Вместо этого эта статья более сосредоточена на таких вопросах, как зачем и когда, а не какой и как....">
<meta property="og:image" content="//www.gravatar.com/avatar/dfa06b20297d7fddd2fa5c4a1d4990dd?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="aiturec:image" content="//www.gravatar.com/avatar/dfa06b20297d7fddd2fa5c4a1d4990dd?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta name="twitter:image" content="//www.gravatar.com/avatar/dfa06b20297d7fddd2fa5c4a1d4990dd?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="vk:image" content="//www.gravatar.com/avatar/dfa06b20297d7fddd2fa5c4a1d4990dd?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="og:type" content="article">
<link image_src="image" href="//www.gravatar.com/avatar/dfa06b20297d7fddd2fa5c4a1d4990dd?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya.html" title="Где и когда использовать шаблоны проектирования... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Где и когда использовать шаблоны проектирования... | envatomarket.ru | norma-studio.github.io" title="Где и когда использовать шаблоны проектирования... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/65404fb3f3f8602d7f5b3bdc85cbef02.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya.html" class="tm-user-info__username" title="
А. Крайнов" aria-label="
А. Крайнов">
А. Крайнов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Где и когда использовать шаблоны проектирования...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya" class="tm-article-snippet__hubs-item-link"><span>PHP</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya.html" />
    <link itemprop="image" href="//www.gravatar.com/avatar/dfa06b20297d7fddd2fa5c4a1d4990dd?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
    <meta itemprop="headline name" content="Где и когда использовать шаблоны проектирования... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Есть много различных статей, которые объясняют что такое шаблоны проектирования и как их реализовать, и больше нет необходимости в еще одной такой статье. Вместо этого эта статья более сосредоточена на таких вопросах, как зачем и когда, а не какой и как....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Есть много различных статей, которые объясняют что такое шаблоны проектирования и как их реализовать, и больше нет необходимости в еще одной такой статье. Вместо этого эта статья более сосредоточена на таких вопросах, как зачем и когда, а не какой и как....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Есть много различных статей, которые объясняют что такое шаблоны проектирования и как их реализовать, и больше нет необходимости в еще одной такой статье. Вместо этого эта статья более сосредоточена на таких вопросах, как <i>зачем</i> и <i>когда</i>, а не <i>какой</i> и <i>как</i>.</p><p>Я опишу несколько резных ситуаций и сценариев для шаблонов, а так же приведу короткие определения, чтобы помочь тем из вас, кто не знаком с определенными шаблонами. Начнем.</p> <p><!--more--></p> <div class="republished-shortcode"><strong>Переизданная статья</strong> <p>Каждые несколько недель мы перечитываем наши самые любимые посты на протяжении всей истории сайта. Этот материал был впервые опубликован в октябре 2012.</p> </div> <p>В этой статье рассмотрены некоторые <i>шаблоны проектирования</i>, описанные в книгах Роберта Мартина. Эти шаблоны являются современной интерпретацией оригинальных шаблонов их книги <i><span>Банда Четырех</span></i>. Шаблоны Мартина лучше работают вместе с современными техниками программирования. В действительности же примерно 15% оригинальных шаблонов было заменено на новые, а оставшиеся - немного обновлены.</p> <hr><h2>Начнем с создания нескольких объектов</h2> <h3>Использование шаблона Фабрика</h3> <p>Шаблон проектирования Фабрика был придуман, чтобы помочь программистам организовать информацию, связанную с созданием объектов. Иногда объекты могут иметь большое кол-во параметров в конструкторах с одной стороны, а с другой стороны они должны быть проинициализированы значениями по умолчанию сразу после создания. Такие объекты следует создавать в фабриках, сохраняя всю необходимую для создания и инциализации информацию в одном единственном месте.</p> <div class="tip-shortcode"> <p><strong>Когда</strong> Шаблон Фабрику следует использовать тогда, когда вы начинаете писать код, цель которого - получить необходимую для создания объектов информацию.</p> <p><strong>Зачем</strong> Фабрики позволяют поместить логику создания объектов в одно место. Они помогают разорвать зависимости для создания меньшей связанности, а так же использовать инъекцию зависимостей для более удобного тестирования.</p> </div> <hr><h2>Поиск необходимых данных</h2> <p>Существует два наиболее часто используемых шаблона для получения информации из уровня хранения данных или из внешнего источника данных.</p> <h3>Шаблон Шлюз</h3> <p>Этот шаблон определяет канал для коммуникации между уровнем хранения и бизнес логикой. Для более простых приложений, он может доставать или пересоздавать целые объекты сам, но процесс создания объектов в более сложных приложениях находится в зоне ответственности фабрик. Шлюзы просто получают и сохраняют сырые данные.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Когда нужно получить или сохранить данные.</p> <p><strong>Зачем:</strong> Шлюз предлагает простой публичный интерфейс для сложных операций хранения данных. Так же он инкапсулирует знания об уровне хранения данных и разъединяет бизнес логику от логики уровня хранения.</p> </div> <p>В действительности шаблон шлюз является реализацией другого шаблона проектирования, который мы кратко рассмотрим: адаптер.</p> <h3>Идем через прокси</h3> <p>Бывают моменты когда вы не можете (или не хотите) показать знания об уровне хранения классам вашей бизнес логики. Шаблон прокси является хорошим способом обмануть классы вашей бизнес логики, заставив их думать, что они используют уже существующие объекты.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Вам нужно получить данные из уровня хранения или внешнего ресурса, но вы не желаете, чтобы ваша бизнес логика знала об этом.</p> <p><strong>Зачем:</strong> предоставляет простой подход к созданию объектов за кулисами. Так же открывает возможности для получения этих объектов на лету, использовать ленивую загрузку или получать из разных источников.</p> </div> <p>Прокси эффективно реализует схожий интерфейс с реальным объектов, которого он имитирует. Бизнес логика просто использует его так, как будто это и есть реальный объект, но в действительности прокси создает объект, если такого не существует.</p> <blockquote class="pullquote"><p>Шаблоны активного объекта также сыграли свою роль в в ранних многозадачных систем.</p> </blockquote> <p>Хорошо, хорошо. Это конечно все здорово, но как мы сможем найти объекты, которые нам нужно будет создать?</p> <h3>Спросим у репозитория</h3> <p>Шаблон проектирования репозиторий может быть очень полезным при реализации методов поиска или разных запросов. Он берет эти запросы и использует шлюз для получения данных, необходимых фабрике, для производства нужных вам объектов.</p> <p>Шаблон репозиторий отличается от других шаблонов. Он является частью Проектирования по модели (DDD), и не включен в книгу Роберта Мартина.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Нужно создать несколько объектов на основе определенных критериев или когда нужно сохранить несколько объектов в слое хранения данных.</p> <p><strong>Зачем:</strong> Чтобы предоставить возможность легкого получения определенных объектов и изолировать сложную логику запросов и уровень хранения данных. Он удаляет еще больше порождающего кода из вашей бизнес логики.</p> </div> <p>Но что будет, если репозиторий не сможет найти необходимые объекты? Одним вариантом может быть - вернуть <code>NULL</code>, но такой подход имеет два побочных эффекта:</p> <ul><li>Это приводит к <i>отказу от наследования</i>, когда вы попытаетесь вызвать метод у этого объекта.</li> <li>И потребует от вас использовать огромное кол-во проверок типа <code>if(is_null($param)) return;</code></li> </ul><p>Лучше вернуть <code>null</code> объект.</p> <h3>Шаблон нулевого объекта</h3> <p>Нулевой объект реализует тот же самый интерфейс, что и остальные объекты, но свойства объекта возвращают нейтральные значения. Например, метод, который возвращает строку, должен вернуть пустую строку; другой метод, который возвращает число - вернет ноль. Это потребует от вас реализацию методов, которые не возвращают ничего не значащих данных. Но зато вы сможете использовать такие объекты, не беспокоясь об отказе в наследовании или постоянных проверок на null в вашем коде.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Вы постоянно проверяете объекты на <code>null</code>.</p> <p><strong>Зачем:</strong> этот шаблон добавит прозрачности и ясности в ваш код и заставит вас обратить больше внимания на поведение ваших объектов.</p> </div> <p>Нет ничего необычно в том, чтобы вызывать множество методов объекта, прежде чем он сможет делать свою работу. Бывают ситуации, когда вам необходимо подготовить объект после создания, перед тем как вы сможете полноценно его использовать. Это ведет к дублированию кода, когда нужно создавать такие объекты в разных местах кода.</p> <h3>Вам нужен шаблон Команда</h3> <div class="tip-shortcode"> <p><strong>Когда:</strong> Нужно выполнить много операций, чтобы подготовить объект к использованию.</p> <p><strong>Зачем:</strong> Чтобы переместить сложные операции из логики обработки, в логику создания.</p> </div> <p>Звучит заманчиво, не так ли? В действительности же, этот шаблон может оказаться весьма полезным во многих ситуаций. Шаблон команда широко используется для реализации транзакций. Если добавить простой метод <code>undo()</code> в шаблон команду, то он сможет выполнить все транзакции, необходимые для отмены произведенных действий, если необходимо.</p> <p>Итак, сейчас у вас 10 или более объектов команд, и вам нужно чтобы они выполнялись конкурентно. Можно поместить их в активный объект.</p> <h3>Активный Объект</h3> <p>Простой и интересный активный объект имеет только одну обязанность: хранить список объектов команд и запускать их.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Несколько простых объектов необходимо выполнить в одной команде.</p> <p><strong>Зачем:</strong> этот шаблон заставляет клиентов выполнять одну единственную задачу и обрабатывать несколько объектов за раз.</p> </div> <p>Активный объект удаляет каждую команду из своего списка после ее выполнения; это означает, что вы можете выполнить только одну команду за раз. Вот несколько реальных примеров использования активного объекта:</p> <blockquote class="pullquote"><p>Шаблоны проектирования используются для решения проблем.</p> </blockquote> <ul><li><strong>Shopping Cart</strong> - выполняя команду <code>buy()</code> над каждым продуктом, удаляем его из корзины</li> <li><strong>Финансовые транзакции</strong> - группировка транзакций в общий список и выполнение их в простом вызове, убирают их из очереди.</li> </ul><p>Шаблон активного объекта так же сыграл свою роль на заре многозадачных систем. Каждый объект, находящийся внутри активного объекта, должен иметь ссылку на этот активный объект. Они выполняют свою часть работы, а затем обратно отправляют себя назад в очередь. Даже в сегодняшних системах, вы можете использовать активный объект, чтобы дать возможность выполнять задачи другим объектам, пока вы находитесь в ожидании ответа от другого приложения.</p> <hr><h2>Повторное использование</h2> <p>Я уверен, что вы слышали большие обещания на счет объектно-ориентированного программирования о повторном использовании кода. Ранние адопты ООП предрекали использование универсальных библиотек и классов в миллионах различных проектов. Но этому не суждено было сбыться.</p> <h3>Вместо этого используем шаблонные методы</h3> <p>Данный шаблон позволяет релазиовать частичное повторное использование кода. Это часто применимо к нескольким алгоритмам, которые слегка отличаются друг от друга.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Для устранения дублирования самым простым способом.</p> <p><strong>Почему:</strong> Существует дублирование и гибкость не является проблемой.</p> </div> <p>Но гибкость - это хорошо. Что если она мне действительно нужна?</p> <h3>Пришло время Стратегии</h3> <div class="tip-shortcode"> <p><strong>Когда:</strong> гибкость и повторное использование кода важнее, чем простота.</p> <p><strong>Зачем</strong>: используется для реализации больших, взаимозаменяемых частей сложной логики, входящей в какой-то общий алгоритм.</p> </div> <p>Например, можно создать общий <code>Calculator</code>, а затем использовать различные объекты <code>ComputationStrategy</code> для выполнения вычислений. Это часто используемый шаблон, и он становится очень мощным, когда нужно реализовать много разных условных поведений.</p> <hr><h2>Открытие возможностей</h2> <p>По мере роста проекта, становится все сложнее получать доступ к приложению для внешних пользователей. Есть одна причина для предоставления хорошо-организованно точки входа в наше приложение или модуль. Другой причиной может послужить желание скрыть внутреннюю работу и структуру модуля.</p> <h3>Представляем Фасад</h3> <p>Фасад-это по сути API - приятный для стороне клиента интерфейс. Когда клиент вызывает любой из методов фасада, то фасад делегирует их выполнение классам, которые находятся за ним.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Чтобы упростить ваш API или намеренно скрыть внутреннюю бизнес-логику.</p> <p><strong>Зачем:</strong> вы сможете независимо друг от друга контролировать API и реальную реализацию логики.</p> </div> <p>Контроль - это хорошо, и очень часто бывает так, что вам нужно выполнить какую-то задачу, когда что-либо в системе поменялось. Пользователи должны быть уведомлены, красные светодиоды должны мигать, сигнал тревоги должен издавать звук... ну вы поняли идею.</p> <blockquote> <p> Популярный фреймворк <span>Laravel</span> прекрасно использует шаблон Фасад. </p> </blockquote> <h3>Подписаться на наблюдателя</h3> <blockquote class="pullquote"><p>Null объект реализует тот же самый интерфейс, что и ваши объекты.</p> </blockquote> <p>Шаблон наблюдатель предлагает простой способ для наблюдения за объектами и выполнения задач, когда какие-либо условия меняются. Существует две реализации наблюдателя:</p> <ul><li>Polling - объекты принимают подписчиков. Подписчики наблюдают за объектом и будут уведомлены о наступлении определенных событий. Подписчики <i>запрашивают</i> у наблюдаемых объектов необходимую информацию.</li> <li><strong>Push</strong> - так же как метод опроса, объекты принимают подписчиков, а подписчики уведомляются при возникновении события. Но когда происходит уведомление, <i>наблюдатель так же получает сигнал</i> что, он может действовать.</li> </ul><div class="tip-shortcode"> <p><strong>Когда:</strong> для реализации системы уведомлений внутри вашей бизнес логики во внешний мир.</p> <p><strong>Зачем:</strong> шаблон предлагает способ сообщить событие любому количеству различных объектов.</p> </div> <p>Примерами использования этого шаблона являются: почтовые уведомления, демоны записи с логи или системы сообщений. И конечно же в реальной жизни есть бессчетное количество других способов применения этого  шаблона.</p> <h3>Координируем эффекты</h3> <p>Шаблон наблюдатель может быть расширен шаблоном медиатор. Этот шаблон принимает два объекта в качестве параметров. Медиатор подписывает себя на первый параметр, и когда в наблюдаемом объекте происходит какое-то изменение, то медиатор решает, что делать со вторым объектом.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Изменяемые объекты не должны знать о наблюдаемых объектах.</p> <p><strong>Зачем:</strong> чтобы предоставить спрятанный механизм взаимодействия между объектами в системе, когда один из них меняется.</p> </div> <hr><h2>Оригинальность </h2> <p>Иногда нам могут потребоваться объекты, которые должны быть только в единственном числе в нашем приложении и важно, чтобы все остальные объекты могли видеть любые изменения, происходящие с этими объектами. Или же вы по некоторым причинам хотите ограничить возможность создания несколько инстансов таких объектов, как например долгая инициализация, или же проблемы с параллельным доступом к сторонним библиотекам.</p> <h3>Используем синглтон</h3> <p>Синглтон - это объект, у которого конструктор является приватным и есть вместо него публичный метод <code>getInstance()</code>. С помощью этого метода мы добиваемся того, что во всем приложении будет существовать только один инстанс этого объекта.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Вам нужно достичь оригинальности и вам нужно кросс-платформенное, решение, которое также предлагает возможность создания путем наследования.</p> <p><strong>Зачем:</strong> для предоставления единственной точки входа, когда необходимо.</p> </div> <h3>Или написать объект с моно состоянием.</h3> <p>Еще одним подходом к оригинальности является шаблон моно состояния. Это решение использует трюк, который предлагают объектно-ориентированные языки программирования. У него есть динамические публичные методы, которые устанавливают или возвращают значения статических приватных переменных. Что в свою очередь приводит к тому, что все инстансы таких классов в итоге имеют доступ к одним и тем же значениям.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> Прозрачность и полиморфизм вместе предпочтительнее чем оригинальность.</p> <p><strong>Зачем:</strong> чтобы спрятать от пользователей/клиентов факт, что объект предоставляет оригинальность. </p> </div> <p>Обращайте на оригинальность особое внимание. Она подрывает глобальное пространство имен и в большинстве случаев может быть заменена с более лучшим решением, которые подходит для этой конкретной ситуации.</p> <hr><h2>Контроль различных объектов</h2> <blockquote class="pullquote"><p>Шаблон репозиторий является весьма полезной реализацией для методов поиска...</p> </blockquote> <p>Итак, у вас есть и переключатель и свет. Переключатель может включать и выключать свет, но теперь вы приобрели еще и вентилятор, и желаете использовать старый переключатель вместе с ним. Это легко сделать в физическом мире. Возьмите переключатель, подключите провода и готово.</p> <p>К сожалению, это нелегко в мире программирования. У вас есть классы <code>Switch</code> и <code>Light</code>. Если <code>Switch</code> использует <code>Light</code>, то каким же образом заставить его использовать <code>Fan</code>?</p> <p>Легко! Скопировать и вставить класс <code>Switch</code>, а затем поменять его на использование класса <code>Fan</code>. Но это является дублированием кода, что соответствует покупке другого переключателя для вентилятора в реальном мире. Можно расширить <code>Switch</code> до <code>FanSwitch</code>, и вместо него использовать этот объект. Но, что если вам понадобится использовать <code>Button</code> или <code>RemoteControll</code>, вместо <code>Switch</code>?</p> <h3>Шаблон абстрактный сервер</h3> <p>Это самый просто шаблон из всех, когда-либо изобретенных. Он использует только интерфейс. И все, однако существует несколько разных реализаций.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> нужно связать объекты и сохранить гибкость.</p> <p><strong>Зачем:</strong> потому что это наиболее простой способ получить гибкость, при этом соблюдая принцип инверсии зависимостей и открытости-закрытости.</p> </div> <p>PHP является языком с динамической типизацией. Это означает, что можно опустить интерфейсы и использовать различные объекты в том же контексте - рискуя столкнуться с отказом от наследования. Хотя PHP так же и предоставляет возможность определять интерфейс и я рекомендую вам использовать этот замечательный функционал для более наглядного выражения ваших действий в коде.</p> <p>Но у вас уже есть куча классов, с которыми вы собираетесь взаимодействовать? Да, конечно же. Есть множество библиотек и сторонних API, а так же других разных модулей, с которыми нам приходится взаимодействовать, но это не означает, что наша бизнес логика должна знать детали работы с ними.</p> <h3>Включаем адаптер</h3> <p>Шаблон адаптер просто обеспечивает взамодействие между бизнес логикой и чем-то другим. Мы уже видели этот шаблон в действии: шаблон шлюз.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> нужно создать взять между уже сущесвтующим и потенциально изменчивым модулями, библиотеками или API.</p> <p><strong>Зачем:</strong> чтобы позволить вашей бизнес логике полагаться на публичные методы адаптера, и легко справляться с  изменениями на другой стороне адаптера.</p> </div> <p>Если любой из выше перечисленных шаблонов не соответствуют вашей ситуации, то можно использовать...</p> <h3>Шаблон мост</h3> <p>Это довольно сложный шаблон. Лично мне он не нравится, так как обычно можно выбрать более простое решение. Но для тех особых случаев, когда другие решения не подходят, можно рассмотреть этот шаблон.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> шаблона адаптер не достаточно и мы вносим изменения в классы со обоих сторон цепочки.</p> <p><strong>Зачем:</strong> чтобы предоставить большую гибкость ценой увеличения сложности.</p> </div> <hr><h2>Шаблон композиция</h2> <p>Рассмотрим скрипт, в котором есть похожие команды, и нам нужно одним вызовом запустить их все. Погодите! Разве мы до этого не рассматривали что-то похожее? Шаблон активный объект?</p> <p>Да, конечно. Но этот немного отличается. Это шаблон композиция, и так же как шаблон активный объект, он содержит список объектов. Но вызов метода объекта композиции, вызывает этот же метод у всех его объектов, при этом не удаляя их из списка. Клиенты, вызывая метод, думаю, что они общаются с одним единственным объектом определенного типа, хотя в действительности эти действия применяются ко многим объектам композиции.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> нужно применить действие к нескольким схожим объектам.</p> <p><strong>Зачем:</strong> чтобы снизить дублирование и упростить вызов нескольких объектов.</p> </div> <p>Вот пример: у вас есть приложение, которое может создавать и размещать <code>Orders</code>. Предположим, у вас есть три заказа: <code>$order1,</code> <code>$order2</code> и <code>$order3</code>. Можно вызывать метод <code>place()</code> у каждого из них, или можно собрать эти заказы в объекте <code>$compositeOrder,</code> и вызвать метод <code>place()</code> у него. Что в свою очередь вызовет метод <code>place()</code> у всех внутренних объектов <code>Order</code>.</p> <hr><h2>Шаблон состояние</h2> <blockquote class="pullquote"><p>Шлюзы только получают и сохраняют сырые данные.</p> </blockquote> <p>Конечный автомат (FSM) представляет собой модель, которая имеет конечное число определенных состояний. Реализация FSM может быть сложной, и самый простой способ сделать это - использовать оператор <code>switch</code>. Каждое выражение <code>case</code> представляет собой текущее состояние автомата и знает, как активировать следующее состояние.</p> <p>Но мы уже знаем, что <code>switch...case</code> выражений следует избегать, потому что они создают нежелательные разветвления в наших объектах. Так что забудьте выражение <code>switch ... case</code>, и вместо него обратите внимание на шаблон состояние. Шаблон сосотяние складывается из нескольких частей: объект, который координирует работу, интерфейс, представляющий собой абстрактное состояние и несколько реализаций каждого отдельного состояния. Каждое состояние знает, знает, какое состояние будет следующим после него, и само состояние может уведомить координирующий объект, чтобы он установил следующее состояние.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> нужно реализовать логику конечного автомата.</p> <p><strong>Зачем:</strong> чтобы снизить проблемы, возникающие от использования выражения <code>switch...case</code>, и лучше инкапсулировать логику и значение каждого отдельного состояния.</p> </div> <p>Распределитель питания может иметь класс <code>main</code>, который содержит ссылку на класс <code>state</code>. А возможные классы состояний могут быть следующими: <code>WaitingForCoin</code>, <code>InsertedCoin</code>, <code>SelectedProduct</code>, <code>WaitingForConfirmation</code>, <code>DeliveringProduct</code>, <code>ReturningChange</code>. Каждое состояние выполняет свою работу и создает объект следующего состояния, чтобы передать его классу координатору.</p> <hr><h2>Декорируем с шаблоном декоратор</h2> <p>Бывают ситуации, когда вы используете классы или модули внутри вашего приложения, которые вы не можете поменять, без внесения радикальных изменений в систему. Но в то же время, вам необходимо добавить к ним новый функционал.</p> <p>Шаблон декоратор может помочь вам в этих ситуациях. Он довольно прост: берем существующий функционал и добавляем к нему. Это достигается путем расширения исходного класса и предоставления новых функциональных возможностей во время выполнения. Прежние клиенты продолжают использовать новые объекты точно так же, как они использовали старые, а новые могут использовать как старый, так и новый функционал.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> вы не можете изменять старые классы, но необходимо добавить в ним новое поведение или состояние.</p> <p><strong>Зачем:</strong> предлагает ненаящивый способ добавления нового функционала.</p> </div> <p>Простым примером может служить вывод данных. Вы выводите какую-то информацию клиенту в виде простого текста, но также хотите добавить возможность вывода HTML. Шаблон декоратор является как раз таким решением, которое даст возможность сохранить оба функционала.</p> <h3>Или же примите посетителя.</h3> <p>Если у вас немного другая проблема с расширением функционала - скажем, у вас есть сложная древовидная структура объектов, и вы хотите добавить функционал сразу к нескольким узлам этого дерева. В таком случае простая итерация невозможна, но посетитель может оказаться довольно ценным решением. Однако обратной стороной реализации шаблона посетитель является модификация исходного класса, если он не был спроектирован на прием посетителей.</p> <div class="tip-shortcode"> <p><strong>Когда:</strong> нельзя применить шаблон декоратор и можно немного усложнить систему.</p> <p><strong>Зачем:</strong> Чтобы разрешить и организовать подход к добавлению функциональности для нескольких объектов, но при при этом ценой добавления сложности.</p> </div> <hr><h2>Заключение:</h2> <blockquote class="pullquote"><p>Используйте шаблоны проектирования для решения ваших проблем, но только если они реально подходят к вашей ситуации.</p> </blockquote> <p>Шаблоны проектирования помогают решать проблемы. В качестве рекомендации к реализации - никогда не называйте ваши классы именами шаблонов. Вместо этого ищите правильные имена и абстракции. Это поможет вам лучше понять, когда вам действительно нужно использовать шаблон.</p> <p>Некоторые могут возразить, что если вы не называете ваши классы именами шаблонов, то другие разработчики с трудом смогут их распознать. Если тяжело распознать шаблон, то проблема кроется в его реализации.</p> <p>Используйте шаблоны для решения ваших проблем, но только если они уместны в данной ситуации. Не злоупотребляйте ими. Вы обнаружите что более простые решения решают небольшое количество проблем; а так же, что вам нужно использовать шаблон, только после реализации пары других возможных решений.</p> <p>Если вы являетесь новичком в шаблонах проектирования, то надеюсь, что эта статья дала вам некое понимание того, чем шаблоны могут оказаться полезными в ваших приложениях. Спасибо за чтение!</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825584-gde-i-kogda-ispolzovat-shablony-proektirovaniya" class="tm-article-body__tags-item-link">PHP</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
42474</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
324</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
