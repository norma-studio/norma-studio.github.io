
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Source Maps-101
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Source Maps-101
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Source Maps-101
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Source Maps-101
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В современном рабочем процессе код, который мы имеем в наших средах разработки, значительно отличается от production кода, после его запуска посредством компиляции, минимизации, конкатенации или различных других процессов оптимизации....">
<meta property="og:description" content="В современном рабочем процессе код, который мы имеем в наших средах разработки, значительно отличается от production кода, после его запуска посредством компиляции, минимизации, конкатенации или различных других процессов оптимизации....">
<meta name="twitter:description" content="В современном рабочем процессе код, который мы имеем в наших средах разработки, значительно отличается от production кода, после его запуска посредством компиляции, минимизации, конкатенации или различных других процессов оптимизации....">
<meta property="aiturec:description" content="В современном рабочем процессе код, который мы имеем в наших средах разработки, значительно отличается от production кода, после его запуска посредством компиляции, минимизации, конкатенации или различных других процессов оптимизации....">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-enable.png">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-enable.png">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-enable.png">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-enable.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-enable.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825602-source-maps-101.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825602-source-maps-101.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825602-source-maps-101.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825602-source-maps-101.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825602-source-maps-101.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825602-source-maps-101.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825602-source-maps-101.html" title="Source Maps-101
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Source Maps-101
... | envatomarket.ru | norma-studio.github.io" title="Source Maps-101
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/65404fb3f3f8602d7f5b3bdc85cbef02.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825602-source-maps-101.html" class="tm-user-info__username" title="
А. Крайнов" aria-label="
А. Крайнов">
А. Крайнов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Source Maps-101
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825602-source-maps-101" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Tools &amp; Tips" href="https://norma-studio.github.io/article5/220825602-source-maps-101" class="tm-article-snippet__hubs-item-link"><span>Tools &amp; Tips</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825602-source-maps-101.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-enable.png">
    <meta itemprop="headline name" content="Source Maps-101
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В современном рабочем процессе код, который мы имеем в наших средах разработки, значительно отличается от production кода, после его запуска посредством компиляции, минимизации, конкатенации или различных других процессов оптимизации....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В современном рабочем процессе код, который мы имеем в наших средах разработки, значительно отличается от production кода, после его запуска посредством компиляции, минимизации, конкатенации или различных других процессов оптимизации....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



 <p>В современном рабочем процессе код, который мы имеем в наших средах разработки, значительно отличается от production кода, после его запуска посредством компиляции, минимизации, конкатенации или различных других процессов оптимизации.</p> <p>Здесь вступают в игру source maps, указывая точное сопоставление в нашем production коде на исходный авторский код. В этом вводном учебнике мы рассмотрим простой проект и пропустим его через различные компиляторы JavaScript, чтобы поиграться с source maps в браузере.</p> <p><!--more--></p> <hr> <h2>Что такое Source Maps?</h2> <blockquote class="pullquote"> <p>Source Maps предлагают не зависимый от языка способ сопоставления production кода с исходным кодом.</p> </blockquote> <p>Исходные карты предлагают не зависимый от языка способ сопоставления производственного кода с исходным кодом, который был создан в вашей среде разработки. Когда мы в конечном счете смотрим на базу кода, сгенерированную и подготовленную к production, становится очень сложно найти то место, где происходит сопоставление строк с нашим исходным авторским кодом. Однако во время компиляции source map хранит эту информацию, поэтому, когда мы запрашиваем строку, она вернет нам точное местоположение в исходном файле! Это дает огромное преимущество разработчику, поскольку код становится читаемым и даже отлаживается!</p> <p>В этом уроке мы рассмотрим очень простой код JavaScript и <span>SASS</span>, запустим их через различные компиляторы, а затем просмотрим исходные файлы в браузере с помощью исходных карт. Загрузите <span>демо-файлы</span>, и давайте начнем!</p> <hr> <h2>Браузеры</h2> <p>Обратите внимание, что при написании этой статьи <span>Chrome</span> (версия 23) поддерживает карты исходников <span>JavaScript</span> и даже карты <span>SASS</span>. Firefox также должен получить <span>поддержку</span> в ближайшем будущем, так как в настоящее время он находится в активной стадии разработки. Итак, давайте посмотрим, как мы можем использовать карты источников в браузере!</p> <h3>Source maps в Chrome</h3> <p>Во-первых, мы должны включить поддержку в Chrome, выполнив следующие простые шаги:</p> <ul> <li>Откройте инструменты разработчика Chrome: View -&gt; Developer -&gt; Инструменты для разработчиков</li> <li>Нажмите кнопку «Настройки» в нижнем правом углу</li> <li>Выберите «Общие» и выберите «Включить source maps»,</li> </ul> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-enable.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <h3>Настройка</h3> <p>Если вы хотите продвигаться вместе с этой статьей, <span>загрузите демоверсию</span> и откройте каталог «start». Файлы и структура каталогов довольно простые, с некоторым простым JavaScript внутри <code>scripts/script.js</code>. Вы должны иметь возможность открывать <code>index.html</code> и даже добавлять некоторые названия цветов CSS или шестнадцатеричные значения, чтобы изменить цвет фона.</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-demo.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <pre class="brush: bash noskimlinks noskimwords"> $ tree . ├── index.html ├── scripts │   ├── jquery.d.ts │   ├── script.coffee.coffee │   ├── script.js │   └── script.typescript.ts └── styles     ├── style.css     └── style.sass</pre> <p>Просмотрите простые файлы сценариев в простых JavaScript, TypeScript или CoffeeScript. Используя различные компиляторы JavaScript, мы создадим готовую для production версию, а также сгенерируем соответствующие карты.</p> <p>В следующих разделах мы будем использовать пять различных способов создания скомпилированного и мини-скрипта <code>script.js</code> вместе с соответствующей картой. Вы можете либо попробовать все возможные варианты или просто выбрать компилятор, с которым вы уже знакомы. Эти варианты включают:</p> <ol> <li><span>Closure Compiler</span></li> <li> <span>GruntJS</span> с <span>JSMin</span> </li> <li><span>Uglifyjs 2</span></li> <li> <span>CoffeeScript</span> и <span>Redux</span> </li> <li><span>TypeScript</span></li> </ol> <hr> <h2> <span>Вариант A</span>: компилятор Closure</h2> <p><span>Closure Compiler</span> от Google - это инструмент для оптимизации JavaScript. Он делает это, анализируя ваш код, удаляя ненужные биты, а затем минимизируя остальные. Кроме того, он также может <span>генерировать карты</span>.</p> <p>Для создания оптимизированной версии <code>script.js</code>, используя компилятор Closure, сделаем следующие шаги:</p> <ol> <li><span>Загрузите последний компилятор Closure.</span></li> <li>Перенесите файл, <code>compiler.jar</code>, в каталог, <code>scripts</code>.</li> <li>Перейдите в каталог <code>scripts</code> из командной строки и выполните следующее, чтобы создать оптимизированный готовый к production файл <code>script.closure.js</code>: <pre class="brush: bash noskimlinks noskimwords"> java -jar compiler.jar --js script.js --js_output_file script.closure.js</pre> </li> <li>Убедитесь, что <code>index.html</code> теперь связан с вновь созданным файлом, <code>scripts/script.closure.js</code>, раскомментируя вариант A.</li> </ol> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-closure.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <p>Когда мы открываем <code>index.html</code> в браузере и перейдем к Source панели в средствах разработчика, то будет ссылка только на оптимизированную версию <code>script.closure.js</code>; у нас нет способа вернуть соотношение к нашему оригинальному, исходному файлу. Давайте создадим файл карты, выполнив следующую команду в каталоге <code>scripts</code>:</p> <pre class="brush: bash noskimlinks noskimwords"> java -jar compiler.jar --js script.js --create_source_map script.closure.js.map --source_map_format=V3 --js_output_file script.closure.js</pre> <p>Обратите внимание, что Closure Compiler использует два варианта: <code>--create_source_map</code> и <code>--source_map_format</code> для создания файла карты <code>script.closure.js.map</code> с версией 3. Затем добавьте URL-адрес исходного URL-адреса в конец скомпилированного файла сценария, <code>script.closure.js</code>, так что оптимизированный файл содержит информацию о местоположении карты:</p> <pre class="brush: js noskimlinks noskimwords"> //@ sourceMappingURL=script.closure.js.map</pre> <p>Теперь, когда мы просматриваем проект в браузере, в директории «scripts» под панелью Source инструментов разработчика будет показан как исходный файл, так и оптимизированная версия <code>script.closure.js</code>. Хотя браузер, конечно же, использует оптимизированный файл, на который мы первоначально ссылались в <code>index.html</code>, карты позволяют нам создать связь с исходным файлом.</p> <p>Кроме того, попробуйте использовать точки останова для отладки, но имейте в виду, что наблюдаемые выражения и переменные пока недоступны с картами. Надеюсь, они появятся в будущем! </p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-closure-map.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <hr> <h2> <span>Вариант B</span>: задача GruntJS для JSMin</h2> <p>Если вы уже используете <span>Grunt.js</span> для процессов сборки, вам понадобится плагин Grunt для карт <span>JSMin</span>. Он не только оптимизирует ваш код, но также создаст карту!</p> <p>Следующие шаги продемонстрируют, как создать оптимизированную версию <code>script.js</code> с плагином Grunt JSMin:</p> <ol> <li>установите Grunt.js и <span>инициируйте gruntfile</span>, <code>grunt.js</code>, в корне каталога: <pre class="brush: bash noskimlinks noskimwords"> $ npm install -g grunt $ npm view grunt version npm http GET https://registry.npmjs.org/grunt npm http 200 https://registry.npmjs.org/grunt 0.3.17 $ grunt init:gruntfile</pre> </li> <li>Установите Grunt-плагин <span>grunt-jsmin-sourcemap</span>; когда вы это сделаете, будет создан каталог с именем <code>node_modules/grunt-jsmin-sourcemap</code>: <pre class="brush: bash noskimlinks noskimwords"> $ npm install grunt-jsmin-sourcemap</pre> </li> <li>Отредактируйте вновь созданный файл <code>grunt.js</code>, чтобы он содержал только задачу <code>jsmin-sourcemap </code>- чтобы все было как можно проще. <pre class="brush: js noskimlinks noskimwords"> module.exports = function(grunt) {   grunt.loadNpmTasks("grunt-jsmin-sourcemap");   grunt.initConfig({     "jsmin-sourcemap": {       all: {         src: ["scripts/script.js"],         dest: "scripts/script.jsmin-grunt.js",         destMap: "scripts/script.jsmin-grunt.js.map"       }     }   });   grunt.registerTask("default", "jsmin-sourcemap"); };</pre> </li> <li>Вернитесь в командную строку и запустите <code>grunt</code>; это выполнит задачу jsmin-sourcemap, поскольку задание по умолчанию указано как таковое в файле grunt.js: <pre class="brush: bash noskimlinks noskimwords"> $ grunt Running "jsmin-sourcemap:all" (jsmin-sourcemap) task  Done, without errors.</pre> </li> <li>В файле созданной карты, <code>script.grunt-jsmin.js.map</code>, убедитесь, что источником является <code>"sources":["script.js"]</code>. </li> <li>Раскомментируйте вариант B для ссылки на вновь созданный файл, <code>script.grunt-jsmin.js</code>, в <code>index.htm</code>l, и откройте его в браузере.</li> </ol> <p>С Grunt и плагином, jsmin-sourcemap, процесс сборки создал два файла: оптимизированный файл сценария с URL-адресом исходного источника, а также карту. Для просмотра всех их в браузере вам потребуются они оба.</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-gruntjsmin.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <hr> <h2> <span>Вариант C</span>: UglifyJSё</h2> <p><span>UglifyJS2</span> - это еще один парсер JavaScript, minfier и компрессор. Подобно двум альтернативам выше, UglifyJS2 создаст оптимизированный файл сценария, добавленный с URL-адресом исходного источника, а также файл карты, который будет содержать сопоставление с исходным файлом. Чтобы использовать UglifyJS, выполните следующую команду в командной строке каталога «start»:</p> <ol> <li>Установите модуль NPM, <code>uglify-js</code>, локально; будет создан каталог <code>node_module/uglify-js</code>. <pre class="brush: bash noskimlinks noskimwords"> $ npm install uglify-js $ npm view uglify-js version 2.2.3 $ cd scripts/</pre> </li> <li>Внутри каталога «scripts» мы выполним команду для создания оптимизированной версии, а также исходного файла с параметрами <code>--source-map</code> и <code>--output</code>, чтобы указать имя выходного файла. <pre class="brush: bash noskimlinks noskimwords"> uglifyjs --source-map script.uglify.js.map --output script.uglify.js script.js</pre> </li> <li>Наконец, убедитесь, что <code>index.html</code> правильно связан с скриптом <code>script.uglify.js</code> </li> </ol> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-uglify.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <hr> <h2> <span>Вариант D</span>: CoffeeScript Redux</h2> <p>Для предыдущих трех вариантов нам потребовалась только одношаговая оптимизация - от исходного кода до оптимизированного JavaScript. Однако для таких языков, как <span>CoffeeScript</span>, нам нужен двухэтапный процесс: CoffeeScript &gt; JavaScript &gt; оптимизированный JavaScript. В этом разделе мы рассмотрим, как создавать <span>многоуровневые карты</span> с помощью CoffeeScript и компилятора CoffeeScript Redux.</p> <h3>Шаг 1: CoffeeScript для простого JavaScript</h3> <p>Перейдите в каталог «start» в командной строке. В следующих шагах мы сопоставим оптимизированный файл сценария с CoffeeScript:</p> <ol> <li>Установите CoffeeScript в качестве глобального пакета <span>npm</span> </li> <li>Скомпилируйте файл CoffeeScript, <code>script.coffee.coffee</code>, чтобы создать простую версию JavaScript, используя следующую команду: <pre class="brush: bash noskimlinks noskimwords"> $ coffee -c scripts/script.coffee.coffee</pre> </li> <li>Установите <span>CoffeeScript Redux</span>: <pre class="brush: bash noskimlinks noskimwords"> $ git clone https://github.com/michaelficarra/CoffeeScriptRedux.git coffee-redux $ cd coffee-redux $ npm install $ make -j test $ cd ..</pre> </li> <li>Затем мы создадим файл карты, <code>script.coffee.js.map,</code> который будет хранить информацию о преобразовании из сгенерированного JavaScript обратно в файл CoffeeScript: <pre class="brush: bash noskimlinks noskimwords"> $ coffee-redux/bin/coffee --source-map -i scripts/script.coffee.coffee &gt; scripts/script.coffee.js.map</pre> </li> <li>Убедитесь, что сгенерированный файл JavaScript, <code>script.coffee.js</code>, имеет URL-адрес исходного кода в конце со следующей строкой: <pre class="brush: js noskimlinks noskimwords"> //@ sourceMappingURL=script.coffee.js.map</pre> </li> <li>Убедитесь, что файл карты, <code>script.coffee.js.map</code>, имеет правильный файл ссылки как <code>"file":"script.coffee.coffee"</code> и исходный файл как <code>"sources":["script.coffee.coffee"]</code> </li> </ol> <h3>Шаг 2: Обычный JavaScript для минификации-JavaScript</h3> <ol> <li>Наконец, мы снова будем использовать UglifyJS, чтобы минимизировать сгенерированный JavaScript, а также создать карту. На этот раз это займет карту, чтобы мы могли вернуться к исходному файлу CoffeeScript. Выполните следующую команду в каталоге «scripts»: <pre class="brush: bash noskimlinks noskimwords"> $ cd scripts/ $ uglifyjs script.coffee.js -o script.coffee.min.js --source-map script.coffee.min.js.map --in-source-map script.coffee.js.map</pre> </li> <li>Наконец, убедитесь, что файл карты, <code>script.coffee.min.js.map</code>, имеет правильный ссылочный файл как <code>"file":"script.coffee.min.js"</code> и правильные источники как <code>"sources":["script.coffee.coffee"]</code>.</li> </ol> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-coffee.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <hr> <h2> <span>Вариант E</span>: TypeScript</h2> <p>TypeScript, как и CoffeeScript, также требует двухэтапный процесс: TypeScript &gt; Обычный JavaScript &gt; Мини-код JavaScript. Поскольку скрипт использует плагин jQuery, нам нужны два файла TypeScript, которые уже предоставлены: <code>script.typescript.ts</code> и <code>jquery.d.ts</code>.</p> <h3>Шаг 1: TypeScript для простого JavaScript</h3> <p>Перейдите в каталог «scripts» из командной строки и выполните следующую команду:</p> <pre class="brush: bash noskimlinks noskimwords"> $ tsc script.typescript.ts -sourcemap</pre> <p>Вышеприведенная команда создаст новый файл JavaScript, с именем <code>script.typescript.js</code>, с url внизу: <code>//@sourceMappingURL=script.typescript.js.map</code>. С помощью этой единственной команды он также создаст файл карты, <code>script.typescript.js.map</code>.</p> <h3>Шаг 2: Обычный JavaScript для минифицированного JavaScript</h3> <p>Как и в примере с CoffeeScript, следующим шагом будет использование UglifyJS.</p> <pre class="brush: bash noskimlinks noskimwords"> $ uglifyjs script.typescript.js -o script.typescript.min.js --source-map script.typescript.min.js.map --in-source-map script.typescript.js.map</pre> <p>Наконец, убедитесь, что<code> index.htm</code>l ссылается на правильный файл сценария, <code>scripts/script.typescript.min.js</code> и откройте его в браузере!</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-typescript.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <hr> <h2>Карты для SASS</h2> <p>Помимо JavaScript, в настоящее время Chrome также поддерживает карты SASS или SCSS. Для сопоставления исходника SASS исправьте несколько настроек в Chrome, а затем скомпилируем SASS в CSS с параметрами отладки:</p> <ol> <li>Прежде чем изменять какие-либо настройки, обратите внимание, что при проверке элемента из инструментов разработчика он будет показывать только ссылку на файл CSS. Это не слишком полезно. <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=539/net/authors/sayanee-basu/source-maps-onlycss.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> </li> <li>Перейдите в <span>chrome://flags/</span>.</li> <li>Включите эксперименты в инструментах разработчика. <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=555/net/authors/sayanee-basu/source-maps-devtoolsexp.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> </li> <li>Откройте Инструменты Dev&gt; Настройка&gt; Эксперименты&gt; Проверьте «Поддержка SASS». <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=539/net/authors/sayanee-basu/source-maps-sass.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> </li> <li>Скомпилируйте SASS с последующими параметрами отладки в каталоге «styles». Это добавит каждый набор правил CSS с помощью команды <code>@media -sass-debug-info</code>, которая будет содержать информацию о имени файла и номере строки. <pre class="brush: bash noskimlinks noskimwords"> $ cd styles/ $ sass --debug-info --watch style.sass:style.css</pre> </li> <li>Обязательно перезапустите инструменты разработчика и обновите страницу.</li> <li>Теперь, когда мы проверяем элемент, мы можем получить доступ к исходному файлу SASS! <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=560/net/authors/sayanee-basu/source-maps-onlysass.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> </li> </ol> <p>Помимо просто просмотра файла SASS, если вы используете LiveReload в фоновом режиме и вносите изменения в файл SASS, страница также будет обновляться, чтобы отразить изменения. Например, давайте откроем проект в <span>Firefox</span> и проверим страницу, используя расширение <span>Firebug</span>.</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=522/net/authors/sayanee-basu/source-maps-sass-firefox.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <hr> <h2>Информация на карте</h2> <p>Если мы просмотрим любой из файлов <code>*.map</code>, он будет содержать информацию о сопоставлении из исходного файла в оптимизированный файл. Структура карты обычно находится в формате JSON, используя <span>спецификации версии 3</span>. Обычно он содержит следующие пять свойств: </p> <ol> <li> version: номер версии карты - обычно «3.» </li> <li> <strong>file</strong>: имя оптимизированного файла.</li> <li> <strong>sources</strong>: Имена исходных файлов.</li> <li> <strong>names</strong>: Символы, используемые для сопоставления.</li> <li> <strong>mappings</strong>: отображение данных.</li> </ol> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=544/net/authors/sayanee-basu/source-maps-file.png" alt="Source Maps 101..." title="Source Maps 101..." width="50" height="50"></div> <hr> <h2>Дополнительные ресурсы</h2> <p>Карты по-прежнему очень активно развиваются, но уже есть некоторые большие ресурсы, доступные в Интернете. Обязательно рассмотрите следующие, если вы хотите узнать больше.</p> <ul> <li> <span>Введение в карты JavaScript Райана Седдона</span>, HTML5 Rocks</li> <li> <span>Эпизод 3 точки останова: карты JavaScript</span> от команды разработчиков Google</li> <li> <span>Эпизод 2 точки останова: карты SASS</span> от команды разработчиков Google</li> <li> <span>Source Maps wiki</span> о языках, инструментах и статьях об картах.</li> <li> <span>Многоуровневые карты</span> с использованием CoffeeScript и TypeScript Райана Седдона</li> <li><span>Предложение карт версии 3</span></li> </ul> <hr> <h2>Заключение</h2> <p>Надеюсь, что описанное выше использование нескольких компиляторов продемонстрировало потенциал карт. Хотя их функциональность в настоящее время ограничена, мы надеемся, в будущем у нас будет полная возможность отладки, включая доступ к переменным и выражениям.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825602-source-maps-101" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Tools &amp; Tips" href="https://norma-studio.github.io/article5/220825602-source-maps-101" class="tm-article-body__tags-item-link">Tools &amp; Tips</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
32852</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
592</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
