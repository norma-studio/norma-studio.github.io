
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Как создать веб-сервис за считанные минуты... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Как создать веб-сервис за считанные минуты... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Как создать веб-сервис за считанные минуты... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Как создать веб-сервис за считанные минуты... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Дважды в месяц мы возвращаемся к любимым постам наших читателей на протяжении всей истории Nettuts +. Этот учебник был впервые опубликован в июле 2010 года....">
<meta property="og:description" content="Дважды в месяц мы возвращаемся к любимым постам наших читателей на протяжении всей истории Nettuts +. Этот учебник был впервые опубликован в июле 2010 года....">
<meta name="twitter:description" content="Дважды в месяц мы возвращаемся к любимым постам наших читателей на протяжении всей истории Nettuts +. Этот учебник был впервые опубликован в июле 2010 года....">
<meta property="aiturec:description" content="Дважды в месяц мы возвращаемся к любимым постам наших читателей на протяжении всей истории Nettuts +. Этот учебник был впервые опубликован в июле 2010 года....">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/elephantsxml.png">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/elephantsxml.png">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/elephantsxml.png">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/elephantsxml.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/elephantsxml.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty.html" title="Как создать веб-сервис за считанные минуты... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Как создать веб-сервис за считанные минуты... | envatomarket.ru | norma-studio.github.io" title="Как создать веб-сервис за считанные минуты... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/54332343.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty.html" class="tm-user-info__username" title="
В. Бухтеев" aria-label="
В. Бухтеев">
В. Бухтеев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Как создать веб-сервис за считанные минуты...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty" class="tm-article-snippet__hubs-item-link"><span>Web Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/elephantsxml.png">
    <meta itemprop="headline name" content="Как создать веб-сервис за считанные минуты... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Дважды в месяц мы возвращаемся к любимым постам наших читателей на протяжении всей истории Nettuts +. Этот учебник был впервые опубликован в июле 2010 года....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Дважды в месяц мы возвращаемся к любимым постам наших читателей на протяжении всей истории Nettuts +. Этот учебник был впервые опубликован в июле 2010 года....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p><strong>Дважды в месяц мы возвращаемся к любимым постам наших читателей на протяжении всей истории Nettuts +. Этот учебник был впервые опубликован в июле 2010 года.</strong></p><p>Предлагать ваш контент или логику в качестве службы в Интернете - отличная идея. Для начинающих это позволяет вам создавать многочисленные внешние интерфейсы для вашей собственной информации без необходимости постоянного доступа к базам данных (и, таким образом, значительно упрощает масштабирование вашей системы).</p> <p><!--more--></p> <p>Еще более практичным результатом является то, что вы позволяете людям в Интернете играть с вашей информацией и создавать вещи, о которых вы даже не мечтали. Многие компании понимают, что это «краудсорсинговое новшество» - это халява, которую слишком хорошо игнорировать, поэтому вокруг так много отличных API.</p> <blockquote> <p>Предоставление API миру - это совсем другая история. Вам нужно знать, как масштабировать свои серверы, вы должны быть там, чтобы отвечать на вопросы разработчиков, и вам нужно поддерживать хорошую документацию, чтобы люди могли использовать ваш контент. Вам также нужно подумать о хорошей стратегии кэширования, чтобы не допустить взрыва ваших серверов, и вам нужно найти способ ограничить доступ к вашей системе, чтобы люди не злоупотребляли ею. <strong>Или же вы сами?</strong></p> </blockquote> <hr><h2>Введите YQL</h2> <p>Yahoo предлагает людям доступ к своим API-интерфейсам, который называется <span>Yahoo Query Language или YQL. YQL -</span> это язык в стиле SQL, который превращает информацию в Интернете в виртуальные базы данных, к которым могут обращаться конечные пользователи. Поэтому, если вы хотите, например, найти в интернете термин «слон», все, что вам нужно сделать, это использовать следующее утверждение:</p> <pre class="brush: sql noskimlinks noskimwords">select * from search.web where query="elephant"</pre> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/elephantsxml.png" alt="Как создать веб-сервис за считанные минуты..." title="Как создать веб-сервис за считанные минуты..." width="50" height="50"><div> <span>Смотрите результат как XML в вашем браузере.</span></div> </div> <p>Вы отправляете этот оператор конечной точке данных и возвращаете его как XML, JSON или JSON-P. Вы можете запросить дополнительные результаты и отфильтровать их, указав, что вы хотите получить:</p> <pre class="brush: js noskimlinks noskimwords">http://query.yahooapis.com/v1/public/yql?q={yql query}&amp;diagnostics={true|false}&amp;format={json|xml}&amp;callback={function name}</pre> <h4> Мешивать и Сочетать </h4> <p>Все API-интерфейсы Yahoo доступны через этот интерфейс, и вы можете смешивать и сопоставлять сервисы с подвыборами. Например, вы можете запустить инструмент анализа ключевых слов поверх абстрактного веб-поиска, чтобы найти соответствующие ключевые слова. Используя функции <code>unique ()</code>, вы также можете легко удалить ложные срабатывания.</p> <pre class="brush: sql noskimlinks noskimwords">select * from search.termextract where context in (  select abstract from search.web(50) where query="elephant") | unique(field="Result")</pre> <p><span>Смотрите результаты этого более сложного запроса здесь.</span></p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=622/net/uploads/legacy/738_webService/keywords.png" alt="Как создать веб-сервис за считанные минуты..." title="Как создать веб-сервис за считанные минуты..." width="50" height="50"></div> <h4>Консоль </h4> <p>Самый простой способ играть с YQL как потребитель - это использовать консоль по адресу <span>http://developer.yahoo.com/yql/console/</span>. Там вы можете нажать на разные таблицы, чтобы увидеть демонстрационный запрос о том, как его использовать, и, если вы нажмете ссылку <code>desc</code>, вы узнаете, какие опции доступны для вас.</p> <div class="tutorial_image"> <span><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/yqlconsole.png" alt="Как создать веб-сервис за считанные минуты..." title="Как создать веб-сервис за считанные минуты..." width="50" height="50"></span> <div><span>http://Developer.Yahoo.com/YQL/Console/</span></div> </div> <hr><h2>YQL ограничения</h2> <p>Использование YQL имеет несколько ограничений, которые <span>описаны в документации</span>. По сути, вы можете получить доступ к конечной точке открытых данных 1000 раз в час по IP. Если вы аутентифицируете  (проверка подлинности) приложение с помощью oAuth, вы получаете 10000 обращений в час. Каждое приложение допускается 100 000 просмотров в день.</p> <p>Это и <span>кеширование результатов, которое делает YQL автоматически,</span> означает, что данные запрашиваются только при их изменении. Это означает, что YQL является своего рода брандмауэром для запросов к данным, которые люди предлагают вместе с ним.</p> <blockquote> <p>Будьте осторожны, используя jQuery "$ .getJSON" и анонимную функцию в качестве обратного вызова. Это может нарушить кеширующие способности YQL и снизить производительность. </p> </blockquote> <hr><h2>Создание веб-сервисов с открытыми таблицами</h2> <p>Для вас как для провайдера действительно здорово то, что YQL открыт для других провайдеров данных. </p> <blockquote> <p>Если вы хотите предложить API всему миру (или просто иметь его для себя), вы можете легко сделать это, написав «открытую таблицу», которая представляет собой XML-схему, указывающую на веб-сервис. </p> </blockquote> <p>Люди часто этим занимаются, а это значит, что если вы нажмете ссылку «Показать таблицы сообщества» в консоли YQL, вы обнаружите, что теперь есть 812 вместо 118 таблиц, с которыми можно играть (на сегодняшний день - завтра, вероятно, будет больше).</p> <p>Чтобы перевести свой сервис на YQL и предложить его всему миру, достаточно указать на него YQL. Давайте посмотрим на простой пример:</p> <hr><h2>Реальное приложение: Craigslist как API</h2> <p>У сайта бесплатных объявлений <span>Craigslist</span> нет общедоступного API - и это действительно позор. Однако, выполнив поиск по сайту, вы обнаружите, что результаты поиска имеют выход RSS - что, по крайней мере, указывает на функциональность API. Например, когда <span>я ищу «schwinn mountain bike» в Сан-Франциско</span>, URL-адрес поиска будет:</p> <pre class="brush: js noskimlinks noskimwords">http://sfbay.craigslist.co.uk/search/sss?format=rss&amp;query=schwinn+mountain+bike</pre> <p>где переменными являются местоположение, тип продукта, который вы ищете (это раздел сайта) и запрос, который вы искали (в этом случае я обернул параметры в фигурные брекеты):</p> <pre class="brush: js noskimlinks noskimwords">http://{location}.craigslist.co.uk/search/{type}?format=rss&amp;query=1</pre> <p>Найдя такой шаблон, вы можете начать писать свою открытую таблицу:</p> <pre class="brush: html noskimlinks noskimwords">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;table xmlns="http://query.yahooapis.com/v1/schema/table.xsd"&gt;  &lt;meta&gt;    &lt;author&gt;Yahoo! Inc.&lt;/author&gt;    &lt;documentationURL&gt;http://craigslist.org/&lt;/documentationURL&gt;    &lt;sampleQuery&gt;select * from {table} where     location="sfbay" and type="sss" and    query="schwinn mountain bike"&lt;/sampleQuery&gt;    &lt;description&gt;Searches Craigslist.org&lt;/description&gt;  &lt;/meta&gt;  &lt;bindings&gt;    &lt;select itemPath="" produces="XML"&gt;      &lt;urls&gt;        &lt;url&gt;http://{location}.craigslist.org/search/{type}?format=rss&lt;/url&gt;      &lt;/urls&gt;      &lt;inputs&gt;        &lt;key id="location" type="xs:string" paramType="path" required="true" /&gt;        &lt;key id="type" type="xs:string" paramType="path" required="true" /&gt;        &lt;key id="query" type="xs:string" paramType="query" required="true" /&gt;      &lt;/inputs&gt;    &lt;/select&gt;  &lt;/bindings&gt;&lt;/table&gt;</pre> <p>Чтобы получить полное описание того, что все это значит, вы можете <span>просмотреть документацию по YQL для открытых таблиц</span>, но вот краткое руководство:</p> <ol><li>Вы начинаете с пролога XML и элемента <code>таблицы</code>, указывающего на схему для открытых таблиц YQL. Это позволяет YQL проверять вашу таблицу.</li> <li>Вы добавляете <code>мета</code>элемент с информацией о вашей таблице: автор, URL вашей документации и пример запроса. Пример запроса является наиболее важным здесь, поскольку именно это будет отображаться в окне запроса консоли YQL, когда люди нажимают на имя вашей таблицы. Это первый шаг к использованию вашего API - так что стоит потратить время. Покажите параметры, которые вы предлагаете и как их использовать. Часть <code>{table}</code> будет заменена именем таблицы.</li> <li>Элемент <code>bindings</code> показывает, с чем связана таблица и какие ключи ожидаются в запросе.</li> <li>Вы определяете <code>путь</code> и <code>тип</code> выходных данных в элементе <code>select </code>- значения для этого типа - XML ​​или JSON, и этот путь позволяет вам возвращать только определенную часть данных, возвращаемых с URL-адреса, к которому вы обращаетесь.</li> <li>В разделе <code>urls</code> -адресов вы определяете конечные точки URL-адреса вашего сервиса. В нашем случае это параметризованный URL из предыдущего. YQL заменяет элементы в фигурных скобках информацией, предоставленной пользователем YQL.</li> <li>В разделе <code>inputs</code> section (входов) вы определяете все возможные ключи, которые конечные пользователи могут или должны предоставить. Каждый <code>ключ</code> имеет <code>идентификатор</code>, paramType, который является либо <code>путем</code>, если параметр является частью пути URL, либо <code>запросом</code>, если он должен быть добавлен к URL в качестве параметра. Вы определяете, какие ключи являются обязательными, устанавливая для <code>обязательного</code> атрибута значение <code>true</code>.</li> </ol><p>И это все! Собрав этот документ XML, вы сделали первый из трех шагов, чтобы ваши веб-сервисы стали частью инфраструктуры YQL. Следующий шаг - сообщить YQL, где находится определение вашего веб-сервиса. Просто загрузите файл на сервер, например, <span>http://isithackday.com/craigslist.search.xml</span>. Затем вы указываете YQL на сервис, применяя команду <code>use</code>:</p> <pre class="brush: sql noskimlinks noskimwords">use "http://isithackday.com/craigslist.search.xml" as cl;select * from cl where location"sfbay" and type="sss" and query="playstation"</pre> <p>Вы можете <span>попробовать это</span>, и вы увидите, что теперь вы найдете PlayStation для продажи в районе залива Сан-Франциско. Аккуратно, не правда ли?</p> <hr><h2>Логика как услуга</h2> <p>Иногда у вас вообще нет веб-службы, и все, что вы хотите сделать, это предложить миру определенную логику. Я обнаружил, что делаю то же самое на днях. То, что я хотел знать, - это расстояние между двумя местами на Земле. Для этого мне нужно было найти широту и долготу мест, а затем сделать очень умные вычисления. Поскольку я ленивый человек, я построил на работе, которую другие люди сделали для меня. Чтобы найти широту и долготу определенного места на Земле, вы можете использовать <span>API Yahoo Geo</span>. В YQL вы можете сделать это с:</p> <pre class="brush: sql noskimlinks noskimwords">select * from geo.places(1) where text="paris"</pre> <p><span>Попробуйте это сами.</span></p> <p>Чтобы найти функцию, которая надежно рассчитывает расстояние между двумя точками на Земле, я потратил несколько минут на Google и обнаружил <span>реализацию Криса Венесса «Обратного решения геодезических Винсенти на эллипсоиде».</span></p> <p>YQL предлагает <span>исполняемый блок внутри открытых таблиц</span>, который содержит серверный JavaScript. Вместо того, чтобы просто возвращать данные из службы, вы можете использовать это для преобразования информации перед ее возвратом. Вы также можете выполнять вызовы REST для других сервисов и для самого YQL в этих блоках JavaScript. И вот что я сделал:</p> <pre class="brush: html noskimlinks noskimwords">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;table xmlns="http://query.yahooapis.com/v1/schema/table.xsd"&gt;  &lt;meta&gt;    &lt;sampleQuery&gt;      select * from {table} where place1="london" and place2="paris"    &lt;/sampleQuery&gt;    &lt;author&gt;Christian Heilmann&lt;/author&gt;    &lt;documentationURL&gt;      http://isithackday.com/hacks/geo/distance/    &lt;/documentationURL&gt;      &lt;description&gt;      Gives you the distance of two places on earth in miles or kilometers    &lt;/description&gt;  &lt;/meta&gt;  &lt;bindings&gt;    &lt;select itemPath="" produces="XML"&gt;      &lt;inputs&gt;        &lt;key id="place1" type="xs:string" paramType="variable"              required="true" /&gt;        &lt;key id="place2" type="xs:string" paramType="variable"              required="true" /&gt;      &lt;/inputs&gt;      &lt;execute&gt;&lt;![CDATA[        default xml namespace = "http://where.yahooapis.com/v1/schema.rng";        var res = y.query("select * from geo.places(1) where text="" +                           place1 + """).results;        var res2 = y.query("select * from geo.places(1) where text="" +                            place2 + """).results;                         var lat1 = res.place.centroid.latitude;        var lon1 = res.place.centroid.longitude;        var lat2 = res2.place.centroid.latitude;        var lon2 = res2.place.centroid.longitude;        var d = distVincenty(lat1,lon1,lat2,lon2);        function distVincenty(lat1, lon1, lat2, lon2) {          /* ... vincenty function... */        var d = d / 1000;        var miles = Math.round(d/1.609344);        var kilometers = Math.round(d);        response.object = &lt;distance&gt;                            &lt;miles&gt;{miles}&lt;/miles&gt;                            &lt;kilometers&gt;{kilometers}&lt;/kilometers&gt;                            {res.place}                            {res2.place}                          &lt;/distance&gt;;      ]]&gt;&lt;/execute&gt;    &lt;/select&gt;  &lt;/bindings&gt;&lt;/table&gt;</pre> <ol><li><code>Элемент meta</code> такой же, как и любая другая открытая таблица.</li> <li>В привязках (<code>bindingsу</code>) нас нет URL для указания, поэтому мы можем его пропустить. Однако теперь мы добавляем элемент <code>execute</code>, который гарантирует, что определенные <code>ключи</code> будут отправлены в JavaScript, определенный в этом блоке.</li> <li>Поскольку Geo API в Yahoo возвращает XML с пространством имен, мы должны указать JavaScript, какое это пространство имен.</li> <li>Я выполняю два запроса YQL из сценария, используя метод <code>y.query ()</code>, используя параметры <code>place1</code> и <code>place2</code>, чтобы получить местоположения этих двух мест. <code>.Results</code> после вызова метода гарантирует, что я получу результаты. Я храню их в <code>res</code> и <code>res2</code> соответственно.</li> <li>Затем я получаю широту и долготу для каждого из результатов и вызываю метод <code>distVincenty ()</code>.</li> <li>Я делю результат на 1000, чтобы получить километры, и умножаю результат на правильное число, чтобы получить мили.</li> <li>Я заканчиваю часть скрипта, определяя <code>response.object</code>, который будет возвращать YQL. Поскольку это серверный JavaScript с полной поддержкой <span>E4X</span>, все, что мне нужно написать, это XML, который я хочу вернуть с переменными JavaScript, которые я хочу отобразить в фигурных скобках.</li> </ol><p>спользуя этот сервис и добавив немного интерфейса, теперь я могу легко <span>показать расстояние между Бэтменом и Робином</span>.</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/distance.png" alt="Как создать веб-сервис за считанные минуты..." title="Как создать веб-сервис за считанные минуты..." width="50" height="50"></div> <p>Используя серверный JavaScript, вы можете не только конвертировать данные, но и легко предлагать услугу, которая состоит только из вычислений - так же, как это делает Google Calculator.</p> <hr><h2>Превращение редактируемого набора данных в веб-сервис</h2> <p>Что вы действительно хотите сделать в большинстве случаев, так это позволить людям легко редактировать данные, которые управляют веб-сервисом. Обычно мы создавали CMS, обучали ее и тратили много времени на передачу данных из CMS в Интернет для доступа к ним через YQL. Это может быть сделано проще, хотя.</p> <p>Несколько месяцев назад я выпустил веб-сайт <span>winterolympicsmedals.com</span>, который показывает вам всю информацию о зимних Олимпийских играх за эти годы.</p> <div class="tutorial_image"> <span><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/medals.png" alt="Как создать веб-сервис за считанные минуты..." title="Как создать веб-сервис за считанные минуты..." width="50" height="50"></span> <div><span>winterolympicsmedals.com</span></div> </div> <p>Данные, которые управляют веб-сайтом, были опубликованы The Guardian в Великобритании бесплатно в их <span>блоге данных</span> в виде электронной таблицы Excel. Чтобы превратить это в редактируемый набор данных, все, что мне нужно было сделать, это сохранить копию в моем собственном хранилище Документов Google. Вы можете получить эти данные <span>здесь</span>. Документы Google позволяют публиковать таблицы в Интернете. Используя «CSV» в качестве выходного формата, я получаю URL для доступа в YQL:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=675/net/uploads/legacy/738_webService/sharing.png" alt="Как создать веб-сервис за считанные минуты..." title="Как создать веб-сервис за считанные минуты..." width="50" height="50"></div> <p>А используя YQL, вы можете использовать CSV в качестве источника данных:</p> <pre class="brush: sql noskimlinks noskimwords">select * from csv whereurl="http://spreadsheets.google.com/pub?key=0AhphLklK1Ve4dHBXRGtJWk1abGVRYVJFZjQ5M3YxSnc &amp;hl=en&amp;output=csv"</pre> <p>Смотрите<span> результат этого в вашем собственном браузере</span>.</p> <p>Как видите, таблица CSV автоматически добавляет строки и столбцы в вывод XML. Чтобы сделать этот веб-сервис более полезным и фильтруемым, вы можете предоставить список столбцов для переименования результирующих элементов XML:</p> <pre class="brush: sql noskimlinks noskimwords">select * from csv where url="http://spreadsheets.google.com/pub?key=0AhphLklK1Ve4dHBXRGtJWk1abGVRYVJFZjQ5M3YxSnc&amp;hl=en&amp;output=csv" andcolumns="year,city,sport,discipline,country,event,gender,type"</pre> <p><span>Смотрите переименованные столбцы в вашем браузере.</span></p> <p>Это позволяет вам фильтровать информацию, что я и сделал для создания winterolympicsmedals.com. Например, чтобы получить все золотые медали 1924 года, вы должны сделать следующее:</p> <pre class="brush: sql noskimlinks noskimwords">select * from csv where url="http://spreadsheets.google.com/pub?key=0AhphLklK1Ve4dHBXRGtJWk1abGVRYVJFZjQ5M3YxSnc&amp;hl=en&amp;output=csv" andcolumns="year,city,sport,discipline,country,event,gender,type"and year="1924" and type="Gold"&lt;/code&gt;</pre> <p><span>Смотрите золотые медали 1924 года в своем браузере.</span></p> <p>Таким образом, вы можете использовать бесплатное хранилище Google и инфраструктуру бесплатных веб-сервисов для преобразования бесплатных данных в веб-сервис. Все, что вам нужно сделать, это создать хороший интерфейс для него.</p> <hr><h2>Добавление вашего сервиса в таблицы сообщества YQL</h2> <p>После того, как вы определили свою открытую таблицу, вы можете использовать ее, разместив на своем собственном сервере, или вы можете полностью ее добавить, добавив ее в хранилище таблиц YQL. Для этого все, что вам нужно, - это добавить его в репозиторий таблиц YQL на GitHub, который можно найти по адресу <span>http://github.com/yql/yql-tables/</span>.Обширную справку по использованию Git и GitHub можно найти в <span>их разделе справки</span>.</p> <p>Если вы отправите запрос команде YQL на извлечение из вашего репозитория, они проверит вашу таблицу, и, если все в порядке, они перенесут ее на <span>http://datatables.org/</span>, который является ресурсом для таблица сообществ в консоли YQL.</p> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/net/uploads/legacy/738_webService/communitytables.png" class="lazy07" alt="Как создать веб-сервис за считанные минуты..." title="Как создать веб-сервис за считанные минуты..." width="50" height="50"><div><span>http://datatables.org/</span></div> </div> <p>Это не только делает жизнь других разработчиков более интересной, но и очень хорошей рекламой для вас. Вместо того, чтобы надеяться найти разработчиков, которые будут играть с вашими данными, вы переносите данные туда, где разработчики уже ищут их.</p> <hr><h2>Продвинутые темы YQL</h2> <p>Это введение может только очистить поверхность от того, что вы можете сделать с YQL. Если вы посмотрите документацию, то обнаружите, что в дополнение к этим «читаемым» открытым таблицам вы также можете настроить некоторые службы, в которые можно записывать данные, а YQL также предлагает облачное хранилище вашей информации. Проверьте <span>обширную документацию по YQL</span> для получения дополнительной информации.</p> <hr><h2>краткое изложение</h2> <p>Объединяя открытые системы, такие как YQL и Google Docs, и некоторые знания XML и JavaScript, вы можете предложить пользователям веб-сервис за считанные минуты. В любом случае, переход вашей разработки от доступа к локальным файлам и базам данных к доступу к службам делает ее гораздо более универсальной и позволяет вам в любое время переключать поставщиков. С YQL вы можете погрузить свои пальцы в воду веб-сервисов, не утонув, так как большая часть тяжелой работы для вас уже проделана. Спасибо за прочтение! </p> <hr><h4>Об авторе  </h4> <p>Кристиан Хейлманн - международный евангелист-разработчик, работающий на Mozilla.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825690-kak-sozdat-veb-servis-za-schitannye-minuty" class="tm-article-body__tags-item-link">Web Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
32790</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
346</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
