
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Создаём потрясающий jQuery калькулятор
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Создаём потрясающий jQuery калькулятор
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Создаём потрясающий jQuery калькулятор
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Создаём потрясающий jQuery калькулятор
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Здорово конечно иметь нож для открывания писем рядом с ящиком для почты, рожок для обуви рядом с вашими ботинками и фонарик рядом с тумбой. Точно также и с калькулятором, здорово иметь его под рукой когда необходимо произвести какие-либо математические исчисления. В данном туториале мы рассмотрим как установить такой калькулятор на ваш сайт....">
<meta property="og:description" content="Здорово конечно иметь нож для открывания писем рядом с ящиком для почты, рожок для обуви рядом с вашими ботинками и фонарик рядом с тумбой. Точно также и с калькулятором, здорово иметь его под рукой когда необходимо произвести какие-либо математические исчисления. В данном туториале мы рассмотрим как установить такой калькулятор на ваш сайт....">
<meta name="twitter:description" content="Здорово конечно иметь нож для открывания писем рядом с ящиком для почты, рожок для обуви рядом с вашими ботинками и фонарик рядом с тумбой. Точно также и с калькулятором, здорово иметь его под рукой когда необходимо произвести какие-либо математические исчисления. В данном туториале мы рассмотрим как установить такой калькулятор на ваш сайт....">
<meta property="aiturec:description" content="Здорово конечно иметь нож для открывания писем рядом с ящиком для почты, рожок для обуви рядом с вашими ботинками и фонарик рядом с тумбой. Точно также и с калькулятором, здорово иметь его под рукой когда необходимо произвести какие-либо математические исчисления. В данном туториале мы рассмотрим как установить такой калькулятор на ваш сайт....">
<meta property="og:image" content="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/8813/images/8813_7c93d81bf5c306c2963c69da889ccd20.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/8813/images/8813_7c93d81bf5c306c2963c69da889ccd20.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/8813/images/8813_7c93d81bf5c306c2963c69da889ccd20.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/8813/images/8813_7c93d81bf5c306c2963c69da889ccd20.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/8813/images/8813_7c93d81bf5c306c2963c69da889ccd20.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator.html" title="Создаём потрясающий jQuery калькулятор
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Создаём потрясающий jQuery калькулятор
... | envatomarket.ru | norma-studio.github.io" title="Создаём потрясающий jQuery калькулятор
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/e_09402063.jpg" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator.html" class="tm-user-info__username" title="
А. Карпов" aria-label="
А. Карпов">
А. Карпов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Создаём потрясающий jQuery калькулятор
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="JavaScript" href="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator" class="tm-article-snippet__hubs-item-link"><span>JavaScript</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/8813/images/8813_7c93d81bf5c306c2963c69da889ccd20.png">
    <meta itemprop="headline name" content="Создаём потрясающий jQuery калькулятор
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Здорово конечно иметь нож для открывания писем рядом с ящиком для почты, рожок для обуви рядом с вашими ботинками и фонарик рядом с тумбой. Точно также и с калькулятором, здорово иметь его под рукой когда необходимо произвести какие-либо математические исчисления. В данном туториале мы рассмотрим как установить такой калькулятор на ваш сайт....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Здорово конечно иметь нож для открывания писем рядом с ящиком для почты, рожок для обуви рядом с вашими ботинками и фонарик рядом с тумбой. Точно также и с калькулятором, здорово иметь его под рукой когда необходимо произвести какие-либо математические исчисления. В данном туториале мы рассмотрим как установить такой калькулятор на ваш сайт....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Здорово конечно иметь нож для открывания писем рядом с ящиком для почты, рожок для обуви рядом с вашими ботинками и фонарик рядом с тумбой. Точно также и с калькулятором, здорово иметь его под рукой когда необходимо произвести какие-либо математические исчисления. В данном туториале мы рассмотрим как установить такой калькулятор на ваш сайт.<!--more--></p><hr><h2>Обзор пользовательского интерфейса</h2> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/8813/images/8813_7c93d81bf5c306c2963c69da889ccd20.png" class="lazy07" alt="Создаём потрясающий jQuery калькулятор..." title="Создаём потрясающий jQuery калькулятор..." width="50" height="50"><br></figure><p>Кнопки с числами, с 1 по 9, пара функций и большая кнопка со знаком равно. Не это-ли калькулятор? Разработка подобного не должна составить труда. Любой язык программирования может справится с подобной задачей. Конечно, но даже что-то настолько элементарное как калькулятор может оказаться непростым в отношении того <strong>как</strong> это всё должно работать, а также дизайна.</p> <p>В <span>скринкасте</span> предоставленном в этой статье фокус будет нацелен на данные проблемы и меньше времени будет уделяться программированию. Тем не менее текстовый контент будет больше посвящён написанию кода. Как бы там ни было, вот краткий обзор некоторых, небольших деталей пользовательского интерфейса:</p> <ul><li>Когда калькулятор загружается, 0 (ноль) показан на экране. Нажатие цифры 2 не отобразит нам 02, это будет просто 2.</li> <li>Когда пользователь нажимает какое-либо арифметическое действие, число показанное на данный момент на экране остаётся на нём, как первое число калькуляции. Когда нажимается кнопка с другим числом, число на экране заменяется.</li> <li>Если нажимается кнопка арифметической операции и после этого <strong>другая</strong> кнопка арифметической операции, будет использована последняя.</li> <li>После того как выполнится операция, есть два возможных сценария. A) Нажимается кнопка с новым числом. Данный сценарий абсолютно перезагрузит калькулятор и начнёт с нового числа. Б) нажимается кнопка арифметической операции, на экране остаётся значение результат, как первое число, позволяя выполнить следующую калькуляцию с полученным результатом.</li> <li>Кнопка очистки должна работать по своему предназначению - полностью перезагружать калькулятор.</li> <li>Визуальная часть должна выглядеть хорошо, но гораздо важнее функционал, он должен соответствовать стандартному калькулятору установленному на миллионах компьютерах по всему миру/</li> </ul><p>Этот список может продолжаться и дальше, я хотел указать на тот факт, что даже самый простой интерфейс может потребовать массу раздумий.</p> <hr><h2>HTML разметка</h2> <p>Ничего удивительного в этой части. Нам нужен контейнер для калькулятора, нам нужен экран и нам нужен набор кнопок. &lt;div&gt;, &lt;input&gt; и &lt;a&gt; - как раз то что нам подойдёт. Всю работу здесь будет делать JavaScript, не стоит беспокоиться об отказоустойчивости (graceful degradation). Если JavaScript отключён, калькулятор не будет работать, так что мы его полностью спрячем. Почему же нам необходим &lt;input&gt;, если калькулятор даже не является формой - &lt;form&gt;? Поля ввода (Input) позволяют ввести текст, что нам как раз и нужно. С ними будет проще масштабировать наш продукт и у них есть аттрибут "value", который легко задать и получить.</p> <p>Вот пример всего HTML кода:</p> <pre class="brush: html noskimlinks noskimwords">&lt;div id="calculator"&gt;    &lt;input type="text" id="display" /&gt;  &lt;a class="num-button seven" href="#"&gt;7&lt;/a&gt; &lt;a class="num-button eight" href="#"&gt;8&lt;/a&gt; &lt;a class="num-button nine" href="#"&gt;9&lt;/a&gt;  &lt;a class="num-button four" href="#"&gt;4&lt;/a&gt; &lt;a class="num-button five" href="#"&gt;5&lt;/a&gt; &lt;a class="num-button six" href="#"&gt;6&lt;/a&gt;  &lt;a class="num-button one" href="#"&gt;1&lt;/a&gt; &lt;a class="num-button two" href="#"&gt;2&lt;/a&gt; &lt;a class="num-button three" href="#"&gt;3&lt;/a&gt;  &lt;a class="num-button zero" href="#"&gt;0&lt;/a&gt; &lt;a class="num-button dot" href="#"&gt;.&lt;/a&gt; &lt;a class="clear-button clear" href="#"&gt;C&lt;/a&gt;  &lt;a class="function-button add" href="#"&gt; &lt;/a&gt; &lt;a class="function-button subtract" href="#"&gt;&amp;ndash;&lt;/a&gt; &lt;a class="function-button multiply" href="#"&gt;x&lt;/a&gt; &lt;a class="function-button divide" href="#"&gt;/&lt;/a&gt;  &lt;a class="equals-button" href="#"&gt;=&lt;/a&gt;  &lt;/div&gt;</pre> <hr><h2>Полный скринкаст</h2> <hr><h2>Создаём изображения</h2> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=500/legacy-premium-tutorials/posts/8813/images/8813_fed72c177e7c16aa64bf8cc5fd626690.png" alt="Создаём потрясающий jQuery калькулятор..." title="Создаём потрясающий jQuery калькулятор..." width="50" height="50"><br></figure><p>Нам понадобится всего лишь несколько. Фон всего калькулятора, кнопки со стилями "number", кнопка со стилями "function" и знак равенства со стилями "equals". Каждое число и кнопка арифметической функции не должны обладать собственным изображением, мы просто поместим на них текст. Думаю "Arial Black" представляет из себя неплохой жирный текст, как раз для калькулятора.</p> <p>Позже когда мы создадим кнопки закрыть и открыть, мы используем "mini" стили и графику для кнопки "close".</p> <hr><h2>Добавление css стилей</h2> <p>Опять же тут ничего особенного. Абсолютное позиционирование отвечают за расположение большинства элементов. Мы установили <tt>position: relative</tt> калькулятору (div), после чего мы можем перемещать элементы, как захотим.</p> <p>Вот пример данного css кода: </p><pre class="brush: css noskimlinks noskimwords">*{ margin: 0; padding: 0; } body{ font: 25px "Arial Black", Arial, Sans-Serif; }  #page-wrap    { width: 500px; margin: 25px auto; }  h1{ font-size: 22px; } p{ font: 14px Arial, Sans-Serif; } a{ color: black; text-decoration: none; outline: none; }  #calculator{ width: 266px; height: 400px; background: url(../images/calc-bg.png) no-repeat;    position: relative; display: none; }  #display { background: none; border: none; position: absolute;    top: 15px; left: 15px; width: 197px; text-align: right;     font: 35px "Arial Black", Arial, Sans-Serif; }  .num-button{ width: 44px; height: 41px; padding: 3px 0 0 0; text-align: center;           background: url(../images/button-bg.png) no-repeat;    position: absolute; display: block; } .clear-button{ width: 44px; height: 41px; padding: 3px 0 0 0; text-align: center;             background: url(../images/button-bg.png) no-repeat;    position: absolute; display: block; } .function-button    { width: 44px; height: 41px; padding: 3px 0 0 0; text-align: center;             background: url(../images/function-button-bg.png) no-repeat;    position: absolute; display: block; } .function-button:active, .pendingFunction    { background-position: bottom left; }  .seven{ top: 86px; left: 15px; } .eight{ top: 86px; left: 66px; } .nine{ top: 86px; left: 118px; }  /* ... the rest of the buttons ... */  .multiply{ top: 188px; left: 169px; } .divide{ top: 237px; left: 169px; }  .equals-button{ width: 206px; height: 42px; text-align: center; top: 293px; left: 15px;    background: url(../images/equals-bg.png) no-repeat; position: absolute;    display: block; }</pre> <hr><h2>Настраиваем среду jQuery</h2> <p>В HTML нам потребуется сделать некоторые действия, для того чтобы начать писать наш собственный jQuery JavaScript. А именно загрузить jQuery и jQuery UI библиотеки и добавить JavaScript файл, в котором скоро окажутся наши скрипты.</p> <pre class="brush: html noskimlinks noskimwords">&lt;script src="http://www.google.com/jsapi" type="text/javascript"&gt;&lt;/script&gt; &lt;script type="text/javascript"&gt;     google.load("jquery", "1.3.1"); &lt;/script&gt; &lt;script type="text/javascript" src="js/jquery-ui-personalized-1.6rc6.min.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="js/example.js"&gt;&lt;/script&gt;</pre> <h4>Настройка</h4> <p>Давайте создадим основу. Нам потребуется классическое "когда DOM будет готов (ready)" выражение для начала работы. Это распространённое явление для JavaScript так как мы не хотим начать взаимодействие с элементами, до того как они были загружены на странице. Далее мы укажем основные события, о которых нам известно. У нас есть событие click и функция для каждой кнопки, каждого типа. Мы также вызываем функцию jQuery UI, чтобы можно было перетащить (draggable) наш калькулятор, также как небольшая функция, которая позволяет нам переключать видимость.</p> <pre class="brush: javascript noskimlinks noskimwords">$(function(){  $(".num-button").click(function(){ // do stuff });  $(".clear-button").click(function(){ // do stuff });  $(".function-button").click(function(){ // do stuff });  $(".equals-button").click(function(){      // do stuff });  $("#calculator").draggable();  $("#opener, #closer").click(function(){ $("#opener").toggle(); $("#calculator").toggle(); });  });</pre> <hr><h2>Используем .data() для переменных, среди которых нет глобальных</h2> <p>Переменные в JavaScript находятся в локальной области видимости для тех функций где они были созданы. Когда нам нужно передать одну переменную другой функции, мы передаём её в качестве параметра новой функции. Это всё хорошо и здорово, но у нас есть семь функций и всем этим функциям потребуются большинство из этих переменных. Может быть не совсем удобно передавать все их каждый раз. Что нам на самом деле нужно так это глобальные переменные, но как вы возможно знаете это не совсем хорошая практика, что-то там о пространстве имён.</p> <p>В любом случае jQuery обладает более продвинутым методом - функцией <tt>data()</tt>. Мы можем прикрепить "data" (данные) к jQuery объекту и данные будут преследовать этот объект куда бы он не отправился. Также как и аттрибут, только вы можете видеть его в DOM. Это, своего рода, подобие глобальных переменных и это также просто использовать. Вот кусочки данных, которые мы будем использовать:</p> <ul><li>ValueOne - первое значение в арифметической операции</li> <li>ValueOneLocked - это-ли то самое первое число, готовое к использованию?</li> <li>ValueTwo - следующее число в операции</li> <li>ValueTwoLocked - это-ли то самое второе число, готовое к использованию?</li> <li>isPendingFunction - выбрана-ли функция, тип арифметической операции?</li> <li>thePendingFunction - какая это функция?</li> <li>fromPrevious - была-ли выполнена калькуляция?</li> </ul><p>Мы собираемся добавить эти кусочки данных к полю ввода (input) #display, что будет своего рода мозгами калькулятора. Имеет смысл. Мы должны задать значения по умолчанию для всех кусочков данных, но давайте обдумаем один момент. Мы можем сделать это с помощью основной функции, но давайте поступим умнее и абстрагируем данный функционал в отдельную функцию. Будет несколько различных сценариев когда нам нужно сбросить значение, так что давайте создадим функцию под названием <tt>resetCalculator</tt> для этого. Потом мы можем вызвать эту функцию где угодно. Давайте также принимать число в качестве параметра и добавлять данное значение в калькулятор, сбрасывая предыдущее значение. Когда калькулятор загрузится, значение в поле будет равно нулю, но после определённой функции, мы сбросим значение снова, сбросим до окончательного значения калькулятора.</p> <pre class="brush: javascript noskimlinks noskimwords">function resetCalculator(curValue) { $("#display").val(curValue); $(".function-button").removeClass("pendingFunction"); $("#display").data("isPendingFunction", false); $("#display").data("thePendingFunction", ""); $("#display").data("valueOneLocked", false); $("#display").data("valueTwoLocked", false); $("#display").data("valueOne", curValue); $("#display").data("valueTwo", 0); $("#display").data("fromPrevious", false); }</pre> <hr><h2>Когда вы нажимаете на число...</h2> <p>В итоге получается, что когда пользователь нажимает по кнопке с числом, за обработку данного события отвечает самый сложный участок кода. Калькулятор обладает четырьмя состояниями (states) и стоит ожидать различного поведения нажатия кнопки числа, в зависимости от одного из этих состояний. Ниже вы увидите список состояний:</p> <ul><li>А) Нажав на кнопку с числом в абсолютно новом состоянии (на экране показан ноль) или когда оба числа до сих пор зафиксированны.</li> <li>Б) Нажатие на кнопку с числом, после того как только что была выбрана функция арифметической операции.</li> <li>В) Нажатие на кнопку с числом, после того как была выбрана функция арифметической операции, а также дополнительные числа были введены.</li> <li>Г) Нажатие на кнопку с числом, после того как была произведена калькуляция.</li> </ul><p>Поведение при этом должно быть следующим:</p> <ul><li>А) Добавить новое число к тому что уже находится на экране. Если это ноль, заменить его.</li> <li>Б) Зафиксировать первое число, заменить значение на экране данным числом.</li> <li>В) Добавить новое число к тому что уже имеется на экране.</li> <li>Г) Сбросить значение калькулятора, так чтобы оно было равно этому числу.</li> </ul><p>И вот как выглядит код:</p> <pre class="brush: javascript noskimlinks noskimwords">$(".num-button").click(function(){  if ($("#display").data("fromPrevious") == true) {  resetCalculator($(this).text());  } else if (($("#display").data("isPendingFunction") == true) &amp;&amp; ($("#display").data("valueOneLocked") == false)) {  $("#display").data("valueOne", $("#display").val()); $("#display").data("valueOneLocked", true);  $("#display").val($(this).text()); $("#display").data("valueTwo", $("#display").val()); $("#display").data("valueTwoLocked", true);  // Clicking a number AGAIN, after first number locked and already value for second number } else if (($("#display").data("isPendingFunction") == true) &amp;&amp; ($("#display").data("valueOneLocked") == true)) {  var curValue = $("#display").val(); var toAdd = $(this).text();  var newValue = curValue   toAdd;  $("#display").val(newValue);  $("#display").data("valueTwo", $("#display").val()); $("#display").data("valueTwoLocked", true);  // Clicking on a number fresh } else {  var curValue = $("#display").val(); if (curValue == "0") { curValue = ""; }  var toAdd = $(this).text();  var newValue = curValue   toAdd;  $("#display").val(newValue);  }  });</pre> <p>С кнопкой выполнения арифметической операции всё гораздо проще. Когда пользователь её нажимает, первое число фиксируется, тем самым кнопки с числами будут знать, что пришло время добавить следующее число. Есть одно важное замечание - что если кнопка арифметической операции нажимается сразу после того как была выполнена калькуляция. В этом случае, первое число должно быть зафиксировано как финальное значение и уже быть готовым принимать следующее число. Таким образом мы позволим выполнять калькуляции цепочкой, что является довольно полезным и правильным решением.</p> <p>Когда произойдёт нажатие все кнопки арифметических функций очищаются специальным классом "pendingFunction", после чего данный класс применяется к определённому нажатию. Это позволяет нам с помощью CSS контролировать положение фона, а также даёт визуальное представление, какая функция активна в данный момент.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/8813/images/8813_04445ec6895562ddbca132c2d681adb0.png" class="lazy07" alt="Создаём потрясающий jQuery калькулятор..." title="Создаём потрясающий jQuery калькулятор..." width="50" height="50"><br></figure><pre class="brush: javascript noskimlinks noskimwords">$(".function-button").click(function(){  if ($("#display").data("fromPrevious") == true) { resetCalculator($("#display").val()); $("#display").data("valueOneLocked", false); $("#display").data("fromPrevious", false) }  // Let it be known that a function has been selected var pendingFunction = $(this).text(); $("#display").data("isPendingFunction", true); $("#display").data("thePendingFunction", pendingFunction);  // Visually represent the current function $(".function-button").removeClass("pendingFunction"); $(this).addClass("pendingFunction"); });</pre> <hr><h2>И ответ таков...</h2> <p>Функция для кнопки равно тоже довольно проста. Перовое что стоит проверить, так это в состоянии мы или нет производить вычисление, калькуляцию. Если оба числа зафиксированны. В этом случае нам необходимо провести небольшие математические вычисления, после чего установить финальное значение для калькулятора (и установить "fromPrevious" равное true, тем самым нам будет известно текущее состояние в котором мы находимся).</p> <p>Если числа не зафиксированы... мы ничего не делаем.</p> <pre class="brush: javascript noskimlinks noskimwords">$(".equals-button").click(function(){  if (($("#display").data("valueOneLocked") == true) &amp;&amp; ($("#display").data("valueTwoLocked") == true)) {  if ($("#display").data("thePendingFunction") == " ") { var finalValue = parseFloat($("#display").data("valueOne"))   parseFloat($("#display").data("valueTwo")); } else if ($("#display").data("thePendingFunction") == "%u2013") { var finalValue = parseFloat($("#display").data("valueOne")) - parseFloat($("#display").data("valueTwo")); } else if ($("#display").data("thePendingFunction") == "x") { var finalValue = parseFloat($("#display").data("valueOne")) * parseFloat($("#display").data("valueTwo")); } else if ($("#display").data("thePendingFunction") == "/") { var finalValue = parseFloat($("#display").data("valueOne")) / parseFloat($("#display").data("valueTwo")); }  $("#display").val(finalValue);  resetCalculator(finalValue); $("#display").data("fromPrevious", true);  } else { // both numbers are not locked, do nothing. }  });</pre> <hr><h2>CLEAR!</h2> <p>Последнее чему стоит уделить внимание - кнопка очистки (clear), она выполняет самую простую функцию, по сравнению с остальными. Нажав её мы устанавливаем значение калькулятора равное нулю.</p> <pre class="brush: javascript noskimlinks noskimwords">$(".clear-button").click(function(){ resetCalculator("0"); });</pre> <hr><h2>Всё готово</h2> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=424/legacy-premium-tutorials/posts/8813/images/8813_40794fb2f6d7c733746361ef860471b9.jpg" alt="Создаём потрясающий jQuery калькулятор..." title="Создаём потрясающий jQuery калькулятор..." width="50" height="50"><br></figure><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=454/legacy-premium-tutorials/posts/8813/images/8813_2a9ff3e64a009d0ae92cffa369c03963.png" alt="Создаём потрясающий jQuery калькулятор..." title="Создаём потрясающий jQuery калькулятор..." width="50" height="50"><br></figure><p>На этом всё ребята. Недеюсь также как и скринкаст и живой пример, данный текстовый туториал был полезной информацией. Что касается меня, я узнал несколько новых вещей во время создания данного калькулятора. Если у вас есть интересные мысли как можно использовать данный калькулятор, <span>можете связаться со мной</span> и рассказать о своих идеях.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="JavaScript" href="https://norma-studio.github.io/article5/220825761-sozdayom-potryasayuschij-jquery-kalkulyator" class="tm-article-body__tags-item-link">JavaScript</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
32320</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
482</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
