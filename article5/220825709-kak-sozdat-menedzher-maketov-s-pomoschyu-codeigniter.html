
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Как создать менеджер макетов с помощью CodeIgniter... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Как создать менеджер макетов с помощью CodeIgniter... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Как создать менеджер макетов с помощью CodeIgniter... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Как создать менеджер макетов с помощью CodeIgniter... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В этой статье о видео и сопутствующих материалах Premium вы узнаете, как создать простую, но мощную библиотеку для обработки макетов в популярной среде CodeIgniter Framework. Библиотека, которую вы создадите, позволит вам максимизировать свою эффективность, сэкономить время и код, модулировать ваши представления и даже ваши файлы Javascript и CS...">
<meta property="og:description" content="В этой статье о видео и сопутствующих материалах Premium вы узнаете, как создать простую, но мощную библиотеку для обработки макетов в популярной среде CodeIgniter Framework. Библиотека, которую вы создадите, позволит вам максимизировать свою эффективность, сэкономить время и код, модулировать ваши представления и даже ваши файлы Javascript и CS...">
<meta name="twitter:description" content="В этой статье о видео и сопутствующих материалах Premium вы узнаете, как создать простую, но мощную библиотеку для обработки макетов в популярной среде CodeIgniter Framework. Библиотека, которую вы создадите, позволит вам максимизировать свою эффективность, сэкономить время и код, модулировать ваши представления и даже ваши файлы Javascript и CS...">
<meta property="aiturec:description" content="В этой статье о видео и сопутствующих материалах Premium вы узнаете, как создать простую, но мощную библиотеку для обработки макетов в популярной среде CodeIgniter Framework. Библиотека, которую вы создадите, позволит вам максимизировать свою эффективность, сэкономить время и код, модулировать ваши представления и даже ваши файлы Javascript и CS...">
<meta property="og:image" content="//www.gravatar.com/avatar/42c32ef7efca08e0748428056a2c5456?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="aiturec:image" content="//www.gravatar.com/avatar/42c32ef7efca08e0748428056a2c5456?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta name="twitter:image" content="//www.gravatar.com/avatar/42c32ef7efca08e0748428056a2c5456?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="vk:image" content="//www.gravatar.com/avatar/42c32ef7efca08e0748428056a2c5456?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="og:type" content="article">
<link image_src="image" href="//www.gravatar.com/avatar/42c32ef7efca08e0748428056a2c5456?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter.html" title="Как создать менеджер макетов с помощью CodeIgniter... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Как создать менеджер макетов с помощью CodeIgniter... | envatomarket.ru | norma-studio.github.io" title="Как создать менеджер макетов с помощью CodeIgniter... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/65404fb3f3f8602d7f5b3bdc85cbef02.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter.html" class="tm-user-info__username" title="
А. Крайнов" aria-label="
А. Крайнов">
А. Крайнов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Как создать менеджер макетов с помощью CodeIgniter...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter" class="tm-article-snippet__hubs-item-link"><span>PHP</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter.html" />
    <link itemprop="image" href="//www.gravatar.com/avatar/42c32ef7efca08e0748428056a2c5456?s=200&d=https%3A%2F%2Fassets.tutsplus.com%2Fimages%2Fhub%2Favatar_default.png&r=PG">
    <meta itemprop="headline name" content="Как создать менеджер макетов с помощью CodeIgniter... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В этой статье о видео и сопутствующих материалах Premium вы узнаете, как создать простую, но мощную библиотеку для обработки макетов в популярной среде CodeIgniter Framework. Библиотека, которую вы создадите, позволит вам максимизировать свою эффективность, сэкономить время и код, модулировать ваши представления и даже ваши файлы Javascript и CS...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В этой статье о видео и сопутствующих материалах Premium вы узнаете, как создать простую, но мощную библиотеку для обработки макетов в популярной среде CodeIgniter Framework. Библиотека, которую вы создадите, позволит вам максимизировать свою эффективность, сэкономить время и код, модулировать ваши представления и даже ваши файлы Javascript и CS...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>В этой статье о видео и сопутствующих материалах Premium вы узнаете, как создать простую, но мощную библиотеку для обработки макетов в популярной среде CodeIgniter Framework. Библиотека, которую вы создадите, позволит вам максимизировать свою эффективность, сэкономить время и код, модулировать ваши представления и даже ваши файлы Javascript и CSS.</p><hr><h2> Шаг 1-загрузка необходимых файлов</h2> <p>Для этого урока все, что вам понадобится, - это инфраструктура CodeIgniter 1.7.2. Вы можете скачать его с их сайта по адресу <span>codeigniter.com/downloads/</span></p> <hr><h2> Шаг 2 Как мы это сделаем</h2> <p> Основные функциональные возможности этой библиотеки будут очень простыми. Мы возьмем содержимое представления, отобразим его с соответствующими данными, затем возьмем отображенный контент и назначим его переменной. Теперь мы отрендерим сам макет и заменим часть макета содержимым этой переменной. Простой, но достаточно мощный.</p> <p> Идея состоит в том, чтобы имитировать вызовы <code>$ this-&gt; load-&gt; view ().</code> Когда мы вызываем этот метод, мы передаем имя (и местоположение) нашего представления, а затем массив данных, которые будут доступны из представления. Вот пример: </p> <pre class="brush: php noskimlinks noskimwords"> function method($url_param) {   $this-&gt;load-&gt;view("controller_views/method_view", array("url_param" =&gt; $url_param)); }</pre> <p> Приведенный выше код возьмет файловую <code>систему / application / views / controller_views / method_view.php</code>, передаст ей переменную url_param и затем отправит ее в браузер. Здесь мы и пришли. Мы пока не будем отправлять контент в браузер. Вместо этого мы отправим его в макет, а затем в браузер. Но как мы это делаем?</p> <p>Методу <code>view ()</code>, который мы только что вызвали, можно передать третий (логический) параметр, который, если true, <b>вернет</b> отображаемое представление вместо отправки его в браузер. Мы можем сохранить этот контент, выполнить второй вызов того же метода, но на этот раз вызвать файл макета, который будет печатать этот контент (окруженный всеми верхними, нижними и нижними колонтитулами).<br></p><hr><h2>Полный Screencast</h2> <hr><h2> Шаг 3 Создание новой библиотеки</h2> <p>Мы создадим эту библиотеку шаг за шагом, начиная с самых простых. Прежде всего, мы создадим новую библиотеку в нашей папке <em>system / application / librarits</em> и назовем ее <b>Layouts (проекты)</b>.</p> <blockquote> <p>Если вы никогда не создавали библиотеку CodeIgniter, это просто классы, которые загружаются при вызове <code>$ this-&gt; load-&gt; library ()</code>.</p> </blockquote> <p> Итак, давайте перейдём прямо в код:</p> <pre class="brush: php noskimlinks noskimwords"> &lt;?php if ( ! defined("BASEPATH")) exit("No direct script access allowed");  /**  * Layouts Class. PHP5 only.  *  */ class Layouts {   public function __construct() { } }</pre> <p>Давайте пройдемся по каждому разделу кода:</p> <ol><li> Самая первая строка представляет собой соглашение о кодировании CodeIgniter, оно по существу гарантирует, что пользователи не смогут напрямую обращаться к файлу из своих браузеров, потому что CodeIgniter устанавливает константу <code>BASEPATH</code> в своем файле <code>index.php</code>. </li> <li> Класс будет только PHP 5. Это позволит нам добавить цепочку методов в класс, что будет полезно позже, когда мы будем работать с JS и CSS. </li> <li> Конструктор класса пока ничего не имеет. Это всего лишь скелет нашей библиотеки. </li> </ol><p>Итак, что произойдет, если мы включим это из <code>controller (контроллера)</code>? Ну ничего. Класс пока ничего не делает (даже конструктор), поэтому ничего не произойдет.</p> <hr><h2> Шаг 4 Создайте макет</h2> <p> Мы создадим очень простой макет, чтобы объяснить, как все работает.</p> <pre class="brush: php noskimlinks noskimwords"> &lt;!DOCTYPE HTML&gt; &lt;html&gt; &lt;head&gt;   &lt;title&gt;Our very first layout!&lt;/title&gt; &lt;/head&gt; &lt;body&gt;   &lt;?php echo $content_for_layout; ?&gt; &lt;/body&gt; &lt;/html&gt;</pre> <p> Как видите, это очень просто; это просто название и тело. Теперь важная часть находится в коде PHP там. Мы выводим переменную <code>$ content_for_layout</code>. Идея состоит в том, чтобы назначить отображаемый контент этой переменной. Таким образом, он будет напечатан там, окружен остальным телом, головой и т. д. </p> <hr><h2> Шаг 5 Напишите некоторый код!</h2> <p> Давайте напишем некоторый код для обработки этого макета: </p> <pre class="brush: php noskimlinks noskimwords"> &lt;?php if ( ! defined("BASEPATH")) exit("No direct script access allowed");  /**  * Layouts Class. PHP5 only.  *  */ class Layouts {      // Will hold a CodeIgniter instance   private $CI;      public function __construct()    {     $this-&gt;CI =&amp; get_instance();   }      public function view($view_name, $params = array(), $layout = "default")   {     // Load the view"s content, with the params passed     $view_content = $this-&gt;CI-&gt;load-&gt;view($view_name, $params, TRUE);      // Now load the layout, and pass the view we just rendered     $this-&gt;CI-&gt;load-&gt;view("laytous/" . $layout, array(       "content_for_layout" =&gt; $view_content     ));   } }</pre> <p> Давайте объясним, как выглядит новый код: </p> <ol><li> Мы добавили новый закрытый атрибут в нашу библиотеку: <code>$ CI</code>. Из наших библиотек мы не можем получить доступ к экземпляру CodeIgniter напрямую. Единственный способ - получить ссылку на него и получить к нему доступ оттуда. Итак, в нашем конструкторе (который вызывается при загрузке библиотеки) мы получаем наш экземпляр CI и назначаем его нашему локальному частному атрибуту <code>$ CI</code>, чтобы мы могли вызвать его позже. Нам нужно вызвать метод <code>load-&gt; view ()</code>.</li> <li> Теперь мы добавили метод просмотра. Синтаксис практически идентичен методу<code> load-&gt; view ()</code>. Мы получаем имя представления, массив параметров (переменные, которые будут видны из представления) и имя макета, которое по умолчанию будет (duh) "default". Последнее позволяет нам иметь несколько макетов в нашем приложении (возможно, один для поля входа без меню и прочего). </li> <li> Теперь, как мы говорили ранее, мы вызываем метод <code>load-&gt; view ()</code>, передаем имя представления, параметры и третий параметр со значением T<code>RUE (ПРАВИЛЬНЫЙ)</code>. Это гарантирует, что мы не будем отправлять вывод в браузер. Вместо этого он будет возвращен нам и назначен переменной <code>$ view_content</code>. </li> <li> Наконец, мы загружаем файл макета (который мы будем хранить в папке <code>system / application / views / layouts</code>) и передаем содержимое только что загруженного представления в качестве параметра. Когда макет будет загружен, переменная <code>$ content_for_layout </code>будет заменена только что загруженным содержимым и будет отправлена ​​в браузер (обратите внимание на отсутствующий конечный параметр,мы не передаем <code>TRUE (ПРАВИЛЬНЫЙ)</code> в этот раз). </li> </ol><hr><h2> Шаг 6 Измените заголовок страницы </h2> <p> Основная библиотека технически выполнена. Но есть несколько вещей, которые мы можем добавить к этому, чтобы сделать его еще лучше. </p> <p> На самом деле название макета всегда одинаково. Это не практично. Мы должны иметь возможность легко изменить его с наших контроллеров, не создавая бесконечное количество макетов с разными заголовками (это противоречило бы цели этого урока). Итак, как мы это сделаем? Предположим, у сайта есть постоянное название, скажем, «Библиотека раскладок». После этого мы разместим раздел сайта, который мы посещаем. Например, для страницы входа заголовок будет выглядеть как «Библиотека раскладок | Вход». </p> <p> Во-первых, давайте немного перепишем макет. </p> <pre class="brush: php noskimlinks noskimwords"> &lt;!DOCTYPE HTML&gt; &lt;html&gt; &lt;head&gt;   &lt;title&gt;Layouts Library&lt;?php echo $title_for_layout ?&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt;   &lt;?php echo $content_for_layout; ?&gt; &lt;/body&gt; &lt;/html&gt;</pre> <p> Мы только что добавили еще одно<code> эхо (отголосок)</code> PHP. На этот раз мы печатаем переменную <code>$ title_for_layout</code>, которую мы настроим в нашей библиотеке. Вот переписанная библиотека:</p> <pre class="brush: php noskimlinks noskimwords"> &lt;?php if ( ! defined("BASEPATH")) exit("No direct script access allowed");  /**  * Layouts Class. PHP5 only.  *  */ class Layouts {      // Will hold a CodeIgniter instance   private $CI;      // Will hold a title for the page, NULL by default   private $title_for_layout = NULL;      // The title separator, " | " by default   private $title_separator = " | ";      public function __construct()    {     $this-&gt;CI =&amp; get_instance();   }      public function set_title($title)   {     $this-&gt;title_for_layout = $title;   }      public function view($view_name, $params = array(), $layout = "default")   {      // Handle the site"s title. If NULL, don"t add anything. If not, add a      // separator and append the title.     if ($this-&gt;title_for_layout !== NULL)      {       $separated_title_for_layout = $this-&gt;title_separator . $this-&gt;title_for_layout;     }          // Load the view"s content, with the params passed     $view_content = $this-&gt;CI-&gt;load-&gt;view($view_name, $params, TRUE);      // Now load the layout, and pass the view we just rendered     $this-&gt;CI-&gt;load-&gt;view("laytous/" . $layout, array(       "content_for_layout" =&gt; $view_content,       "title_for_layout" =&gt; $separated_title_for_layout     ));   } }</pre> <p> Что мы здесь сделали? </p> <ol><li> Мы добавили два новых атрибута в нашу библиотеку: <code>$ title_for_layout</code> и <code>$ title_separator</code>. Первый будет содержать наш заголовок, а второй будет определять строку, которая будет отделять заголовок макета от заголовка, установленного методом <code>set_title ()</code>. </li> <li> Поскольку <code>$ title_for_layout</code> был установлен как private, мы добавляем метод для его установки с наших контроллеров. Таким образом, <code>set_title ()</code> установит значение <code>$ title_for_layout</code> равным тому, что мы скажем, например.  "Вход" (Авторизоваться). </li> <li> В методе <code>view ()</code> мы добавили кусок кода для обработки нового атрибута. Если пользователь никогда не устанавливает заголовок для страницы, мы хотим иметь возможность «аккуратно уменьшать», т.е. не добавлять разделитель ни за что. Таким образом, мы сначала проверяем значение атрибута <code>$ title_for_layout</code>. Если не <code>NULL</code>, то мы добавляем настроенный разделитель и заголовок, установленный методом <code>set_title ()</code>. </li> <li> При рендеринге макета мы передаем новый атрибут (даже если NULL), поэтому мы можем отобразить его в заголовке. </li> </ol><hr><h2> Шаг 7 Добавление модульных CSS и JS </h2> <p> Теперь, наконец, мы хотим иметь возможность добавлять файлы CSS и Javascript модульно. Что это значит? Скажем, вы хотите использовать плагин jQuery, но вы просто хотите использовать его на одной части веб-сайта (возможно, плагин для проверки формы). Вы можете просто включить его в само представление, но в конечном коде это выглядит не очень хорошо. Всегда желательно, чтобы все Javascript (и CSS) включались в <code>заголовок</code>. Мы собираемся создать метод (ну, на самом деле, два), который позволит нам сделать именно это. </p> <p> Давайте добавим эти два метода в вашу библиотеку: </p> <pre class="brush: php noskimlinks noskimwords"> public function add_include($path, $prepend_base_url = TRUE) {   if ($prepend_base_url)   {     $this-&gt;CI-&gt;load-&gt;helper("url"); // Load this just to be sure     $this-&gt;file_includes[] = base_url() . $path;   }   else   {     $this-&gt;file_includes[] = $path;   }      return $this; // This allows chain-methods }  public function print_includes() {   // Initialize a string that will hold all includes   $final_includes = "";      foreach ($this-&gt;includes as $include)   {     // Check if it"s a JS or a CSS file     if (preg_match("/js$/", $include))     {       // It"s a JS file       $final_includes .= "&lt;script type="text/javascript" src="" . $include . ""&gt;&lt;/script&gt;";     }     elseif (preg_match("/css$/", $include))     {       // It"s a CSS file       $final_includes .= "&lt;link href="" . $include . "" rel="stylesheet" type="text/css" /&gt;";     }          return $final_includes;   } }</pre> <p> Не забудьте также добавить этот новый атрибут в свой класс, чуть выше <code>constructor (конструктора)</code>: </p> <pre class="brush: php noskimlinks noskimwords"> private $includes = array();</pre> <p> и это к вашему макету, сразу после заголовка </p> <pre class="brush: php noskimlinks noskimwords"> &lt;?php echo $this-&gt;layouts-&gt;print_includes() ?&gt;</pre> <p> Небольшое объяснение: [Nebol"shoye ob"yasneniye:] </p> <ol><li> Метод <code>add_include ()</code> позволяет нам добавлять несколько файлов JS или CSS из нашего <code>контроллера</code>. Он даже допускает цепочку методов, то есть мы можем сделать что-то вроде <code>$ this-&gt; layouts-&gt; add_include ("js / jquery.js") -&gt; add_include ("js / jquery.plugin.js") -&gt; add_include ("css / jquery.plugin.css");</code> что может быть очень удобно при загрузке нескольких вещей. Эта функция цепочки методов является причиной, по которой нам нужен PHP 5, потому что PHP 4 не поддерживает его. </li> <li> Параметр <code>$ prepend_base_url</code> в методе <code>add_include ()</code> по умолчанию будет предшествовать базовому URL-адресу установки CodeIgniter. Вызывая этот метод с <code>$ prepend_base_url</code>, установленным в <code>FALSE (НЕПРАВИЛЬНЫЙ)</code>, мы можем включить удаленные файлы (например, библиотеку jQuery из CDN Google). </li> <li> Метод <code>print_include ()</code> не требует пояснений. Он просматривает все включения, добавленные с помощью метода <code>add_include ()</code>, проверяет, является ли этот файл Javascript или CSS-файлом (другие файлы не поддерживаются), и добавляет включение в строку, которая в конечном итоге будет отображена в макете. </li> </ol><hr><h2> Заключение </h2> <p> Мы создали полную и очень практичную библиотеку менеджера компоновки для CodeIgniter с нуля! Это позволит вам сэкономить время, избежать ненужных вызовов, чтобы всегда включать заголовки, контент и нижний колонтитул, и модульно модифицировать ваши файлы Javascript и CSS. </p> <p> Это окончательный код для макета и библиотеки: </p> <pre class="brush: php noskimlinks noskimwords"> &lt;!DOCTYPE HTML&gt; &lt;html&gt; &lt;head&gt;   &lt;title&gt;Layouts Library&lt;?php echo $title_for_layout ?&gt;&lt;/title&gt;   &lt;?php echo $this-&gt;layouts-&gt;print_includes(); ?&gt; &lt;/head&gt; &lt;body&gt;   &lt;?php echo $content_for_layout; ?&gt; &lt;/body&gt; &lt;/html&gt;</pre> <pre class="brush: php noskimlinks noskimwords"> &lt;?php if ( ! defined("BASEPATH")) exit("No direct script access allowed");  /**  * Layouts Class. PHP5 only.  *  */ class Layouts {      // Will hold a CodeIgniter instance   private $CI;      // Will hold a title for the page, NULL by default   private $title_for_layout = NULL;      // The title separator, " | " by default   private $title_separator = " | ";      public function __construct()    {     $this-&gt;CI =&amp; get_instance();   }      public function set_title($title)   {     $this-&gt;title_for_layout = $title;   }      public function view($view_name, $params = array(), $layout = "default")   {      // Handle the site"s title. If NULL, don"t add anything. If not, add a      // separator and append the title.     if ($this-&gt;title_for_layout !== NULL)      {       $separated_title_for_layout = $this-&gt;title_separator . $this-&gt;title_for_layout;     }          // Load the view"s content, with the params passed     $view_content = $this-&gt;CI-&gt;load-&gt;view($view_name, $params, TRUE);      // Now load the layout, and pass the view we just rendered     $this-&gt;CI-&gt;load-&gt;view("laytous/" . $layout, array(       "content_for_layout" =&gt; $view_content,       "title_for_layout" =&gt; $separated_title_for_layout     ));   }      public function add_include($path, $prepend_base_url = TRUE)   {     if ($prepend_base_url)     {       $this-&gt;CI-&gt;load-&gt;helper("url"); // Load this just to be sure       $this-&gt;file_includes[] = base_url() . $path;     }     else     {       $this-&gt;file_includes[] = $path;     }      return $this; // This allows chain-methods   }    public function print_includes()   {     // Initialize a string that will hold all includes     $final_includes = "";      foreach ($this-&gt;includes as $include)     {       // Check if it"s a JS or a CSS file       if (preg_match("/js$/", $include))       {         // It"s a JS file         $final_includes .= "&lt;script type="text/javascript" src="" . $include . ""&gt;&lt;/script&gt;";       }       elseif (preg_match("/css$/", $include))       {         // It"s a CSS file         $final_includes .= "&lt;link href="" . $include . "" rel="stylesheet" type="text/css" /&gt;";       }        return $final_includes;     }   } }</pre> <p>Обязательно смотрите скринкаст для полного обзора и комментариев!</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825709-kak-sozdat-menedzher-maketov-s-pomoschyu-codeigniter" class="tm-article-body__tags-item-link">PHP</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
31096</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
596</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
