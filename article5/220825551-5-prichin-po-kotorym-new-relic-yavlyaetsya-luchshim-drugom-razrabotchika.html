
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>5 причин, по которым New Relic является лучшим другом разработчика
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="5 причин, по которым New Relic является лучшим другом разработчика
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="5 причин, по которым New Relic является лучшим другом разработчика
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="5 причин, по которым New Relic является лучшим другом разработчика
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Как только вы начнете разбираться вокруг New Relic, вы начинаете понимать, сколько интересных функций имеет этот сервис чтобы помогать контролировать производительность и здоровье вашего приложения. Было действительно сложно выбрать только пять вещей, о которых можно было бы поговорить, поэтому вместо того, чтобы сосредоточиться на очевидных функци...">
<meta property="og:description" content="Как только вы начнете разбираться вокруг New Relic, вы начинаете понимать, сколько интересных функций имеет этот сервис чтобы помогать контролировать производительность и здоровье вашего приложения. Было действительно сложно выбрать только пять вещей, о которых можно было бы поговорить, поэтому вместо того, чтобы сосредоточиться на очевидных функци...">
<meta name="twitter:description" content="Как только вы начнете разбираться вокруг New Relic, вы начинаете понимать, сколько интересных функций имеет этот сервис чтобы помогать контролировать производительность и здоровье вашего приложения. Было действительно сложно выбрать только пять вещей, о которых можно было бы поговорить, поэтому вместо того, чтобы сосредоточиться на очевидных функци...">
<meta property="aiturec:description" content="Как только вы начнете разбираться вокруг New Relic, вы начинаете понимать, сколько интересных функций имеет этот сервис чтобы помогать контролировать производительность и здоровье вашего приложения. Было действительно сложно выбрать только пять вещей, о которых можно было бы поговорить, поэтому вместо того, чтобы сосредоточиться на очевидных функци...">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_asterisk.png">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_asterisk.png">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_asterisk.png">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_asterisk.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_asterisk.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika.html" title="5 причин, по которым New Relic является лучшим другом разработчика
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="5 причин, по которым New Relic является лучшим другом разработчика
... | envatomarket.ru | norma-studio.github.io" title="5 причин, по которым New Relic является лучшим другом разработчика
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64535356345.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika.html" class="tm-user-info__username" title="
В. Чендылов" aria-label="
В. Чендылов">
В. Чендылов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>5 причин, по которым New Relic является лучшим другом разработчика
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Ruby" href="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika" class="tm-article-snippet__hubs-item-link"><span>Ruby</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_asterisk.png">
    <meta itemprop="headline name" content="5 причин, по которым New Relic является лучшим другом разработчика
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Как только вы начнете разбираться вокруг New Relic, вы начинаете понимать, сколько интересных функций имеет этот сервис чтобы помогать контролировать производительность и здоровье вашего приложения. Было действительно сложно выбрать только пять вещей, о которых можно было бы поговорить, поэтому вместо того, чтобы сосредоточиться на очевидных функци...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Как только вы начнете разбираться вокруг New Relic, вы начинаете понимать, сколько интересных функций имеет этот сервис чтобы помогать контролировать производительность и здоровье вашего приложения. Было действительно сложно выбрать только пять вещей, о которых можно было бы поговорить, поэтому вместо того, чтобы сосредоточиться на очевидных функци...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Как только вы начнете разбираться вокруг <span>New Relic</span>, вы начинаете понимать, сколько интересных функций имеет этот сервис чтобы помогать контролировать производительность и здоровье вашего приложения. Было действительно сложно выбрать только пять вещей, о которых можно было бы поговорить, поэтому вместо того, чтобы сосредоточиться на очевидных функциях, давайте посмотрим на некоторые из менее раздутых функциональных возможностей, которые предлагает New Relic, и как мы можем использовать его интересными, а иногда и неортодоксальными способами.</p><p>Когда мы в <span>последний раз</span> покидали вас, у нас было базовое <span>Rails</span> приложение «Hello World» (называемое <code>New Relic_rails1</code>, расположенное в <code>~/project/tmp/New Relic</code>). Мы продолжим использовать это приложение, расширим его и посмотрим, можем ли мы его использовать, чтобы продемонстрировать возможности New Relic, на которые мы будем обращать свое внимание.</p> <p></p> <div> <strong>Спонсируемый контент</strong> <p>Это содержимое было заказано <span>New Relic</span> и было написано и/или отредактировано командой Tuts +. Наша цель со спонсируемым контентом - публиковать актуальные и объективные обучающие материалы, тематические исследования и вдохновляющие интервью, которые предлагают истинную образовательную ценность для наших читателей и позволяют нам финансировать создание более полезного контента.</p> </div> <hr><h2>Мониторинг доступности</h2> <p>Это одна из функций New Relic, которая обычно не присутствует на первой странице маркетингового материала. Но что может быть еще важнее, чем убедиться, что ваше приложение действительно запущено и доступно вашим пользователям?</p> <p>Во-первых, когда вы настраиваете мониторинг доступности, ваше приложение получает симпатичную звездочку на панели инструментов основных приложений:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_asterisk.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Это приятное визуальное напоминание, поэтому вы можете видеть, какие приложения по-прежнему требуют контроля доступности.</p> <p>Давайте посмотрим, как мы можем настроить мониторинг доступности и что мы можем получить от него. Во-первых, вам нужно перейти в ваше приложение, а затем перейти в <strong>Настройки-&gt; Мониторинг доступности.</strong> Вы увидите что-то вроде этого:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_monitoring.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Вам нужно указать URL-адрес, который вы хотите чтобы New Relic пинговал, установить флажок, сохранить изменения, и готово. New Relic начнет вызывать ваш URL каждые 30 секунд. Но все веселье здесь не прекращается. New Relic будет проверять ваш URL-адрес через <span>HTTP-запрос HEAD</span> (и считать все ОК, если он получает код ответа 200), но вы можете указать строку ответа, которую вы хотите найти в New Relic, и в этом случае он будет выполнять запрос <span>GET</span> и рассмотрит ответ на предмет строки, которую вы предоставили. Это может быть очень удобно, если у вас есть пользовательская страница «Проверка работоспособности», которую вы хотите использовать.</p> <p>Вы также можете настроить уведомление по электронной почте, если случилось время простоя:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=598/net/uploads/2013/09/newrelic_availability_notifications.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Теперь, когда вы контролируете доступность, у вас будет доступ к хорошему отчету, который наглядно покажет вам, когда произойдет простой:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_report.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Фактически, многие ваши диаграммы (например, обзор приложения) будут иметь эту визуальную индикацию:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_availability_overview.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Вы должны признать, что это довольно приятная функциональность для таких небольших усилий.</p> <p>Разумеется, вы можете отключить и повторно активировать мониторинг (через <span>New Relic REST API</span>) при выполнении развертываний, чтобы убедиться, что вы не получаете ложных событий о простое.</p> <p>Другим интересным побочным эффектом является то, что если вы развертываете свой проект в <span>Heroku</span> на <span>single dyno,</span>  вы можете использовать эту функцию ping, чтобы ваш <span>дино не спал</span>, что может сделать ваш сайт раздражающе медленным, если у вас нет большого объема траффика.</p> <hr><h2>Собственный лог ошибок</h2> <p>Если в вашем приложении появятся неожиданные ошибки, New Relic запишет их для вас и даст вам хороший график. Наше маленькое приложение «Hello World» отлично работает на данный момент, поэтому нам нечего видеть на этом фронте. Но мы можем намеренно сломать наше приложение и посмотреть, что отдает нам New Relic.</p> <p>Давайте модифицируем наш <code>HelloController</code>, чтобы вызвать ошибку примерно в 50% случаев:</p> <pre class="brush: ruby noskimlinks noskimwords">class HelloController &lt; ApplicationController  def index    if rand(2) == 0      raise "Random error"    end  endend</pre> <p>Теперь мы сделаем несколько сотен вызовов в нашем приложении и посмотрим, что произойдет:</p> <pre class="brush: bash noskimlinks noskimwords">ab -n 300 -c 10 http://127.0.0.1:3000/</pre> <p>Наш график ошибок New Relic выглядит гораздо интереснее:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=483/net/uploads/2013/09/newrelic_error_overview.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>И мы можем разобраться в деталях:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_error_detailed.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Как вы можете видеть, мы можем сортировать наши ошибки и фильтровать их, а также отдельно просматривать ошибки из веб-запросов и фоновых задач. Это невероятно мощный материал, который поможет вам диагностировать и исправлять проблемы с вашим приложением. Разумеется, вы также можете увидеть трассировку стека для каждой ошибки:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_error_trace.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Существуют службы, специально предназначенные для захвата ошибок из вашего приложения, некоторые из наиболее известных из них - <span>Airbrake</span> и <span>Bugsnag</span>. Это платные сервисы, используемые многими приложениями, но функциональность, предоставляемая New Relic, делает эти службы избыточными. Фактически, если бы мы могли отправлять пользовательские ошибки в New Relic (вместо того, чтобы позволять ей фиксировать ошибки, которые мы не спасли), мы могли бы сделать убедительный аргумент в пользу того, чтобы не использовать отдельную службу сбора ошибок (и сэкономить деньги и избавиться от дополнительного gem"а).</p> <p>В то время как New Relic не документирует какой-либо способ сделать это, мы всегда можем обратиться к <span>источнику</span>, чтобы узнать, будет ли трудно то, что мы хотим сделать. Мне кажется, что для нас должно быть довольно тривиально отправлять пользовательские ошибки в New Relic, поэтому давайте попробуем. Мы снова модифицируем действие контроллера, чтобы устранить все ошибки и отправить свою ошибку в New Relic:</p> <pre class="brush: ruby noskimlinks noskimwords">class HelloController &lt; ApplicationController  def index    if rand(2) == 0      raise "Random error"    end  rescue    New Relic::Agent.notice_error(StandardError.new("I caught and reraised an error"))  endend</pre> <p>После того, как мы сделаем еще несколько вызовов и дождимся появления данных, мы увидим следующее:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_error_custom.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Это сработало, наша пользовательская ошибка проходит! New Relic может определенно действовать как наша собственная служба для сбора ошибок. Разумеется, мы используем частный интерфейс, который не очень приятный, но мы можем поместить вызов <code>notice_error</code> за <span>фасадом</span>, который сделает все для нас немного легче, если вдруг интерфейс изменится.</p> <p>Еще лучший подход может заключаться в том, чтобы не обрабатывать пользовательские ошибки, как обычные ошибки, но вместо этого создавать <span>настраиваемый показатель</span> для отслеживания, а затем создавать <span>пользовательскую панель мониторинга</span> для визуализации. Таким образом, мы не используем какие-либо недокументированные функции и все равно получим все преимущества - блестящие!</p> <hr><h2>Отслеживание транзакций</h2> <p>New Relic, как правило, отслеживает ваши транзакции для вас:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=487/net/uploads/2013/09/newrelic_transaction_tracking.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Вы сможете увидеть, где ваше приложение тратит большую часть своего времени (например, в контроллере, модели, базе данных и т.д.). Однако New Relic не будет захватывать подробную трассировку, если транзакция не займет больше времени, чем Appdex * 4 секунды. Обычно это нормально, но иногда у вас есть транзакции, которые гораздо важнее для вашего приложения или для вашего бизнеса. Возможно, эти транзакции чрезвычайно велики или связаны с важными событиями, такими как платежи. Достаточно сказать, что вам нужно убедиться, что этот тип транзакций всегда работает очень хорошо.</p> <p>Дело в том, что, когда транзакция является такой важной, то вероятно что вы достаточно много уже уделили ей внимания и она может работать довольно хорошо. Допустим, у вас транзакция с чрезвычайно высокой пропускной способностью (происходит много раз в минуту). Если эта транзакция выполняется оптимально, все в порядке, но если производительность ухудшится незначительно, из-за объема трафика это может оказать непропорционально пагубное влияние на ваше приложение. То, что вы хотите, это что-то вроде:</p> <ul><li>отдельное значение Apdex T только для этой транзакции</li> <li>возможность получать предупреждения при снижении производительности этой транзакции</li> <li>подробная трассировка каждый раз, когда эта транзакция выполняется даже немного не оптимально</li> </ul><p>Это именно то, что вам дают ключ Ключевые Транзакции!</p> <p>Прежде чем мы создадим ключевую транзакцию для нашего приложения Hello World, нам нужно создать более интересную транзакцию, которая обычно будет работать хорошо, но иногда будет работать несколько плохо. Мы создадим возможность смотреть на автомобильные марки и модели и получать конкретную марку автомобиля, чтобы замедлить транзакцию. Во-первых, маршрут:</p> <pre class="brush: ruby noskimlinks noskimwords">New RelicRails1::Application.routes.draw do  get "random_car", to: "cars#show_random"  root "hello#index"end</pre> <p>Мы хотим иметь возможность получить случайный автомобиль, это будет отображаться на <code>CarsController</code>:</p> <pre class="brush: ruby noskimlinks noskimwords">class CarsController &lt; ApplicationController  def show_random    @car = Car.offset(rand(Car.count)).first    if @car.make == "Ford"      sleep(2)    end  endend</pre> <p>Мы получаем случайную машину из базы данных, и если автомобиль будет «Фордом», у нас будет медленная транзакция. Конечно же, нам понадобится модель <code>Car</code>:</p> <pre class="brush: ruby noskimlinks noskimwords">class Car &lt; ActiveRecord::Baseend</pre> <p>Нам нужно настроить базу данных на использование MySql в разработке (я сделал это, но вы можете использовать <code>sqlite</code>):</p> <pre class="brush: plain noskimlinks noskimwords">base: &amp;BASE  adapter: mysql2  encoding: utf8  host: "localhost"  username: "root"  max_connections: 10  timeout: 5000development: &amp;DEV  &lt;&lt;: *BASE  database: "New Relic_rails1_development"  sql_log_level: debug</pre> <p>Нам нужна миграция для создания таблицы <code>car</code>:</p> <pre class="brush: ruby noskimlinks noskimwords">class Cars &lt; ActiveRecord::Migration  def change    create_table :cars, force: true do |t|      t.string :make      t.string :model    end  endend</pre> <p>И нам нужны некоторые данные для сидов, которые мы добавим в наш файл <code>db/seeds.rb</code>:</p> <pre class="brush: ruby noskimlinks noskimwords">Car.create(make: "Ford", model: "Mondeo")Car.create(make: "Honda", model: "Accord")Car.create(make: "Audi", model: "A4")Car.create(make: "Lamborghini", model: "Murcielago")Car.create(make: "Toyota", model: "Prius")</pre> <p>Наконец, мы, вероятно, должны иметь отображение <code>cars/show_random.html.erb</code>:</p> <pre class="brush: ruby noskimlinks noskimwords">&lt;h1&gt;Make: &lt;%= @car.make %&gt;&lt;/h1&gt;&lt;h2&gt;Model: &lt;%= @car.model %&gt;&lt;/h2&gt;</pre> <p>Вам также нужно будет добавить gem <code>mysql2</code> в <code>Gemfile</code>, если вы остановили свой выбор на MySql. После этого нам просто нужно создать и заполнить базу данных, перезагрузить наш сервер, и мы будем готовы:</p> <pre class="brush: bash noskimlinks noskimwords">bundlerake db:create &amp;&amp; rake db:migrate &amp;&amp; rake db:seedrails s</pre> <p>Вам нужно вызвать URL-адрес, чтобы убедиться, что New Relic распознает, что эта транзакция существует:</p> <pre class="brush: bash noskimlinks noskimwords">curl localhost:3000/random_car</pre> <p>Теперь мы готовы отслеживать эту транзакцию как ключевую транзакцию. Во-первых, перейдите на вкладку транзакции:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_transaction_tab.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Нажмите кнопку «Отслеживать ключевую транзакцию» и выберите нашу новую транзакцию:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_transaction_create.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Мы можем дать нашей новой ключевой транзакции имя, выбрать Apdex T, которым мы довольны, а также настроить некоторые предупреждения. Когда наша транзакция занимает больше времени, чем выбранный нами Apdex, New Relic будет отображать подробную трассировку, которую мы сможем использовать, чтобы выяснить, откуда исходит проблема с производительностью. Давайте сделаем несколько вызовов нашего нового URL-адреса и посмотрим, какие данные мы получим:</p> <pre class="brush: bash noskimlinks noskimwords">ab -n 300 -c 20 http://127.0.0.1:3000/random_car</pre> <p>Хм, похоже, некоторые из наших транзакций расстраивают наших пользователей:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_transaction_frustrating.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Давайте посмотрим, захватил ли для нас New Relic некоторые трассировки транзакций:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=489/net/uploads/2013/09/newrelic_transaction_slow_traces.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Давайте посмотрим на одну из них. Для ответа потребовалось около 2 секунд, но только процессор использовал всего 10 миллисекунд:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_transaction_cpu_burn.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Все наши SQL-запросы были быстрыми, поэтому база данных не является проблемой:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_transaction_sql_trace.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Похоже, что большую часть времени тратится на действие контроллера:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_transaction_controller_action.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Давайте немного поглядим в трассировку. Похоже, что SQL SELECT был быстрым, вызов <code>Car.find</code> также был быстрым. Затем мы теряем около 2 секунд, за которыми следует очень быстрый рендеринг шаблона:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_transaction_trace_detail.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>New Relic любезно выделила для нас, где мы потеряли эти две секунды. Нам нужно посмотреть наш код контроллера после вызова <code>Car.find</code>:</p> <pre class="brush: ruby noskimlinks noskimwords">class CarsController &lt; ApplicationController  def show_random    @car = Car.offset(rand(Car.count)).first    if @car.make == "Ford"      sleep(2)    end  endend</pre> <p>Хм, первоначальный SELECT должен быть вызовом <code>Car.count</code>, а <code>Car.find</code> должен быть вызван вызовом <code>Car.offset</code>. Наша большая задержка идет сразу после этого. Ааа посмотрим на это, какой-то глупый человек поставил 2-секундную задержку в нашем коде, когда маркой автомобиля является «Форд». Это объясняет, почему наша 2-секундная задержка происходит только иногда. Мне лучше сделать <code>git blame</code> в нашем репозитории, чтобы узнать, кто там поставил этот ужасный код! Поразмыслив, мне лучше не стоит так делать, потому что это сделал я.</p> <hr><h2>Запись вызова внешней службы</h2> <p>Всякий раз, когда вы совершаете вызовы других сервисов из вашего приложения (например, HTTP-запрос в API, например <span>Twitter</span>), New Relic будет отслеживать их как внешние вызовы. В настоящее время серьезное приложение может интегрироваться с рядом внешних API. Часто эти внешние службы могут значительно ухудшить производительность вашего приложения, особенно если вы выполняете эти вызовы в процессе. New Relic может показать, какие из ваших внешних вызовов самые медленные, какие из них вы вызываете наиболее часто и какие отвечают в среднем медленнее всего. Вы также можете в отдельности посмотреть на производительность каждого из внешних сервисов, которые вы используете. Давайте попробуем.</p> <p>Мы создадим внешний сервис из наших собственных, создав небольшое приложение <span>Sinatra</span>. Сначала мы устанавливаем gem:</p> <pre class="brush: bash noskimlinks noskimwords">gem install sinatra</pre> <p>Создайте новый файл для нашего сервиса:</p> <pre class="brush: bash noskimlinks noskimwords">touch external_service.rb</pre> <p>И поставьте здесь следующий код:</p> <pre class="brush: ruby noskimlinks noskimwords">require "sinatra"get "/hello" do  sleep_time = rand(2000)/1000.0  sleep(sleep_time)  "Hello External World #{sleep_time}!"end</pre> <p>Эта служба будет спать в течение произвольного времени (от 0 до 2000 миллисекунд), а затем возвращает ответ «Hello» со временем, сколько она спала. Теперь все, что нам нужно сделать, это запустить ее:</p> <pre class="brush: bash noskimlinks noskimwords">ruby external_service.rb</pre> <p>Вернемся в наше приложение Rails, и мы создадим новый контроллер для вызова нашей внешней службы. Мы будем использовать этот маршрут:</p> <pre class="brush: ruby noskimlinks noskimwords">New RelicRails1::Application.routes.draw do...  get "external_call", to: "external_calls#external_call"...end</pre> <p>Наш контроллер вызовет наш сервис Sinatra через HTTP:</p> <pre class="brush: ruby noskimlinks noskimwords">require "net/http"class ExternalCallsController &lt; ApplicationController  def external_call    url = URI.parse("http://localhost:4567/hello")    external_request = Net::HTTP::Get.new(url.to_s)    external_response = Net::HTTP.start(url.host, url.port) do |http|      http.request(external_request)    end    @result = external_response.body  endend</pre> <p>И нам нужно представление для отображения результатов:</p> <pre class="brush: ruby noskimlinks noskimwords">&lt;h1&gt;&lt;%= @result %&gt;&lt;/h1&gt;</pre> <p>Все, что нам нужно сделать, это сделать несколько обращений к нашему ендпоинту:</p> <pre class="brush: bash noskimlinks noskimwords">ab -n 100 -c 10 http://127.0.0.1:3000/external_call</pre> <p>Давайте посмотрим, что для нас создал New Relic.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_transaction_external_service.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>New Relic действительно получила наш новый внешний вызов. У нас есть общие вызовы в минуту, которые мы делаем во внешнюю конечную точку. И общее количество, которое было потрачено на внешний сервис. Конечно, наша диаграмма выглядит немного редкой, так как у нас есть только один внешний сервис, а это значит, что нам нечего сравнивать.</p> <p>Мы также можем получить более подробные данные о конкретном внешнем вызове, а также о том, где в нашем приложении выполняется этот вызов:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_transaction_external_call.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Мы можем видеть, когда были сделаны вызовы, пропускная способность и среднее время отклика. Это может показаться простым, но когда у вас есть приложение с большим количеством внешних сервисов, эта функция может дать вам очень хороший обзор того, как работают эти внешние службы, а также когда и где они используются. Это может позволить вам принимать решения относительно кеширования определенных внешних ответов, если это возможно, или даже отказаться от определенных сервисов, если их производительность совсем ужасная. И вам больше не придется спорить об этом, у вас будут конкретные данные, чтобы доказать свою точку зрения.</p> <h2>Масштабируемость и анализ мощностей</h2> <p>Для разработчика нет ничего более разочаровывающего, чем падение вашего приложения из-за всплеска трафика. Все работало ровно, пока те дополнительные сотни пользователей не пришли, и ваше приложение сломалось. У вас было такое чувство, что это может произойти, но вы не могли быть уверенным - отношение ожидания и реальности казалось самым прагматичным. Что ж, с отчетами о пропускной способности и масштабируемости вам больше не нужно «ждать и смотреть». Вы можете сразу сказать, насколько хорошо масштабируется ваше приложение, вы можете выполнить нагрузочные тесты и мгновенно увидеть, может ли приложение обрабатывать такую нагрузку. Вы можете наблюдать за тенденциями времени отклика приложений, так как ваша пользовательская база растет и прогнозировать, когда вам нужно будет добавить мощности. Все это поистине замечательные вещи.</p> <p>Во-первых, давайте рассмотрим отчеты о производительности:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_capacity_instance_busy.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Хм, этот показывает большой всплеск, но в остальном ничего. Ну, мы работаем в режиме разработки, так что это понятно. Этот всплеск заключается в том, что мы сделали несколько запросов одновременно всего лишь недавно. Как вы можете видеть, когда мы выполняли эти параллельные запросы, мы максимизировали наш бедный одинокий экземпляр Webrick. Если это был боевой сервер и загрузка была постоянной, наш экземпляр всегда был бы на 100% занят, что, вероятно, указывало бы, что нам нужен другой экземпляр.</p> <p>Отчет анализа сервера несколько отличается:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_capacity_instance_analysis.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>В нашем случае мы не получаем многого из этого, но обычно это показывает количество запущенных экземпляров и количество экземпляров, которые нам действительно нужны для обработки нагрузки, если все экземпляры были на 100% заняты. Поэтому, если мы запускали 10 экземпляров, а одновременная загрузка экземпляра составляла 2, мы могли бы сократить вдвое (или даже больше) количество исполняемых экземпляров и вообще не ухудшить производительность. Для небольшого приложения, которое работает только в нескольких экземплярах, это не имеет большого значения, но для большого приложения с десятками и сотнями экземпляров это может привести к значительной экономии затрат.</p> <p>А затем есть отчеты по масштабируемости. Отчет о времени ответа, вероятно, самый интересный и важный:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_scalability_response.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Еще раз, наш график очень искажен, потому что это приложение для разработки, с которым мы играли случайным образом. Идея этого отчета состоит в том, что по мере увеличения пропускной способности вашего приложения (больше запросов в минуту) время ответа должно оставаться близким к постоянному (то есть производительность не ухудшается при увеличении трафика). Это означает, что здесь вы всегда должны видеть что-то похожее на плоскую линию. Если ваша линия наклонена вверх значительно, ваше приложение, вероятно, пытается справиться с трафиком, и вам, возможно, придется посмотреть на увеличение мощностей. Где добавить мощности - это еще один вопрос (например, мощности базы данных, больше серверов и т.д.). Два других отчета по масштабируемости могут помочь вам ответить на него. Существует отчет базы данных:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_scalability_database.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Вы не можете ожидать, что ваша база данных не будет подвержена более высокой нагрузке, поэтому то, что вы должны здесь видеть, - это линия, которая медленно поднимается по мере увеличения пропускной способности вашего приложения. Это зависит от вас, когда считать время отклика базы данных неприемлемым (т. е. слишком сильно влияет на реакцию приложения), но когда вы решаете, что ответы в базе данных слишком медленные, вы знаете, что пришло время добавить мощности базы данных. Другой отчет - это процессор:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/09/newrelic_scalability_cpu.png" alt="5 причин, по которым New Relic является лучшим другом разработчика..." title="5 причин, по которым New Relic является лучшим другом разработчика..." width="50" height="50"><br></figure><p>Еще раз вы не можете ожидать, что более высокая пропускная способность не повлияет на загрузку вашего процессора, вы должны увидеть линию, которая медленно растет с увеличением пропускной способности. Это вместе с отчетами о пропускной способности, о которых мы говорили ранее, может позволить вам решить, когда добавлять дополнительные процессы/серверы Rails, чтобы ваша производительность оставалась приличной.</p> <hr><h2>Вывод</h2> <p>Если одна или все из этих функций смогли у вас подняли бровь (или две), то хорошей новостью является то, что мы только затронули лишь самую малость. Каждая из этих функций более чем заслуживает более подробной статьи. Но у New Relic также есть ряд других возможностей, которые потенциально еще более мощные, включая <span>Real User Monitoring</span>, <span>New Relic Platform</span>, <span>Thread Profiler</span>, <span>Threshold Thresholds and Notification</span> и многие другие. Мы попытаемся охватить некоторые или, возможно, даже все из них в последующих учебниках.</p> <p>На данный момент попробуйте New Relic, разверните агент на своем <span>любимом языке программирования</span> и посмотрите, откроете ли вы для себя готовый способ использования некоторых функций, предоставляемых New Relic. И если у вас есть несколько инновационных способов использования New Relic, обязательно сообщите всем, оставив комментарий.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Ruby" href="https://norma-studio.github.io/article5/220825551-5-prichin-po-kotorym-new-relic-yavlyaetsya-luchshim-drugom-razrabotchika" class="tm-article-body__tags-item-link">Ruby</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
37183</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
464</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
