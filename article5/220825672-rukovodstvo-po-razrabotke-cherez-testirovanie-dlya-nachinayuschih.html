
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Руководство по разработке через тестирование для начинающих... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Руководство по разработке через тестирование для начинающих... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Руководство по разработке через тестирование для начинающих... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Руководство по разработке через тестирование для начинающих... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Тестирование кода может раздражать, но отсутствие тестирования может привести к еще более серьезным причинам для раздражения. В этой статье мы будем использовать разработку через тестирование для более эффективного написания и тестирования нашего кода....">
<meta property="og:description" content="Тестирование кода может раздражать, но отсутствие тестирования может привести к еще более серьезным причинам для раздражения. В этой статье мы будем использовать разработку через тестирование для более эффективного написания и тестирования нашего кода....">
<meta name="twitter:description" content="Тестирование кода может раздражать, но отсутствие тестирования может привести к еще более серьезным причинам для раздражения. В этой статье мы будем использовать разработку через тестирование для более эффективного написания и тестирования нашего кода....">
<meta property="aiturec:description" content="Тестирование кода может раздражать, но отсутствие тестирования может привести к еще более серьезным причинам для раздражения. В этой статье мы будем использовать разработку через тестирование для более эффективного написания и тестирования нашего кода....">
<meta property="og:image" content="https://nettuts.s3.amazonaws.com/767_testDrivenDev/images/saneprogrammer.jpg">
<meta property="aiturec:image" content="https://nettuts.s3.amazonaws.com/767_testDrivenDev/images/saneprogrammer.jpg">
<meta name="twitter:image" content="https://nettuts.s3.amazonaws.com/767_testDrivenDev/images/saneprogrammer.jpg">
<meta property="vk:image" content="https://nettuts.s3.amazonaws.com/767_testDrivenDev/images/saneprogrammer.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://nettuts.s3.amazonaws.com/767_testDrivenDev/images/saneprogrammer.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih.html" title="Руководство по разработке через тестирование для начинающих... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Руководство по разработке через тестирование для начинающих... | envatomarket.ru | norma-studio.github.io" title="Руководство по разработке через тестирование для начинающих... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/ded38a8520cf75a955c11fc92a1a403e.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih.html" class="tm-user-info__username" title="
В. Самсонов" aria-label="
В. Самсонов">
В. Самсонов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Руководство по разработке через тестирование для начинающих...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih" class="tm-article-snippet__hubs-item-link"><span>PHP</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih.html" />
    <link itemprop="image" href="https://nettuts.s3.amazonaws.com/767_testDrivenDev/images/saneprogrammer.jpg">
    <meta itemprop="headline name" content="Руководство по разработке через тестирование для начинающих... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Тестирование кода может раздражать, но отсутствие тестирования может привести к еще более серьезным причинам для раздражения. В этой статье мы будем использовать разработку через тестирование для более эффективного написания и тестирования нашего кода....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Тестирование кода может раздражать, но отсутствие тестирования может привести к еще более серьезным причинам для раздражения. В этой статье мы будем использовать разработку через тестирование для более эффективного написания и тестирования нашего кода....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Тестирование кода может раздражать, но отсутствие тестирования может привести к еще более серьезным причинам для раздражения. В этой статье мы будем использовать разработку через тестирование для более эффективного написания и тестирования нашего кода.</p><h2>Что означает разработка через тестирование?</h2> <p>С начала компьютерной эры программисты и ошибки боролись за превосходство. Это неизбежное явление. Даже величайшие программисты становились жертвой этих аномалий. Не существует безопасного кода. Вот почему мы используем тестирование. Программисты, хотя бы некоторые из них, проверяют свой код, запустив его на своих рабочих машинах, чтобы убедиться, что он делает, что он должен.</p> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://nettuts.s3.amazonaws.com/767_testDrivenDev/images/saneprogrammer.jpg" class="lazy07" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small>Программист, который тестирует свои программы.</small><br><small><span>Изображение предоставлено http://www.youthedesigner.com</span></small> </div> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://cdn.tutsplus.com/net/uploads/legacy/767_testDrivenDev/images/insaneprogrammer.jpg" class="lazy07" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small>Безумным программист, который не тестирует свои программы.</small><br><small><span>Изображение предоставлено http://www.internetannoyanceday.com</span></small> </div> <blockquote> <p><strong>Разработка через тестирование</strong> это техника программирования, которая требует одновременного написания кода программы и тестов для него. Это гарантирует, что ваш код протестирован — и позволяет тестировать ваш код быстро и легко, так как этот процесс автоматизирован.</p> </blockquote> <h3> Как это работает? </h3> <p>Разработка через тестирование или TDD представляет собой короткий итеративный цикл разработки:</p> <ol><li>Перед написанием любого кода, сначала необходимо написать тесты для него. При написании автоматических тестов, необходимо принимать во внимание все возможные входные данные, ошибки и выходные данные. При таком подходе ваши мысли не будут привязаны ни к какому коду, который уже написан.</li> <li>Первый раз, когда вы запускаете автоматические тесты, они завершатся неудачей, обозначая, что ваш код еще не готов.</li> <li>После этого вы можете приступить к программированию. Если уже существует тест, и есть трестируемый код, но по-прежнему тесты завершаются неудачей, это означает, что код еще не готов. Код может считаться исправленным, если он проходит все проверки.</li> <li>Как только код успешно проходит тест, можно начать его очищение с помощью рефакторинга. До тех пор пока код успешно проходит тесты, можно считать что он по-прежнему правильно работает. Вам больше нет необходимости беспокоится об изменениях, которые могут привести к багам.</li> <li>И снова повторяем этот цикл с другим методом или программой.</li> </ol><div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/767_testDrivenDev/images/tddcycle.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small>Цикл разработки через тестирование</small><br><small><span>Изображение предоставлено http://en.wikipedia.org/wiki/Test-driven_development </span></small> </div> <h3>Отлично, но чем же это лучше обычного тестирования?</h3> <p>Вы когда-нибудь целенаправленно пропускали тестирование программы, потому что:</p> <ul><li>Вы чувствовали, что это будет потерей времени, так как было внесено слишком мало изменений.</li> <li>Вы чувствовали себя ленивым начать тестировать все снова?</li> <li>У вас не было достаточно времени для тестирования, так как менеджер проекта настаивал на скорейшем запуске?</li> <li>Вы обещали себе, протестировать это завтра?</li> <li>Вы предпочли любимое телешоу тестированию?</li> </ul><p>В большинстве случаев ничего не случается и вы успешно выкатываете свой код на продакшн без каких-либо проблем. Но иногда, все происходит наоборот. Вы пытаетесь пофиксить тысячи дыр в тонущем корабле, в то время как каждую минуту появляются новые. Наверняка вы <strong>не хотели</strong> бы оказаться в подобной ситуации.</p> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=500/net/uploads/legacy/767_testDrivenDev/images/aftermath.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small>Перенос на продакшен!</small><br><small><span>Изображение предоставлено http://phenomenaonbreak.wordpress.com</span></small> </div> <p>TDD был создан чтобы ликвидировать наши оправдания. Когда программа была разработана с использованием TDD, то мы можем быстро и эффективно применять новые изменения. Все что нам нужно сделать - это запустить автоматические тесты! Если все тесты пройдены, то можно двигаться дальше, если нет - то это означает, что наши изменения что-то сломали. Зная какая именно часть тестов упала, мы можем легко определить, в каком именно месте наших изменений мы сломали код и быстро это исправить.</p> <hr><h2>Я купился. Как мы это сделаем?</h2> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://nettuts.s3.amazonaws.com/767_testDrivenDev/images/phpunit.jpg" class="lazy07" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"></div> <p>Существует множество PHP автоматизированных фреймворков для тестирования, которые мы можем использовать. Наиболее широко используемый из них - <span>PHPUnit</span>. </p> <blockquote> <p>PHPUnit является довольно мощным фреймворком для тестирования, который может быть легко интегрирован в ваши собственные проекты или другие проекты, построенные поверх популярных PHP фреймворков.</p> </blockquote> <p> Для наших же целей, нам не нужно то множество функций, которое предлагает PHPUnit. Вместо него мы будем использовать гораздо более простой фреймворк <span>SimpleTest</span>.</p> <p>В следующих шагах давайте предположим, что мы разрабатываем приложение гостевой книги, где любой пользователь может добавлять и просматривать записи. Предположим, что верстка была завершена, и что мы просто создаем класс, который содержит <strong>логику приложения</strong> гостевой книги, где приложение вставляет записи и читает их из базы данных. Мы будем разрабатывать и тестировать часть, которая отвечает за чтение.</p> <hr><h2> <span>Шаг 1. Настройка SimpleTest</span></h2> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://cdn.tutsplus.com/net/uploads/legacy/767_testDrivenDev/images/simpletest.jpg" class="lazy07" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"></div> <p>Это возможно самый простой шаг из всех. Даже этот парень смог бы сделать это:</p> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://cdn.tutsplus.com/net/uploads/legacy/767_testDrivenDev/images/patrick.jpg" class="lazy07" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small>Я могу сделать это... я могу использовать свой... хм... мозг!</small><br><small><span>Изображение предоставлено http://longstreet.typepad.com/</span></small> </div> <p>Скачиваем SimpleTest <span>от сюда</span>, распаковываем в папку на ваш выбор -- лучше в папку с вашим кодом, или вашу PHP include_path для быстрого доступа.</p> <p>Для этой статьи я настроил папки следующим образом:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://cdn.tutsplus.com/net/uploads/legacy/767_testDrivenDev/images/structure1.jpg" class="lazy07" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"></div> <p>Index.php запустит guestbook.php и выполнит метод view, чтобы отобразить записи. Внутри папки с классами мы сохраняем наш класс guestbook.php, а в папке test находится наша библиотека simpletest.</p> <hr><h2> <span>Шаг 2.</span> Планируем свою атаку</h2> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=640/net/uploads/legacy/767_testDrivenDev/images/planning.JPG" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small><span>Изображение предоставлено http://connections.smsd.org/veterans</span></small> </div> <p>Второй шаг является самым важным, здесь мы создаем наши тесты. Для этого вам вначале нужно обдумать то, что ваши функции будут делать, какие возможны входные данные, и какие будут на них ответы. Этот шаг напоминает игру Шахматы — вам нужно знать все о вашем сопернике (программе), включая все его слабые (возможные ошибки) и сильные стороны (что произойдет, если тесты успешно отработают).</p> <p>Нарисуем схемы для нашего приложения гостевой книги:</p> <h3>Отображение</h3> <ul><li>Эта функция не имеет каких-либо входных данных, так как она будет просто извлекать все записи из базы данных и отправлять их на вывод.</li> <li>Она будет возвращать массив записей из гостевой книги, содержащих имя и сообщение отправителя. Если записи отсутствуют, то по-прежнему следует вернуть пустой массив.</li> <li>Если записи есть, то массив будет содержать 1 или более записей.</li> <li>В то же самое время, массив будет иметь особую структуру, что то вроде этого:</li> </ul><pre class="brush: php noskimlinks noskimwords">Array (    [0] =&gt; Array (        ["name"] = "Bob"        ["message"] = "Hi, I"m Bob."    )    [1] =&gt; Array (        ["name"] = "Tom"        ["message"] = "Hi, I"m Tom."    ))</pre> <hr><h2> <span>Шаг 3.</span> Пишем тест!</h2> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=425/net/uploads/legacy/767_testDrivenDev/images/popquiz.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small><span>Изображение предоставлено http://cflhomeless.wordpress.com</span></small> </div> <p>Теперь мы можем написать наш первый тест. Начнем с создания файла <strong>guestbook_test.php</strong> внутри папки test.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?phprequire_once(dirname(__FILE__) . "/simpletest/autorun.php");require_once("../classes/guestbook.php");class TestGuestbook extends UnitTestCase {  }</pre> <p>Затем переведем то, что мы выделили на втором шаге.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?phprequire_once(dirname(__FILE__) . "/simpletest/autorun.php");require_once("../classes/guestbook.php");class TestGuestbook extends UnitTestCase {    function testViewGuestbookWithEntries(){$guestbook = new Guestbook();// Add new records first$guestbook-&gt;add("Bob", "Hi, I"m Bob.");$guestbook-&gt;add("Tom", "Hi, I"m Tom.");$entries = $guestbook-&gt;viewAll();$count_is_greater_than_zero = (count($entries) &gt; 0);$this-&gt;assertTrue($count_is_greater_than_zero);$this-&gt;assertIsA($entries, "array");foreach($entries as $entry) {$this-&gt;assertIsA($entry, "array");$this-&gt;assertTrue(isset($entry["name"]));$this-&gt;assertTrue(isset($entry["message"]));}}function testViewGuestbookWithNoEntries(){$guestbook = new Guestbook();$guestbook-&gt;deleteAll(); // Delete all the entries first so we know it"s an empty table$entries = $guestbook-&gt;viewAll();$this-&gt;assertEqual($entries, array());}}</pre> <p>Утверждения помогают вам убедиться в том, код возвращает то, что ожидается от него. Например, если от функции ожидается вернуть true в случае ее успешного завершения, то в нашем тесте нам следует <strong>проверить</strong>, что возвращаемое значение равно true.</p> <p>Как можете видеть здесь, мы проверяем просмотр гостевой книги с записями и без. На втором шаге мы проверяем, что оба эти сценария выполняются. Вы так же наверно заметили, что каждый метод теста начинается со слова "test". Мы делаем так, потому что когда SimpleTest будет выполнять этот класс, то он будет искать все методы, которые начинаются со слова "test" и выполнит их.</p> <p>В нем тестовом классе мы также используем несколько методов для проверки утверждений, таких как assertTrue, assertIsA и assertEquals. Функция assertTrue проверяет является ли значение переменной равным true. AssertA проверяет относится ли переменная к определенному типу или классу. И наконец assertEquals проверяет, что переменная равна определенному значению.</p> <p>В SimpleTest есть также и другие методы для проверки утверждений:</p> <table><tbody><tr><td><code>assertTrue($x)</code></td> <td>Неудача если $x имеет значение false</td> </tr><tr><td><code>assertFalse($x)</code></td> <td>Неудача если $x равно true</td> </tr><tr><td><code>assertNull($x)</code></td> <td>Неудача если $x имеет значение</td> </tr><tr><td><code>assertNotNull($x)</code></td> <td>Неудача если $x не имеет значения</td> </tr><tr><td><code>assertIsA($x, $t)</code></td> <td>Неудача если $x не является классом или типом $t</td> </tr><tr><td><code>assertNotA($x, $t)</code></td> <td>Неудача если $x является классом или типом $t</td> </tr><tr><td><code>assertEqual($x, $y)</code></td> <td>Неудача если выражение $x == $y равно false</td> </tr><tr><td><code>assertNotEqual($x, $y)</code></td> <td>Неудача если $x == $y истинно</td> </tr><tr><td><code>assertWithinMargin($x, $y, $m)</code></td> <td>Неудача если abs($x - $y) &lt; $m ложно</td> </tr><tr><td><code>assertOutsideMargin($x, $y, $m)</code></td> <td>Неудача если abs($x - $y) &lt; $m истинно</td> </tr><tr><td><code>assertIdentical($x, $y)</code></td> <td>Неудача если $x == $y ложно или разных типов</td> </tr><tr><td><code>assertNotIdentical($x, $y)</code></td> <td>Неудача если  $x == $y истинно или типы совпадают</td> </tr><tr><td><code>assertReference($x, $y)</code></td> <td>Неудача если $x и $y разные переменные</td> </tr><tr><td><code>assertClone($x, $y)</code></td> <td>Неудача если $x и $y не являются идентичными копиями</td> </tr><tr><td><code>assertPattern($p, $x)</code></td> <td>Неудача если регулярное выражение $p не подходит для $x</td> </tr><tr><td><code>assertNoPattern($p, $x)</code></td> <td>Неудача если регулярное выражение $p подходит для $x</td> </tr><tr><td><code>expectError($x)</code></td> <td>Проверяют любую предстоящую ошибку на совпадение</td> </tr><tr><td><code>assert($e)</code></td> <td>Неудача если не было объекта $e</td> </tr></tbody></table><p><small><span>Список методов утверждений любезно предоставлен http://www.simpletest.org/en/unit_test_documentation.html</span></small></p> <hr><h2> <span>Шаг 4. Проиграть чтобы выиграть</span></h2> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=450/net/uploads/legacy/767_testDrivenDev/images/failtowin.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small><span>Изображение предоставлено http://verydemotivational.com</span></small> </div> <p>Как только вы закончили писать свой код, следует запустить тесты. При первом запуске они <strong>обязательно завершатся неудачей</strong>. Если это не так, то скорее всего ваши тесты в действительности ничего не тестируют.</p> <p>Чтобы запустить тесты, просто откройте файл <strong>guestbook_test.php</strong> в своем браузере. Сначала вы увидите это:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/767_testDrivenDev/images/firstfail.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"></div> <p>Это произошло, потому что мы до сих пор еще не создали класс guestbook. Чтобы сделать это, создает файл guestbook.php внутри директории classes. Этот класс будет содержать методы, которые мы собираемся использовать, но пока он еще ничего не содержит. Помните, сначала мы пишем тесты, а <strong>затем код</strong>, который тестируем.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?phpclass Guestbook{public function viewAll() {}public function add( $name, $message ) {}public function deleteAll() {}}</pre> <p>Если вы снова запустите тесты, то результат будет выглядеть так:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/767_testDrivenDev/images/firstrun2.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"></div> <p>Как мы видим, наш тест продолжает завершаться неудачей. Попробуем снова разрешить эту неудачу.</p> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=480/net/uploads/legacy/767_testDrivenDev/images/epicwin.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small><span>Изображение предоставлено http://www.gamercastnetwork.com/forums</span></small> </div> <hr><h2> <span>Шаг 5. Решаем тесты путем написания кода</span></h2> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://cdn.tutsplus.com/net/uploads/legacy/767_testDrivenDev/images/answer.jpg" class="lazy07" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small>В каком то смысле, мы выглядим так, когда пишем код.</small><br><small><span>Изображение предоставлено http://fermentation.typepad.com/fermentation</span></small> </div> <p>Теперь когда у нас есть рабочие автоматизированные тесты, мы можем начать писать код. Откроем класс <strong>guestbook.php</strong> и начнем с решения нашего теста.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?phpclass Guestbook{// To save time, instead of creating and connecting to a database, we"re going to// simulate a "database" by creating a static entries array here.// It will be like we have two entries in the table.private static $_entries = array(array ("name" =&gt; "Kirk","message" =&gt; "Hi, I\"m Kirk."),array ("name" =&gt; "Ted","message" =&gt; "Hi, I\"m Ted."));public function viewAll() {// Here, we should retrieve all the records from the database.// This is simulated by returning the $_entries arrayreturn self::$_entries;}public function add( $name, $message ) {// Here, we simulate insertion into the database by adding a new record into the $_entries array// This is the correct way to do it: self::$_entries[] = array("name" =&gt; $name, "message" =&gt; $message );self::$_entries[] = array("notname" =&gt; $name, "notmessage" =&gt; $message ); //oops, there"s a bug here somewherereturn true;}public function deleteAll() {// We just set the $_entries array to simulate self::$_entries = array();return true;}}</pre> <p>Этот класс guestbook.php содержит некоторые баги, которые мы сможем найти, когда наши тесты упадут.</p> <p>Когда запустим тесты, то увидим следующее:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/767_testDrivenDev/images/runwithbug.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"></div> <p>Вывод в тестах показывает нам в каком тесте и в каком конкретно утверждении наш код падает. От сюда, мы легко можем определить, что утверждения на 16 и 17 строках завершились неудачей.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?phprequire_once(dirname(__FILE__) . "/simpletest/autorun.php");require_once("../classes/guestbook.php");class TestGuestbook extends UnitTestCase {.........$this-&gt;assertTrue(isset($entry["name"]));$this-&gt;assertTrue(isset($entry["message"]));.........}</pre> <p>Это ясно показывает, что возвращенный массив не содержит корректных ключей. Отталкиваясь от этого, мы теперь легко можем определить, какая часть нашего кода работает неверно,</p> <pre class="brush: php noskimlinks noskimwords">&lt;?phpclass Guestbook{.........public function add( $name, $message ) {// Here, we simulate insertion into the database by adding a new record into the $_entries arrayself::$_entries[] = array("name" =&gt; $name, "message" =&gt; $message ); //fixed!return true;}.........}</pre> <p>Теперь снова запустим наши тесты:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=574/net/uploads/legacy/767_testDrivenDev/images/success.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"></div> <hr><h2> <span>Шаг 6. Рефакторинг</span></h2> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=460/net/uploads/legacy/767_testDrivenDev/images/garbagetogold.jpg" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small>Изображения любезно предоставлены <span>http://www.osborneink.com</span> и <span>http://phuketnews.phuketindex.com</span></small> </div> <p>Так как код, который мы здесь тестируем, достаточно простой, наши фиксы багов прошли достаточно быстро. Но если бы это было более сложное приложение, вам придется сделать несколько изменений в вашем коде, чтобы его было легче поддерживать. Проблема здесь в том, что изменения чаще всего подразумевают дополнительные баги. Вот где нам помогают автоматизированные тесты - как только мы вносим изменения, просто снова запускаем тесты. Если они снова проходят успешно, то это означает, что мы ничего не сломали. Если завершаются неудачей, то мы где-то допустили ошибку. Они так же сразу сообщают нам, где у нас ошибка, и скорее всего как ее можно исправить.</p> <hr><h2> <span>Шаг 7. Повторить по кругу</span></h2> <div class="tutorial_image"> <img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://cdn.tutsplus.com/net/uploads/legacy/767_testDrivenDev/images/rinserepeat.jpg" class="lazy07" alt="Руководство по разработке через тестирование для начинающих..." title="Руководство по разработке через тестирование для начинающих..." width="50" height="50"><br><small><span>Изображение предоставлено http://www.philstockworld.com</span></small> </div> <p>В конце концов когда ваша программа потребует новой функциональности, необходимо написать новые тесты. Это легко! Повторяем процедуры из второго шага (так как SimpleTest уже настроен и установлен), и начинаем круг сначала.</p> <hr><h2>Заключение</h2> <p>Существует множество статей на тему разработки через тестирование с более глубоким изучением, и возможно даже с более функциональными инструментами чем SimpleTest - например мок-объекты, стабы, которые помогают сделать процесс написания тестов еще более легким. Если хотите почитать больше, что <span>страница Википедии о разработке через тестирование</span> направит вас на верный путь. Если вы планируете продолжить использовать в качестве своего тестового фреймворка SimpleTest, то обратите внимание на <span>онлайн документацию</span> и обязательно ознакомтесь с дополнительными его возможностями.</p> <p>Тестирование является неотъемлемой частью цикла разработки, однако, часто его вырезают из-за дедлайнов. Надеюсь, что после прочтения этой статьи, вы поймете всю важность инвестирования в разработку через тестирование.</p> <p>Каковы ваши мысли на счет на разработки через тестирование? Вам это интересно или же наоборот вы считаете это простой потерей времени? Пишите в комментариях!</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825672-rukovodstvo-po-razrabotke-cherez-testirovanie-dlya-nachinayuschih" class="tm-article-body__tags-item-link">PHP</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
32289</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
373</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
