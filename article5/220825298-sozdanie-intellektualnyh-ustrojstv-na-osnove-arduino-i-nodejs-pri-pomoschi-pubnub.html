
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В связи с расцветом maker movement: (* широкий термин для обозначения индивидуальных изобретателей, разработчиков и ремонтников, чья деятельность связана с техникой. Здесь и далее прим. пер.) организация Maker Faire (* выставка, организуемая журналом Make, чтобы «славить инженерное искусство, научные проекты и тип мышления DIY (Do-It-Yourself - сде...">
<meta property="og:description" content="В связи с расцветом maker movement: (* широкий термин для обозначения индивидуальных изобретателей, разработчиков и ремонтников, чья деятельность связана с техникой. Здесь и далее прим. пер.) организация Maker Faire (* выставка, организуемая журналом Make, чтобы «славить инженерное искусство, научные проекты и тип мышления DIY (Do-It-Yourself - сде...">
<meta name="twitter:description" content="В связи с расцветом maker movement: (* широкий термин для обозначения индивидуальных изобретателей, разработчиков и ремонтников, чья деятельность связана с техникой. Здесь и далее прим. пер.) организация Maker Faire (* выставка, организуемая журналом Make, чтобы «славить инженерное искусство, научные проекты и тип мышления DIY (Do-It-Yourself - сде...">
<meta property="aiturec:description" content="В связи с расцветом maker movement: (* широкий термин для обозначения индивидуальных изобретателей, разработчиков и ремонтников, чья деятельность связана с техникой. Здесь и далее прим. пер.) организация Maker Faire (* выставка, организуемая журналом Make, чтобы «славить инженерное искусство, научные проекты и тип мышления DIY (Do-It-Yourself - сде...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-port.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-port.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-port.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-port.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-port.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub.html" title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub
... | envatomarket.ru | norma-studio.github.io" title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/636536435.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub.html" class="tm-user-info__username" title="
С. Торгашев" aria-label="
С. Торгашев">
С. Торгашев</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Internet of Things" href="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub" class="tm-article-snippet__hubs-item-link"><span>Internet of Things</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-port.png">
    <meta itemprop="headline name" content="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В связи с расцветом maker movement: (* широкий термин для обозначения индивидуальных изобретателей, разработчиков и ремонтников, чья деятельность связана с техникой. Здесь и далее прим. пер.) организация Maker Faire (* выставка, организуемая журналом Make, чтобы «славить инженерное искусство, научные проекты и тип мышления DIY (Do-It-Yourself - сде...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В связи с расцветом maker movement: (* широкий термин для обозначения индивидуальных изобретателей, разработчиков и ремонтников, чья деятельность связана с техникой. Здесь и далее прим. пер.) организация Maker Faire (* выставка, организуемая журналом Make, чтобы «славить инженерное искусство, научные проекты и тип мышления DIY (Do-It-Yourself - сде...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>В связи с расцветом maker movement: (* широкий термин для обозначения индивидуальных изобретателей, разработчиков и ремонтников, чья деятельность связана с техникой. Здесь и далее прим. пер.) организация Maker Faire (* выставка, организуемая журналом Make, чтобы «славить инженерное искусство, научные проекты и тип мышления DIY (Do-It-Yourself - сделай [это] сам, о ремонте, изготовлении, сборке чего-л. собственноручно) »), создание 3D-принтеров, роботов DIY, беспилотников и т.д – благодаря популярности Arduino (* комплект, основой которого служит микроконтроллер (микрокомпьютер, разработанный специально для встраиваемых систем управления технологическими процессами, периферийными, коммуникационными, бытовыми приборами и другими устройствами), с открытым исходным кодом) многие разработчики программного обеспечения стали хакерами аппаратного обеспечения.  Вы можете подключить Arduino к своему компьютеру с помощью кабеля USB (* universal serial bus – универсальная последовательная шина), скачать IDE (* Integrated Development Environment – интегрированная среда разработки) и бац: все готово для разработки.</p><p>Однако я вижу, что многие веб-программисты остались в стороне, поскольку Sketch, язык программирования на основе языка C для программирования платы Arduino, – это не то, с чем веб-разработчики чувствуют себя комфортно.  Но что, если бы у вас была возможность использовать JavaScript – язык, с которым вы уже знакомы?  Не появилось бы желание поиграться с Arduino?</p><p>В данном руководстве я вам покажу, с чего начать при работе с Arduino при помощи Node.js; также мы подробно разберем процесс создания прототипа (* создание демонстрационной или упрощённой, пробной версии (макета, модели) новой системы; необходимо для уточнения требований к системе, оценки сроков реализации, возникающих проблем и т. д.) приложения IoT (* Internet of Things – Интернет вещей; концепция вычислительной сети физических предметов («вещей»), оснащённых встроенными технологиями для взаимодействия друг с другом или с внешней средой) с помощью API на JavaScript системы PubNub (* быстро работающая система обмена сообщениями между любыми устройствами и платформами).</p><h3>Johnny-Five – фреймворк для создания робототехники на JavaScript</h3><p>Теперь я хочу вам представить <span>Johnny-Fivе</span> – фреймворк для программирования робототехники на JavaScript.  Johnny-Five – платформа с открытым исходным кодом, численность сообщества разработчиков которой постоянно растет (по всему миру начали появляться поддерживаемые сообществом <span>NodeBots Days </span>(* встречи по всему миру, на которых люди собираются для совместного изучения Arduinos, Tessels, Edison"s, Raspberry Pis, NodeCopters и т.д.)).</p><p>Что ж, давайте начнем использовать Johnny-Five для программирования Arduino Uno (* "Uno" означает «один» на итальянском и является эталонной моделью для платформы Arduino)!</p><h2> <span class="sectionnum">1. Установка  Arduino</span></h2><p>Необходимое аппаратное и программное обеспечение:</p><ul><li> <span> Arduino (Genuino) Uno </span> </li> <li><span>Arduino IDE</span></li> <li><span>Node.js</span></li> </ul><p>Для начала подключите вашу Arduino Uno к компьютеру при помощи кабеля USB.  Также скачайте Arduino IDE и установите ее на ваш компьютер. IDE буде вам необходима только для начальной настройки. IDE буде вам необходима только для начальной настройки.</p><p>В IDE Arduino перейдите в <strong>Tools &gt; Port </strong>и убедитесь, что необходимая плата,<strong> Arduino Uno</strong>, подключена к правильному порту (<strong>tty.usbmodem</strong>… для Mac, <strong>cu.usbmodem</strong>… для Windows).</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-port.png" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></figure><p>Johnny-Five взаимодействует с Arduino при помощи протокола Firmata, поэтому вам необходимо установить <strong>StandardFirmata</strong>:</p><ul><li> В IDE откройте <strong>File &gt; Examples &gt; Firmata &gt; StandardFirmata. </strong></li> <li>Щелкните кнопку upload (кнопка со стрелкой).    </li> <li>Дождитесь, когда в информационном окне будет показано сообщение “Done uploading” (* «загрузка завершена»).    </li> <li>Закройте IDE.  Больше IDE вам не нужна, если только вы не хотите использовать ее для написания кода.</li> </ul><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-StandardFirmata.jpg" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></figure><p><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://lh3.googleusercontent.com/TRbMuGrDe4KCziD2q9l5h1HFzJ55AMtGPlUI2gHIMZbSWR9nUJf0J55eCcZVUfInyAo5H5NykkkueYaoMDPZLDfFJ8MPPgx7GNA4NPK-bEYuxqE6l6osgTYT7l1JjaB7lRS19AxY" class="lazy07" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></p><h2> <span class="sectionnum">2. Создание «Hello World» </span>(* первая простейшая программа, которую создают новички в области компьютерных наук)</h2><p>Убедитесь, что Node.js установлена на вашем компьютере.  Создайте подходящую папку, например, <code class="inline">js-hello</code>, затем перейдите в нее (с помощью команды <code class="inline">cd </code>(* change directory)) и установите Johnny-five при помощи <code class="inline">npm </code>(* пакетный менеджер Node).</p><pre class="brush: bash noskimlinks noskimwords">$ npm install johnny-five</pre><p>Теперь давайте напишем «Hello World» при помощи Johnny-Five.  Поскольку у вас имеется определенное отличное аппаратное обеспечение, то вы при его помощи создадите «Hello World», которой будет являться мигающий свет LED (* Light Emitting Diode – светоизлучающий диод (СИД))!</p><h3>Необходимое аппаратное обеспечение:</h3><ul><li>1 Arduino Uno</li> <li>1 СИД</li> <li>1 прототипная плата</li> <li>2 проволочные перемычки с двумя штыревыми концам (1 красная, 1 черная)</li> <li>1 резистор (200 – 330Ω)</li> </ul><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/what-you-need-arduino-led-600.jpg" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"><br></figure><h3>Знайте свои СИДы</h3><p>СИДы поляризованы: положительная клемма (+) называется анодом, а отрицательная (-) – катодом.  Обычно у каждого СИД имеется две ножки, и более длинной является контакт анода.  Об этом важно помнить при создании электрической цепи.</p><h3>Сборка контура</h3><p>Давайте договоримся о цветах во избежание путаницы:</p><ul><li>Черная перемычка используется для заземления</li> <li>Красная перемычка используется для подачи электрического напряжения</li> </ul><p>Не обязательно, чтобы ваши перемычки имели черный и красный цвета, но используйте перемычки двух разных цветов, чтобы не запутаться.  При этом наиболее эффективным и корректным способом использования перемычек будет подключение красной к положительной клемме (* в нашем случае используем контакт 13), а черной – к земле (контакт GND (ground)).</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-circuit-board.png" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></figure><p>Вы можете ознакомиться подробнее с прототипной платой, резисторами и основами всех частей на <span>Adafruit</span>!</p><h3>Реализуем мигание СИД при помощи Johnny-Five</h3><p>Теперь вы будете работать с программным обеспечением.</p><p>Создайте файл blink.js и вставьте нижеприведенный код:</p><pre class="brush: javascript noskimlinks noskimwords">var five = require("johnny-five");var board = new five.Board();board.on("ready", function() {  var led = new five.Led(13); // pin 13  led.blink(500); // 500ms interval});</pre><p>Выполните:</p><pre class="brush: bash noskimlinks noskimwords">$ sudo node blink.js</pre><p>СИД должен будет мигать с интервалом в 500 мс. Если этого не происходит, то проверьте контур и код.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-LED.png" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></figure><p><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://lh6.googleusercontent.com/WjeRAj32yMXhcLljGQ4sXi8N5sKwXu47zC_UtKNViwTyaifxeepAEOXzRSUCZNIEsQ-Vm4Ss_FIYbhu_lA8BigV20cwa5i_ttPuPBYLhLV7EJvhw6UFGc8sHymhxfdyT5e89g_qH" class="lazy07" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></p><p>Теперь, когда вы усвоили основы, давайте продолжим и узнаем, как реализовать возможность подключения к Интернету для вашего аппаратного обеспечения и как создать прототип вашего первого интеллектуального (* "разумный"; с развитой логикой; оснащённый микропроцессором, микропроцессорный; программируемый; настраиваемый; обычно этот термин применяется для описания электронного устройства с встроенным микропроцессором, т. е. программируемого для выполнения различных функций)  устройства!</p><h2> <span class="sectionnum">3. Разработка прототипа интеллектуальной осветительной системы</span></h2><p>Рынок интеллектуальных прозрачных лампочек разнообразен: <span>Philips HUE </span>и <span>LIFX</span>.  С помощью смартфонов и планшетов вы можете изменять их яркость и цвет.</p><p>Теперь вы создадите прототип нечто подобного, благодаря чему будет возможно осуществлять дистанционное управление Arduino и СИД из браузера.</p><h3>Создание устройства, соответствующего концепции IoT, при помощи JavaScript</h3><p>Важным моментом здесь является превращение вашего аппаратного обеспечения в устройство IoT путем подключения его к Интернету.  В отличие от ситуации с использованием Bluetooth (* технология беспроводной ближней коротковолновой радиосвязи (на расстояниях до 30 м), позволяющая объединять устройства разных типов для передачи речи и данных), как только устройство подключено к Интернету, вы можете управлять вашим СИД из любой точки мира.  Для облегчения реализации связи с разъемным соединением мы будем использовать API на JavaScript  PubNub.</p><p>Сеть потока данных (DSN – Data Stream Network) <span>PubNub</span> предоставляет глобальную инфраструктуру (* основополагающая совокупность компонентов, объединенная в систему) и позволяет вам довольно просто создавать и масштабировать приложения, работающие в режиме реального времени, и устройства IoT.  Интеллектуальный СИД, который мы собираемся создать, работает следующим образом: </p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/Arduino-LED-green.png" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></figure><p>Например, при контролировании пользователем из Сан-Франциско Arduino в Токио происходит следующее:</p><ol><li>Пользователь публикует сообщение «Make the light green» (* «Изменить цвет на зеленый») со своего мобильного телефона.</li> <li>Сообщение отправляется в центр обработки и хранения данных в Сан-Франциско.</li> <li>Данные синхронизируются между всеми центрами  обработки и хранения данных.</li> <li>Arduino подписывается на получение сообщений из центра обработки и хранения данных в Токио и изменяет цвет света.</li> </ol><p>Действие осуществлено всего лишь за четверть секунды.</p><p>В данном руководстве вы будете создавать прототип устройства.  Однако если у вас имеется SDK (* System Design Kit –  комплект разработчика системы), то вы фактически можете создавать потребительские товары наподобие <span>Emberlight smart lighting platform.</span></p><h3>Необходимое аппаратное обеспечение:</h3><ul><li>1 Arduino Uno</li> <li>1 RGB-(* система цветопередачи RGB (Red-Green-Blue)) СИД (общий катод)</li> <li>1 прототипная плата</li> <li>4 проволочных перемычки с двумя штыревыми концам (красная, зеленая, синяя, черная)</li> <li>1 резистор (220 Ω x 2, 330 Ω x 1)</li> </ul><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/what-you-need-arduino.png" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></figure><h3>Знайте свой СИД</h3><p>RGB-СИД – это СИД «три в одном», где в едином корпусе совмещаются красный, зеленый и синий цвета. RGB-СИДы комбинируют эти цвета для создания миллионов оттенков. Каждый RGB-СИД содержит четыре контакта – один на цвет – и общий  катод (или анод). В данном руководстве вы будете использовать RGB СИД с общим катодом.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/led-rgb-cathode-arduino.png" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></figure><h3>Сборка контура</h3><p>Попробуйте собрать контур следующим образом. В отличие от контактов, используемых в предыдущем  примере «мигание СИД», здесь вы будете использовать контакты PWM (* Pulse Width Modulation – широтно-импульсная модуляция (ШИМ), PWM принимает аналоговые входные сигналы и формирует два цифровых выходных сигнала, противоположных друг другу по знаку), которые отмечены знаком "~" на вашей прототипной плате Arduino.</p><p>Разница между этими контактами по существу заключается в различии выходных сигналов (* в первом случае – аналоговый, во втором – цифровой). Например, когда вы подключаете СИД к цифровому контакту, у вас будет только два состояния: замкнутое (* состояние «включено») и открытое (* состояние «выключено»). Осуществление мигания СИД – это просто переключение двух состояний. Однако для создания миллионов оттенков при помощи RGB-СИД вам необходимы промежуточные состояния, поэтому вам необходимо будет использовать аналоговые контакты PWM.</p><p>Подключите RGB-СИД при помощи проволочных перемычек и прототипной платы к контактам Arduino под номерами 6, 5 и 3 (для красной, зеленой и синей  соответственно). Общий контакт подключен к земле.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/arduino-uno-rgb-led.png" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></figure><p>В этой схеме я использовала резисторы с сопротивлением 220Ω (для красной) и 330Ω (для зеленой и синей), поскольку красный цвет слишком интенсивен при использовании того же сопротивления  для зеленого и синего. Вы можете это подрегулировать по ходу работы. Если вы захотите узнать больше о сопротивлении и осуществлении вычислений согласно закону Ома, то я рекомендую вам ознакомиться с материалами на <span>Adafruit</span>.</p><h3>Создание веб-интерфейса пользователя</h3><p>Теперь вы создадите веб-интерфейс для контролирования СИД.</p><p>Используйте элемент HTML5 <code class="inline">&lt;input type="range"&gt;, </code>чтобы нарисовать ползунковый переключатель, который позволит пользователю изменять значения каждого “R”, “G” и “B”. Значения каждого цвета лежат в диапазоне от 0 до 255 (min="0" max="255"), и при этом изменяются на целые величины, поскольку инкремент имеет значение 1 (step="1").</p><pre class="brush: html noskimlinks noskimwords">&lt;input id="red" type="range" min="0" max="255" step="1" value="0"&gt;</pre><p>За счет этого элемента происходит контроль интенсивности красного цвета. Я не буду обсуждать стилевое оформление при помощи CSS в этом руководстве, но вы можете ознакомиться с <span>исходным кодом на GitHub</span> (<span>ветка gh-pages</span>), чтобы посмотреть, какое стилевое оформление я задала для визуальных компонентов UI (* user interface – пользовательский интерфейс).</p><p>Далее мы узнаем, как использовать <span>API на JavaScript  PubNub</span> для передачи данных о цвете от UI к Arduino.</p><p><span>Получите свои собственные ключи для API</span> и затем импортируйте библиотеку JavaScript из CDN (* content delivery network – сеть доставки контента) или со своего устройства.</p><pre class="brush: html noskimlinks noskimwords">&lt;script src="//cdn.pubnub.com/pubnub-3.7.18.min.js"&gt;&lt;/script&gt;</pre><p>Инициализируйте образец:</p><pre class="brush: javascript noskimlinks noskimwords">var pubnub = PUBNUB({　subscribe_key : "you_subscribe_key",                          　publish_key   : "your_publish_key"});</pre><p>Давайте передадим данные для изменения цвета СИД при генерировании события в UI.</p><p>Добавьте слушатель события change для образца ползунка в DOM (* Document Object Model – объектная модель документа) и передайте любые изменения в PubNub при помощи метода <code class="inline">publish</code>.</p><pre class="brush: javascript noskimlinks noskimwords">var red = document.getElementById("red");red.addEventListener("change", function(){  pubnub.publish({    channel: "smart-led",     message: {color: "red", brightness: +this.value}  });}, false);</pre><p>Вы можете использовать любое имя для <code class="inline">channel </code>в строке, но помните, что необходимо будет использовать то же имя при получении данных позже.</p><p>Далее вы будете использовать Node.js, чтобы получить данные для аппаратного обеспечения!</p><h3>Преобразование Arduino в устройство IoT при помощи Johnny-Five и PubNub</h3><p>Очень просто зажечь RGB СИДы при помощи Johnny-Five. Для этого используйте код ниже:</p><pre class="brush: javascript noskimlinks noskimwords">var five = require("johnny-five");var led;five.Board().on("ready", function() {  console.log("ready");  // Initialize the RGB LED  led = new five.Led.RGB({    pins: { // pin numbers      red: 6,      green: 5,      blue: 3    }  });  // test  led.color({red: 255, blue: 0, green: 0});  led.on();});</pre><p>Засветился ли ваш СИД красным? Если нет, то проверьте ваш код и контур. Если и после этого не работает, то, скорее всего, вы используете общий анод СИД вместо катода. Попробуйте убрать перемычку от земли и подсоединить к контакту 5V.</p><p>Теперь посмотрите на строку под комментарием <code class="inline">// test.</code> Вы увидите метод color, с помощью которого задается значение цвета. В нашем случае красная компонента имеет значение 255, а остальные – 0, таким образом ваш СИД светится чисто красным.</p><p>При помощи Johnny-Five вы можете задавать значения RGB от 0 до 255, как и значения свойства color CSS. Попробуйте изменить значения и поэкспериментировать с цветом вашего СИД!</p><p>Далее вы будете динамично изменять значения при помощи данных, присланных от UI браузера.</p><p>Для получения данных используйте метод <code class="inline">subscribe</code> PubNub.</p><p>Установите модуль <code class="inline">pubnub </code>при помощи <code class="inline">npm</code>:</p><pre class="brush: bash noskimlinks noskimwords">$ npm install pubnub</pre><p>Инициализируйте образец также, как вы делали на стороне браузера:</p><pre class="brush: javascript noskimlinks noskimwords">var pubnub = require("pubnub").init({  subscribe_key: "your_subscribe_key",  publish_key:   "your_publish_key"});</pre><p>Инициализируйте образец также, как вы делали на стороне браузера: Сразу после получения данных вызывается функция обратного вызова, благодаря которой вы можете передать значения СИД.</p><pre class="brush: javascript noskimlinks noskimwords">pubnub.subscribe({  channel: "smart-led",  callback: function(m) {    if(led) {      r = (m.color === "red") ? m.brightness : r;      g = (m.color === "green") ? m.brightness : g;      b = (m.color === "blue") ? m.brightness : b;      led.color({red: r, blue: b, green: g});      console.log( "color change to..." );      console.log( led.color() );    }  }  error: function(err) {console.log(err);}});</pre><p>Возвращенный объект <code class="inline">m </code>– это сообщение, пришедшее со стороны браузера. Например, когда синяя компонента имеет значение 150, вы получаете данные <code class="inline">{color: "blue", brightness: 150}</code>, а затем, когда приходят следующие данные –<code class="inline"> {color: "red", brightness: 150}</code> – значение red = 150 складывается с blue = 150, в результате чего имеем фиолетовый цвет.</p><p>Для ознакомления со всем исходным кодом посетите /node/index.js на<span> GitHub (ветка master).</span></p><p>Та-да-а! Вы только что создали прототип вашего первого интеллектуального СИД IoT!</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/48/posts/25508/image/pseudo-philips-hue.jpg" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></figure><p><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://lh5.googleusercontent.com/IWYz5EusHMR8HXPD2-8OOKPvbC9yXe8ywfFrw-bNPGmDtdS6piTHGxDHZcS9Hhz74UWHoQonLILS8J65XKQw7VR_VhgLV9KjV6BW96xPbivepWCsxnLr3AiTqo-ktLgXsd2wCF1n" class="lazy07" alt="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." title="Создание интеллектуальных устройств на основе Arduino и Node.js при помощи PubNub..." width="50" height="50"></p><p>Вы можете использовать другие микроконтроллеры, например, <span>Raspberry Pi</span>, вместе с Johnny-Five и PubNub, так что стоит попробовать создавать больше приложений IoT!</p><h2>Ссылки</h2><ul><li> <span>Johnny-Five: </span>Оригинальный фреймворк для программирования робототехники на JavaScript</li> <li> <span>PubNub</span>: сеть потока данных в режиме реального времени, которая позволяет разработчикам создавать и масштабировать мобильные приложения, веб-приложения и приложения IoT, работающие в режиме реального времени.</li> </ul>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Internet of Things" href="https://norma-studio.github.io/article5/220825298-sozdanie-intellektualnyh-ustrojstv-na-osnove-arduino-i-nodejs-pri-pomoschi-pubnub" class="tm-article-body__tags-item-link">Internet of Things</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
41824</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
348</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
