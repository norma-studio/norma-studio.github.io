
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Разбираем класс прокси в OpenCart
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Разбираем класс прокси в OpenCart
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Разбираем класс прокси в OpenCart
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Разбираем класс прокси в OpenCart
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Чаще всего мы принимаем что-то как должное. Если что-то работает так, как ожидалось, мы не будем беспокоиться о его внутренней работе, чтобы понять лежащий в основе механизм. Или, говоря иначе, мы не копаемся в чем-то, пока не будем в беде!...">
<meta property="og:description" content="Чаще всего мы принимаем что-то как должное. Если что-то работает так, как ожидалось, мы не будем беспокоиться о его внутренней работе, чтобы понять лежащий в основе механизм. Или, говоря иначе, мы не копаемся в чем-то, пока не будем в беде!...">
<meta name="twitter:description" content="Чаще всего мы принимаем что-то как должное. Если что-то работает так, как ожидалось, мы не будем беспокоиться о его внутренней работе, чтобы понять лежащий в основе механизм. Или, говоря иначе, мы не копаемся в чем-то, пока не будем в беде!...">
<meta property="aiturec:description" content="Чаще всего мы принимаем что-то как должное. Если что-то работает так, как ожидалось, мы не будем беспокоиться о его внутренней работе, чтобы понять лежащий в основе механизм. Или, говоря иначе, мы не копаемся в чем-то, пока не будем в беде!...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart.html" title="Разбираем класс прокси в OpenCart
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Разбираем класс прокси в OpenCart
... | envatomarket.ru | norma-studio.github.io" title="Разбираем класс прокси в OpenCart
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/653463654.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart.html" class="tm-user-info__username" title="
С. Салин" aria-label="
С. Салин">
С. Салин</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Разбираем класс прокси в OpenCart
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="OpenCart" href="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart" class="tm-article-snippet__hubs-item-link"><span>OpenCart</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=80/uploads/users/413/profiles/18842/profileImage/thumb_140656049277268.jpg">
    <meta itemprop="headline name" content="Разбираем класс прокси в OpenCart
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Чаще всего мы принимаем что-то как должное. Если что-то работает так, как ожидалось, мы не будем беспокоиться о его внутренней работе, чтобы понять лежащий в основе механизм. Или, говоря иначе, мы не копаемся в чем-то, пока не будем в беде!...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Чаще всего мы принимаем что-то как должное. Если что-то работает так, как ожидалось, мы не будем беспокоиться о его внутренней работе, чтобы понять лежащий в основе механизм. Или, говоря иначе, мы не копаемся в чем-то, пока не будем в беде!...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



 <p>Чаще всего мы принимаем что-то как должное. Если что-то работает так, как ожидалось, мы не будем беспокоиться о его внутренней работе, чтобы понять лежащий в основе механизм. Или, говоря иначе, мы не копаемся в чем-то, пока не будем в беде!</p> <p>Точно так же мне всегда было интересно узнать о нескольких концепциях OpenCart, которые использовались внутри фреймворка, и одним из них был класс Proxy. Мне потребовалось некоторое время, чтобы понять его, и я подумал, что с тобой приятно будет делиться, так как всегда интересно узнать что-то новое.</p> <h2>Что такое класс прокси?</h2> <p>Хотя вы найдете различные материалы в Интернете, которые определяют термин прокси, определение из <span>Википедии</span>  довольно легко понять.</p> <blockquote>Прокси-сервер в его самой общей форме - это класс, функционирующий как интерфейс к чему-то другому.</blockquote> <p>Таким образом, прокси делегирует элемент управления объекту, который он намеревается использовать, и таким образом действует от имени фактического класса, который был создан. Фактически, шаблон прокси-дизайна является очень популярным шаблоном, который используется популярными фреймворками по мере необходимости. Учитывая тот факт, что обсуждение прокси-метода само по себе является такой широкой темой и выходит за рамки этой статьи, я быстро подытожу, как он используется большую часть времени:</p> <ul> <li>Действует как обертка, чтобы обеспечить дополнительную функциональность.</li> <li>Задержка создания дорогостоящих объектов, также называемая ленивой загрузкой.</li> </ul> <p>В контексте OpenCart можно сказать, что шаблон прокси используется для добавления функциональности в базовый прокси-класс. Сказав это, базовый прокси-класс сам по себе не предоставляет ничего, кроме нескольких волшебных методов! Как мы увидим в следующем разделе, прокси-класс обогащается во время выполнения, добавляя к нему свойства.</p> <p>Прежде чем перейти к следующему разделу, давайте быстро взглянем на класс прокси. Он находится в <code class="inline">system/engine/proxy.php</code>.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php class Proxy {     public function __get($key) {   return $this-&gt;{$key}; }  public function __set($key, $value) {  $this-&gt;{$key} = $value; }  public function __call($key, $args) { $arg_data = array();  $args = func_get_args();  foreach ($args as $arg) { if ($arg instanceof Ref) { $arg_data[] =&amp; $arg-&gt;getRef(); } else { $arg_data[] =&amp; $arg; } }  if (isset($this-&gt;{$key})) { return call_user_func_array($this-&gt;{$key}, $arg_data); } else { $trace = debug_backtrace();  exit("&lt;b&gt;Notice&lt;/b&gt;:  Undefined property: Proxy::" . $key . " in &lt;b&gt;" . $trace[1]["file"] . "&lt;/b&gt; on line &lt;b&gt;" . $trace[1]["line"] . "&lt;/b&gt;"); } } }</pre> <p>Как вы можете видеть, он реализует три магических метода: <code class="inline">__get()</code>,<code class="inline"> __set()</code> и <code class="inline">__call()</code>. Среди них реализация метода <code class="inline">__call()</code> является важной, и мы вернемся к ней довольно скоро.</p> <h2>Как работает прокси-класс с моделью</h2> <p>В этом разделе я объясню, как именно вызов типа <code class="inline">$this-&gt;model_catalog_category-&gt;getCategory($category_id)</code> работает из коробки.</p> <p>Фактически, история начинается со следующего утверждения.</p> <pre class="brush: php noskimlinks noskimwords">$this-&gt;load-&gt;model("catalog/category");</pre> <p>Во время начальной загрузки оболочка OpenCart хранит все общие объекты в объекте <code class="inline">Registry</code>, чтобы их можно было получить по желанию. В результате этого вызов <code class="inline">$this-&gt;load</code> возвращает объект <code class="inline">Loader</code> из реестра.</p> <p>Класс <code class="inline">Loader</code> предоставляет различные методы для загрузки разных компонентов, но нас интересует метод <em>model</em>. Давайте быстро взглянем на фрагмент метода <code class="inline">model</code> из <code class="inline">system/engine/ oader.php</code>.</p> <pre class="brush: php noskimlinks noskimwords">public function model($route) { // Sanitize the call $route = preg_replace("/[^a-zA-Z0-9_\/]/", "", (string)$route);  // Trigger the pre events $this-&gt;registry-&gt;get("event")-&gt;trigger("model/" . $route . "/before", array(&amp;$route));  if (!$this-&gt;registry-&gt;has("model_" . str_replace(array("/", "-", "."), array("_", "", ""), $route))) { $file  = DIR_APPLICATION . "model/" . $route . ".php"; $class = "Model" . preg_replace("/[^a-zA-Z0-9]/", "", $route);  if (is_file($file)) { include_once($file);  $proxy = new Proxy();  foreach (get_class_methods($class) as $method) { $proxy-&gt;{$method} = $this-&gt;callback($this-&gt;registry, $route . "/" . $method); }  $this-&gt;registry-&gt;set("model_" . str_replace(array("/", "-", "."), array("_", "", ""), (string)$route), $proxy); } else { throw new \Exception("Error: Could not load model " . $route . "!"); } }  // Trigger the post events $this-&gt;registry-&gt;get("event")-&gt;trigger("model/" . $route . "/after", array(&amp;$route)); }</pre> <p>Учитывая вышеупомянутый пример, значением аргумента <code class="inline">$route</code> является <code class="inline">catalog/category</code>. Во-первых, значение переменной <code class="inline">$route</code> очищается и после этого запускает событие <code class="inline">before</code>, чтобы другие слушатели модуля могли изменить значение переменной <code class="inline">$route</code>.</p> <p>Затем он проверяет наличие запрошенного объекта модели в реестре. Если реестр содержит запрошенный объект, дальнейшая обработка не требуется.</p> <p>Если объект не найден, следует загрузить интересную процедуру, и это фрагмент, который мы ищем в контексте этой статьи.</p> <p>Для начала он подготавливает путь к файлу запрашиваемой модели и загружает ее, если она существует.</p> <pre class="brush: php noskimlinks noskimwords">... $file  = DIR_APPLICATION . "model/" . $route . ".php"; $class = "Model" . preg_replace("/[^a-zA-Z0-9]/", "", $route);  if (is_file($file)) {     include_once($file);    ... } ...</pre> <p>После этого он создает объект <code class="inline">Proxy</code>.</p> <pre class="brush: php noskimlinks noskimwords">$proxy = new Proxy();</pre> <p>Теперь обратите внимание на следующий цикл <code class="inline">for</code>: он намного больше, чем кажется.</p> <pre class="brush: perl noskimlinks noskimwords">foreach (get_class_methods($class) as $method) { $proxy-&gt;{$method} = $this-&gt;callback($this-&gt;registry, $route . "/" . $method); }</pre> <p>В нашем случае значение <code class="inline">$class</code> должно быть <code class="inline">ModelCatalogCategory</code>. Фрагмент <code class="inline">get_class_methods($class)</code> загружает все методы класса <code class="inline">ModelCatalogCategory</code> и проходит через него. Что он делает в цикле? Давайте посмотрим внимательно.</p> <p>В цикле он вызывает метод <code class="inline">callback</code> того же класса. Интересно отметить, что метод обратного вызова возвращает функцию, вызываемую для объекта <code class="inline">$proxy</code> с ключом в качестве имени метода. Конечно, прокси-объект не обладает такими свойствами; он будет создан на лету, используя магический метод <code class="inline">__set()</code>!</p> <p>Затем объект $ proxy добавляется в реестр, чтобы его можно было получить позже, когда это необходимо. Посмотрите на ключевой компонент метода set. В нашем случае это должна быть model_catalog_category.</p> <pre class="brush: php noskimlinks noskimwords">$this-&gt;registry-&gt;set("model_" . str_replace(array("/", "-", "."),    array("_", "", ""), (string)$route), $proxy);</pre> <p>В конце он вызовет событие <code class="inline">after</code>, чтобы другие слушатели модуля могли изменить значение переменной <code class="inline">$route</code>.</p> <p>Это одна часть истории.</p> <p>Давайте рассмотрим, что происходит, когда вы используете следующее в своем контроллере.</p> <pre class="brush: php noskimlinks noskimwords">$this-&gt;model_catalog_category-&gt;getCategory($category_id);</pre> <p>Фрагмент <code class="inline">$this-&gt;model_catalog_category</code> пытается найти соответствие для ключа <code class="inline">model_catalog_category</code> в реестре. Если вам интересно, просто изучите определение класса <code class="inline">Controller</code> в файле <code class="inline">system/engine/controller.php</code> - он предоставляет магический метод <code class="inline">__get()</code>, который это делает.</p> <p>Как мы только что обсуждали, это должно вернуть объект <code class="inline">$proxy</code>, назначенный этому конкретному ключу. Затем он пытается вызвать метод <code class="inline">getCategory</code> для этого объекта. Но класс Proxy не реализует такой метод, так как это будет работать?</p> <p>Магический метод <code class="inline">__call()</code> приходит на помощь! Всякий раз, когда вы вызываете метод, который не существует в классе, элемент управления передается магическому методу <code class="inline">__call()</code>.</p> <p>Давайте рассмотрим его подробно, чтобы понять, что происходит. Откройте файл класса Proxy и обратите внимание на этот метод.</p> <p>В <code class="inline">$key</code> содержится имя функции, которая называется-<code class="inline">getCategory</code>. С другой стороны, <code class="inline">$args</code> содержит аргументы, переданные методу, и он должен быть массивом из одного элемента, содержащего идентификатор категории, который передается.</p> <p>Далее, существует массив <code class="inline">$arg_data</code>, который хранит ссылки на аргументы. Честно говоря, я не уверен, что код <code class="inline">$arg instanceof Ref</code> имеет смысл. Если кто-нибудь знает, почему он там, я был бы рад узнать.</p> <p>Кроме того, он пытается проверить существование свойства <code class="inline">$key</code> в объекте <code class="inline">$proxy</code>, и это приводит к чему-то вроде этого.</p> <pre class="brush: php noskimlinks noskimwords">if (isset($this-&gt;getCategory)) {</pre> <p>Напомним, что ранее мы назначили все методы класса <code class="inline">ModelCatalogCategory</code> как свойства объекта <code class="inline">$proxy</code> с использованием цикла <code class="inline">for</code>. Для вашего удобства я снова вставлю этот код.</p> <pre class="brush: php noskimlinks noskimwords">... foreach (get_class_methods($class) as $method) {     $proxy-&gt;{$method} = $this-&gt;callback($this-&gt;registry, $route . "/" . $method); } ...</pre> <p>Таким образом, он должен быть там, и он также должен вернуть нам функцию, которая вызывается! И, наконец, он вызывает эту функцию, вызываемую с помощью функции <code class="inline">call_user_func_array</code>, передавая аргументы метода.</p> <p>Теперь давайте обратим наше внимание на само вызываемое функцией определение. Я возьму фрагмент из метода <code class="inline">callback</code>, определенного в <code class="inline">system/engine/ oader.php</code>.</p> <pre class="brush: php noskimlinks noskimwords">... function($args) use($registry, &amp;$route) {             static $model = array();                                       $output = null;                          // Trigger the pre events             $result = $registry-&gt;get("event")-&gt;trigger("model/" . $route . "/before", array(&amp;$route, &amp;$args, &amp;$output));                          if ($result) {                 return $result;             }                          // Store the model object             if (!isset($model[$route])) {                 $file = DIR_APPLICATION . "model/" .  substr($route, 0, strrpos($route, "/")) . ".php";                 $class = "Model" . preg_replace("/[^a-zA-Z0-9]/", "", substr($route, 0, strrpos($route, "/")));                  if (is_file($file)) {                     include_once($file);                                      $model[$route] = new $class($registry);                 } else {                     throw new \Exception("Error: Could not load model " . substr($route, 0, strrpos($route, "/")) . "!");                 }             }              $method = substr($route, strrpos($route, "/") + 1);                          $callable = array($model[$route], $method);              if (is_callable($callable)) {                 $output = call_user_func_array($callable, $args);             } else {                 throw new \Exception("Error: Could not call model/" . $route . "!");             }                          // Trigger the post events             $result = $registry-&gt;get("event")-&gt;trigger("model/" . $route . "/after", array(&amp;$route, &amp;$args, &amp;$output));                          if ($result) {                 return $result;             }                                      return $output; }; ...</pre> <p>Поскольку это анонимная функция, она сохранила значения в виде переменных <code class="inline">$register</code> и <code class="inline">$route</code>, которые были переданы ранее методу callback. В этом случае значение переменной <code class="inline">$route</code> должно быть <code class="inline">catalog/category/getCategory</code>.</p> <p>Кроме того, если мы посмотрим на важный фрагмент этой функции, он создает экземпляр объекта <code class="inline">ModelCatalogCategory</code> и сохраняет его в статическом массиве <code class="inline">$model</code>.</p> <pre class="brush: php noskimlinks noskimwords">... // Store the model object if (!isset($model[$route])) {     $file = DIR_APPLICATION . "model/" .  substr($route, 0, strrpos($route, "/")) . ".php";     $class = "Model" . preg_replace("/[^a-zA-Z0-9]/", "", substr($route, 0, strrpos($route, "/")));      if (is_file($file)) {         include_once($file);              $model[$route] = new $class($registry);     } else {         throw new \Exception("Error: Could not load model " . substr($route, 0, strrpos($route, "/")) . "!");     } } ...</pre> <p>И вот фрагмент, который захватывает имя метода, которое нужно вызвать, используя переменную <code class="inline">$route</code>.</p> <pre class="brush: php noskimlinks noskimwords">$method = substr($route, strrpos($route, "/") + 1);</pre> <p>Таким образом, мы имеем ссылку на объект и имя метода, которое позволяет нам вызывать его с помощью функции <code class="inline">call_user_func_array</code>. Следующий фрагмент делает именно это!</p> <pre class="brush: php noskimlinks noskimwords">... if (is_callable($callable)) {     $output = call_user_func_array($callable, $args); } else {     throw new \Exception("Error: Could not call model/" . $route . "!"); } ...</pre> <p>В конце метода полученный результат возвращается через переменную <code class="inline">$output</code>. И да, это еще одна часть истории!</p> <p>Я намеренно игнорировал код <em>pre</em> и <em>post</em> events, который позволяет вам переопределять методы основных классов OpenCart. Используя это, вы можете переопределить любой метод основного класса и настроить его в соответствии с вашими потребностями. Но давайте сделаем в другой раз, так как это уже будет слишком много всего, чтобы вписаться в одну статью!</p> <p>Так вот как это работает. Я надеюсь, что вы должны быть более уверенны в этих коротких вызовах OpenCart и об их внутренней работе.<br></p> <h2>Заключение</h2> <p>То, что мы только что обсуждали, является одной из интересных и неоднозначных концепций в OpenCart: использование метода Proxy для поддержки сокращенных соглашений для вызова методов модели. Надеюсь, статья была достаточно интересна и обогатила ваши знания OpenCart.</p> <p>Я хотел бы узнать ваши отзывы об этом, и если вы чувствуете, что я должен освещать такие темы в своих будущих статьях, не стесняйтесь написать об этом пару строк!<br></p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="OpenCart" href="https://norma-studio.github.io/article5/220825023-razbiraem-klass-proksi-v-opencart" class="tm-article-body__tags-item-link">OpenCart</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
37467</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
418</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
