
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Начинаем работать с Ionic: Навигация... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Начинаем работать с Ionic: Навигация... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Начинаем работать с Ionic: Навигация... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Начинаем работать с Ionic: Навигация... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Мы уже довольно много всего рассмотрели в этой серии статей, включая навигацию. Тем не менее, Ionic предоставляет несколько компонентов, которые предоставляют дополнительные функции для создания более функциональной навигации. В этом уроке мы добавили в приложение компоненты бокового меню и вкладки, а также рассмотрим некоторые дополнительные услуг...">
<meta property="og:description" content="Мы уже довольно много всего рассмотрели в этой серии статей, включая навигацию. Тем не менее, Ionic предоставляет несколько компонентов, которые предоставляют дополнительные функции для создания более функциональной навигации. В этом уроке мы добавили в приложение компоненты бокового меню и вкладки, а также рассмотрим некоторые дополнительные услуг...">
<meta name="twitter:description" content="Мы уже довольно много всего рассмотрели в этой серии статей, включая навигацию. Тем не менее, Ionic предоставляет несколько компонентов, которые предоставляют дополнительные функции для создания более функциональной навигации. В этом уроке мы добавили в приложение компоненты бокового меню и вкладки, а также рассмотрим некоторые дополнительные услуг...">
<meta property="aiturec:description" content="Мы уже довольно много всего рассмотрели в этой серии статей, включая навигацию. Тем не менее, Ionic предоставляет несколько компонентов, которые предоставляют дополнительные функции для создания более функциональной навигации. В этом уроке мы добавили в приложение компоненты бокового меню и вкладки, а также рассмотрим некоторые дополнительные услуг...">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/final_image/ionic-part-4-final.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/final_image/ionic-part-4-final.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/final_image/ionic-part-4-final.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/final_image/ionic-part-4-final.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/final_image/ionic-part-4-final.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya.html" title="Начинаем работать с Ionic: Навигация... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Начинаем работать с Ionic: Навигация... | envatomarket.ru | norma-studio.github.io" title="Начинаем работать с Ionic: Навигация... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/63456435436.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya.html" class="tm-user-info__username" title="
М. Старостенко" aria-label="
М. Старостенко">
М. Старостенко</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Начинаем работать с Ionic: Навигация...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Ionic" href="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya" class="tm-article-snippet__hubs-item-link"><span>Ionic</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/final_image/ionic-part-4-final.png">
    <meta itemprop="headline name" content="Начинаем работать с Ionic: Навигация... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Мы уже довольно много всего рассмотрели в этой серии статей, включая навигацию. Тем не менее, Ionic предоставляет несколько компонентов, которые предоставляют дополнительные функции для создания более функциональной навигации. В этом уроке мы добавили в приложение компоненты бокового меню и вкладки, а также рассмотрим некоторые дополнительные услуг...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Мы уже довольно много всего рассмотрели в этой серии статей, включая навигацию. Тем не менее, Ionic предоставляет несколько компонентов, которые предоставляют дополнительные функции для создания более функциональной навигации. В этом уроке мы добавили в приложение компоненты бокового меню и вкладки, а также рассмотрим некоторые дополнительные услуг...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Мы уже довольно много всего рассмотрели в этой серии статей, включая навигацию. Тем не менее, Ionic предоставляет несколько компонентов, которые предоставляют дополнительные функции для создания более функциональной навигации. В этом уроке мы добавили в приложение компоненты бокового меню и вкладки, а также рассмотрим некоторые дополнительные услуги, чтобы сделать навигацию нашего приложения более удобной.</p><h2>Файлы проекта</h2><p>Файлы этой статьи доступны на <span>GitHub</span>. Общая идея приложения заключается в том, что оно показывает некоторую информацию о местных объектах. В этом уроке мы добавляем возможность показывать библиотеки, музеи, парки и больницы. В настоящее время оно показывает только местоположения в Чикаго, что мы исправим в следующем уроке.</p><p>Вы можете загрузить завершенный проект для этого учебника с <span>GitHub</span>. Если вы клонируете проект, вы также можете начать писать код с помощью Git выполнив <code class="inline">git checkout -b start</code>. Финальный пример также доступен для <span>предварительного просмотра</span>.</p><p>Обратите внимание, что я удалил решение из отображения места, которое у нас было в <span>третьей части этой серии</span>. Я не хочу подробно освещать это, но контроллер теперь загружает данные и упрощает навигацию.</p><h2> <span class="sectionnum">1.</span> Добавление бокового меню</h2><p>Одним из наиболее распространенных навигационных шаблонов в мобильных приложениях является боковое меню. Это ящик, который выдвигается сбоку и выдает навигационные ссылки и, возможно, другое содержимое, такое как текущий статус входа. По дизайну они за пределами экрана и открываются какой-то кнопкой, часто это значок гамбургера, хотя люди не согласны с использованием этой иконки.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/image/ionic-part-4-side-menu.png" alt="Начинаем работать с Ionic: Навигация..." title="Начинаем работать с Ionic: Навигация..." width="50" height="50"></figure><p>Боковые меню часто можно открыть, проскользнув сбоку, чтобы открыть его или перевести назад, чтобы закрыть его. Это может быть удобно, но иногда может мешать другим жестам, и вы должны следить за конфликтующими поведением. Вы должны подумать о лучшем использовании прокрутки с учетом всего видения и опыта вашего приложения, и если есть какая-то проблема, вы можете отключить его. </p><p>Ionic предоставляет пару компонентов, которые делают тривиальным создание бокового меню. Вы можете создать до двух боковых меню, один справа и один слева. Боковое меню состоит из нескольких компонентов: <code class="inline">ionSideMenus</code>, <code class="inline">ionSideMenu</code> и <code class="inline">ionSideMenuContent</code>.</p><p>Чтобы увидеть это в действии, давайте обновим <strong>www/index.html</strong> и настроим боковое меню. Вы замените существующий контент кодом ниже, который добавит компоненты бокового меню вокруг нашего существующего кода.</p><pre class="brush: html noskimlinks noskimwords">&lt;body ng-app="App"&gt;  &lt;ion-side-menus&gt;    &lt;ion-side-menu side="left"&gt;      &lt;ion-header-bar&gt;        &lt;h1 class="title"&gt;Civinfo&lt;/h1&gt;      &lt;/ion-header-bar&gt;      &lt;ion-content&gt;        &lt;ion-list&gt;          &lt;ion-item ui-sref="places" menu-close&gt;Places&lt;/ion-item&gt;          &lt;ion-item ui-sref="settings.preferences" menu-close&gt;Settings&lt;/ion-item&gt;        &lt;/ion-list&gt;      &lt;/ion-content&gt;    &lt;/ion-side-menu&gt;    &lt;ion-side-menu-content drag-content="false"&gt;      &lt;ion-nav-bar class="bar-balanced"&gt;        &lt;ion-nav-buttons side="left"&gt;          &lt;button menu-toggle="left" class="button button-icon icon ion-navicon"&gt;&lt;/button&gt;        &lt;/ion-nav-buttons&gt;        &lt;ion-nav-back-button class="button-clear"&gt;          &lt;i class="ion-arrow-left-c"&gt;&lt;/i&gt; Back        &lt;/ion-nav-back-button&gt;      &lt;/ion-nav-bar&gt;      &lt;ion-nav-view&gt;&lt;/ion-nav-view&gt;    &lt;/ion-side-menu-content&gt;  &lt;/ion-side-menus&gt;&lt;/body&gt;</pre><p>Чтобы включить боковое меню, мы начинаем с упаковки содержимого приложения в <code class="inline">ionSideMenus</code>. Это позволяет Ionic координировать боковое меню и области содержимого. Затем у нас есть <code class="inline">ionSideMenu</code> с атрибутом <code class="inline">side="left"</code>, чтобы указать, на какой стороне он расположен.</p><p>В боковом меню мы можем поместить любой контент, который пожелаем. В этом случае, и, возможно, это наиболее распространенный сценарий, контент представляет собой компонент <code class="inline">ionHeaderBar</code> и компонент <code class="inline">ionList</code> для отображения названия приложения и списка ссылок соответственно. Мы еще не определили настройку, так что ссылка на данный момент не сработает. Также обратите внимание, что компоненты <code class="inline">ionItem</code> имеют атрибут <code class="inline">menu-close</code>. Это автоматически закрывает боковое меню, когда пользователь нажимает на ссылку, в противном случае она остается открытой.</p><p>Компонент <code class="inline">ionSideMenuContent</code> используется для содержания основной области содержимого. Эта область содержимого занимает весь экран, но этот компонент просто помогает компоненту бокового меню правильно отображаться. Мы также использовали атрибут <code class="inline">drag-content = "false"</code>, чтобы отключить жесты перетаскивания, поскольку они будут препятствовать прокручиванию списка и вкладкам.</p><p>Мы также добавили новую кнопку в навигационную панель, используя <code class="inline">ionNavButtons</code>. Это значок бокового меню, который отображается в верхнем правом углу в виде трех уложенных линий. Эта кнопка имеет атрибут <code class="inline">menu-toggle = "left"</code>, который запускает меню левой стороны для переключения при выборе.</p><p>Теперь, когда наше боковое меню на месте, давайте приступим к настройке следующего основного навигационного компонента, добавив вкладки для представления настроек.</p><h2> <span class="sectionnum">2.</span> Вкладки с индивидуальной навигационной историей</h2><p>Вкладки - еще один общий шаблон навигации для навигации по приложению. Вкладки легко понять, потому что мы видим их во многих типах интерфейсов, а не только для мобильных приложений. </p><p>Вкладки могут быть устаревшими или неактивными. Вкладка, которая отображает контент, который не сохраняет память о каких-либо изменениях, является вкладкой без состояния, в то время как вкладка, которая поддерживает состояние, основанное на взаимодействии с пользователем, является работоспособной (например, сохраняя результат поиска). Мы рассмотрим, как создавать вкладки с сохранением состояния с помощью Ionic, поскольку они более сложны и мощнее.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/image/ionic-part-4-tabs.png" alt="Начинаем работать с Ionic: Навигация..." title="Начинаем работать с Ionic: Навигация..." width="50" height="50"></figure><p>Настроить вкладки довольно легко с компонентами <code class="inline">ionTabs</code> и <code class="inline">ionTab</code>. Подобно боковым меню, вы помещаете столько вкладок внутри, сколько хотите. Нет жесткого предела, но я считаю, что пять - это здоровый максимум. На небольших устройствах слишком много значков затрудняет выбор вкладки.</p><p>Мы собираемся создать вкладки, создав пару новых файлов. Сначала давайте настроим шаблон, создав новый файл по адресу <strong>www/views/settings/settings.html</strong>. Добавьте следующий код в новый файл.</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-tabs class="tabs-icon-top tabs-stable"&gt;  &lt;ion-tab title="Preferences" icon-on="ion-ios-gear" icon-off="ion-ios-gear-outline" ui-sref="settings.preferences"&gt;    &lt;ion-nav-view name="preferences"&gt;&lt;/ion-nav-view&gt;  &lt;/ion-tab&gt;  &lt;ion-tab title="About" icon-on="ion-ios-information" icon-off="ion-ios-information-outline" ui-sref="settings.about"&gt;    &lt;ion-nav-view name="about"&gt;&lt;/ion-nav-view&gt;  &lt;/ion-tab&gt;&lt;/ion-tabs&gt;</pre><p>Компонент <code class="inline">ionTabs</code> используется для обертывания внутренних компонентов <code class="inline">ionTab</code>. Существует <span>несколько классов</span>, которые могут определять, как появляются вкладки, например, добавлять вкладки вверху или внизу, используя значки с титрами или без них и многое другое. Здесь мы решили использовать вкладки, у которых есть заголовок с пиктограммой вверху со стабильной настройкой цвета.</p><p>Компонент <code class="inline">ionTab</code> имеет ряд атрибутов, которые могут использоваться для определения его поведения. Он <span>поддерживает множество функций</span>, таких как показ небольшого значка уведомления, привязка вкладок к состояниям, поведение значков и многое другое. Для наших вкладок каждый имеет <code class="inline">title</code>, класс значка, когда активна вкладка (<code class="inline">icon-on</code>) или неактивна (<code class="inline">icon-off</code>), и ссылки на состояние с использованием <code class="inline">ui-sref</code>.</p><p>Внутри каждой вкладки находится другой <code class="inline">ionNavView</code>. Это может показаться неуместным, поскольку у нас уже есть <code class="inline">ionNavView</code>, созданный в <strong>index.html</strong>. То, что мы делаем, объявляет дополнительные местоположения, которые можно отобразить для состояния, которые в свою очередь можно рассматривать как дочерние.</p><p>Каждая вкладка может иметь свою собственную историю навигации, потому что каждый <code class="inline">ionNavView</code> не зависит от других. Каждая вкладка также имеет уникальное имя, которое пригодится, поэтому мы можем определить определенные состояния, которые появятся в названии <code class="inline">ionNavView</code>.</p><p>Возможно, вы заметили, что на этой странице нет элемента <code class="inline">ionView</code>, и это важно отметить при использовании вкладок с состоянием. Это не нужно, если вы используете <code class="inline">ionTabs</code> таким образом, только если вы используете вкладки без состояния, версию компонента CSS, вам это понадобится.</p><p>Теперь нам нужно настроить некоторые дополнительные состояния, чтобы сделать пример работоспособным. Создайте еще один файл в <strong>www/views/settings/settings.js</strong> и добавьте к нему следующий код.</p><pre class="brush: javascript noskimlinks noskimwords">angular.module("App").config(function($stateProvider, $urlRouterProvider) {  $stateProvider.state("settings", {    url: "/settings",    abstract: true,    templateUrl: "views/settings/settings.html"  })  .state("settings.about", {    url: "/about",    views: {      about: {        templateUrl: "views/settings/tab.about.html"      }    }  })  .state("settings.license", {    url: "/license",    views: {      about: {        templateUrl: "views/settings/tab.license.html"      }    }  })  .state("settings.preferences", {    url: "/preferences",    views: {      preferences: {        controller: "PreferencesController",        controllerAs: "vm",        templateUrl: "views/settings/tab.preferences.html"      }    }  });  $urlRouterProvider.when("/settings", "/settings/preferences");}).controller("PreferencesController", function(Types) {  var vm = this;  vm.types = Types;});</pre><p>Вы можете видеть, что мы создаем несколько новых состояний, но они отличаются от других состояний, которые мы определили до сих пор. Первое состояние представляет собой абстрактное состояние, которое по существу является состоянием, которое не может быть непосредственно загружено самостоятельно. Это имеет смысл для нас с интерфейсом табуляции, поскольку состояние <code class="inline">settings</code> загружает шаблон компонентов вкладки, но пользователи никогда не находятся только в компоненте вкладки. Они всегда просматривают активную вкладку, содержащую другое состояние. Таким образом, использование абстрактных дает нам возможность правильно их подключать.</p><p>Остальные три состояния определяются как <code class="inline">settings.[name]</code>. Это позволяет нам определить отношения между родителями и дочерними элементами между этими состояниями, которые в основном отражают отношения между родителями и дочерними компонентами <code class="inline">ionTabs</code> и <code class="inline">ionTab</code>. В этих состояниях используется свойство view, которое представляет собой объект со свойством, названным по представлению, которое он использует.</p><p>Имя, которое вы указываете в своем шаблоне с помощью <code class="inline">ionNavView</code>, должно совпадать с именем свойства. Значением этого свойства является то же определение состояния, без <code class="inline">url</code>, который был объявлен обычным способом. <code class="inline">url</code> также следует за отношениями родитель-ребенок, объединяя их. Таким образом, все эти дочерние состояния отображаются как <strong>/settings/preferences</strong>.</p><p>Вам нужно добавить <strong>settings.js </strong>в <strong>index.html</strong> с помощью другого тега script. Как только вы это сделаете, вы увидите некоторые ошибки, потому что мы ссылаемся на несколько файлов, которые мы еще не создали. Давайте закончим наши шаблоны вкладок.</p><pre class="brush: javascript noskimlinks noskimwords">&lt;script src="views/settings/settings.js"&gt;&lt;/script&gt;</pre><p>Нам нужно создать три. Первые два являются статическим контентом, поэтому я не буду подробно на них останавливаться. Создайте файл на <strong>www/views/settings/tab.about.html</strong> и добавьте к нему следующий контент.<br></p><pre class="brush: html noskimlinks noskimwords">&lt;ion-view view-title="About" hide-back-button="true"&gt;  &lt;ion-content&gt;    &lt;div class="list"&gt;      &lt;a href="https://github.com/gnomeontherun/civinfo-part-3" target="_blank" class="item"&gt;        &lt;h2&gt;Project on GitHub&lt;/h2&gt;        &lt;p&gt;Click to view project&lt;/p&gt;      &lt;/a&gt;      &lt;div class="item" ui-sref="settings.license"&gt;        &lt;h2&gt;License&lt;/h2&gt;        &lt;p&gt;See full license&lt;/p&gt;      &lt;/div&gt;    &lt;/div&gt;  &lt;/ion-content&gt;&lt;/ion-view&gt;</pre><p>Он содержит шаблон, который отображает некоторую информацию. Он связан с проектом GitHub и лицензией. Вот как это выглядит.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/image/ionic-part-4-tabs-about.png" alt="Начинаем работать с Ionic: Навигация..." title="Начинаем работать с Ionic: Навигация..." width="50" height="50"></figure><p>Создайте еще один файл в <strong>www/views/settings/tab.license.html</strong> и добавьте к нему следующий контент.</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-view view-title="License"&gt;  &lt;ion-content&gt;    &lt;div class="card"&gt;      &lt;div class="item item-divider"&gt;        The MIT License (MIT)      &lt;/div&gt;      &lt;div class="item item-text-wrap"&gt;        &lt;p&gt;Copyright (c) 2016 Jeremy Wilken&lt;/p&gt;        &lt;p&gt;Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:&lt;/p&gt;        &lt;p&gt;The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.&lt;/p&gt;        &lt;p&gt;THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.&lt;/p&gt;      &lt;/div&gt;    &lt;/div&gt;  &lt;/ion-content&gt;&lt;/ion-view&gt;</pre><p>Он содержит содержимое лицензии (MIT) для этого кода. Существует простая карточка для содержимого контента. Вот как это выглядит.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/image/ionic-part-4-tabs-license.png" alt="Начинаем работать с Ionic: Навигация..." title="Начинаем работать с Ionic: Навигация..." width="50" height="50"></figure><p>Окончательный шаблон содержит некоторые элементы формы. Я рассмотрю это немного подробнее. Создайте новый файл <strong>www/views/settings/tab.preferences.html</strong> и добавьте к нему следующий контент.</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-view view-title="Preferences" hide-back-button="true"&gt;  &lt;ion-content&gt;    &lt;ul class="list"&gt;      &lt;li class="item item-divider"&gt;        Types of Locations      &lt;/li&gt;      &lt;li class="item item-toggle" ng-repeat="type in vm.types"&gt;        {{type.type}}        &lt;label class="toggle"&gt;          &lt;input type="checkbox" ng-model="type.enabled"&gt;          &lt;div class="track"&gt;            &lt;div class="handle"&gt;&lt;/div&gt;          &lt;/div&gt;        &lt;/label&gt;      &lt;/li&gt;    &lt;/ul&gt;  &lt;/ion-content&gt;&lt;/ion-view&gt;</pre><p>Это представление содержит список переключателей, которые показывают четыре типа мест, которые приложение может отображать, музей, парк, библиотеку и больницу. Каждый из этих элементов списка позволяет вам включать или отключать тип места из списка. Кнопка переключения является компонентом CSS. Нам просто нужно использовать флажок с этой специфической разметкой и структурой классов CSS, чтобы они отображались как мобильные переключающие кнопки.</p><figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/1195/posts/26486/image/ionic-part-4-tabs-pref.png" alt="Начинаем работать с Ionic: Навигация..." title="Начинаем работать с Ionic: Навигация..." width="50" height="50"></figure><p>В этом представлении есть контроллер, объявленный в <strong>settings.js</strong>, но он использует службу <code class="inline">Types</code>, которую мы еще не создали. Мы исправим это, добавив новый сервис в <strong>www/js/app.js</strong>.</p><pre class="brush: javascript noskimlinks noskimwords">.factory("Types", function() {  return [    {type: "Park", enabled: true},    {type: "Hospital", enabled: true},    {type: "Library", enabled: true},    {type: "Museum", enabled: true}  ];})</pre><p>Эта служба содержит массив типов мест. Он имеет свойство для имени каждого типа места и флаг является ли он включенным или отключен. Мы используем свойство enabled в кнопке переключения <code class="inline">ngModel</code> для отслеживания состояния, если этот тип должен отображаться.</p><p>На этом этапе вы можете открыть боковое меню и перейти к ссылке настроек. Вы можете видеть две вкладки, настройки и другое. На вкладке «Настройки» вы можете включать или отключать типы мест.</p><p>Если вы перейдете на вкладку about, вы можете выбрать лицензию, чтобы увидеть, как она перемещается по другому маршруту на вкладке. Если вы переключитесь между настройками и вкладкой с лицензией после просмотра лицензии, вы увидите, что на вкладке запоминается, что вы были в состоянии лицензии даже после того, как вы ушли, демонстрируя состояние этих вкладок с точки зрения состояния.</p><p>Последним этапом этого урока является обновление представления мест для использования службы <code class="inline">Types</code> для загрузки только нужных типов мест и использования службы истории для обработки, когда нужно перезагрузить или использовать кеш.</p><h2> <span class="sectionnum">3.</span> Кэширование и использование службы истории</h2><p>По умолчанию Ionic кэширует последние 10 просмотров и сохраняет их в памяти. Во многих приложениях может быть даже не так много состояний, что означает, что все ваше приложение может оставаться в памяти. Это полезно, потому что это означает, что Ionic не нужно повторно отображать представление перед навигацией, что ускоряет работу приложения.</p><p>Это может вызвать некоторые поведенческие проблемы, поскольку вы можете подумать, что ваши состояния всегда перезагружают и повторно инициализируют контроллер в любое время, когда к нему обращаются. Поскольку кэшируется только 10 просмотров, если у вас 20 просмотров, в кеше будут только 10 последних. Это означает, что вы не можете гарантировать, что представление находится в кеше или нет. Поэтому вы должны избегать выполнения логики установки в своих контроллерах за пределами хуков жизненного цикла. Вы также можете настроить стратегии кэширования с помощью <span><code class="inline">$ionicConfigProvider</code></span>.</p><p>Иногда вам нужно посмотреть навигационную историю пользователя, чтобы определить, что делать. Например, в этом приложении мы хотим сохранить список мест, кешированных, если пользователь нажимает на место и затем возвращается обратно в список. Если мы автоматически обновляем список при каждом посещении, пользователи могут потерять свое место в списке после прокрутки и просмотра места.</p><p>С другой стороны, если пользователь переходит на страницу настроек, а затем обратно в список мест, мы хотим обновить список, поскольку они могут изменить типы мест, которые они хотят отобразить.</p><p>Мы собираемся использовать комбинацию событий жизненного цикла, которые мы рассмотрели ранее, с помощью службы <code class="inline">$ionicHistory</code>, чтобы добавить некоторую логику, которая поможет определить, когда состояние мест должно перезагрузить список. Мы также хотим использовать службу <code class="inline">Types</code>, чтобы помочь нам загружать только те типы мест, которые пользователь хочет увидеть.</p><p>Откройте <strong>www/views/places/places.js</strong> и обновите его, чтобы он соответствовал следующему коду. Нам нужно изменить способ загрузки данных и использовать службу <code class="inline">$ionicHistory</code> для проверки истории, чтобы определить, когда нужно перезагружать.</p><pre class="brush: javascript noskimlinks noskimwords">angular.module("App").config(function($stateProvider) {  $stateProvider.state("places", {    url: "/places",    controller: "PlacesController as vm",    templateUrl: "views/places/places.html"  });}).controller("PlacesController", function($http, $scope, $ionicLoading, $ionicHistory, Geolocation, Types) {  var vm = this;  var base = "https://civinfo-apis.herokuapp.com/civic/places?location=" + Geolocation.geometry.location.lat + "," + Geolocation.geometry.location.lng;  var token = "";  vm.canLoad = true;  vm.places = [];  vm.load = function load() {    $ionicLoading.show();    var url = base;    var query = [];    angular.forEach(Types, function(type) {      if (type.enabled === true) {        query.push(type.type.toLowerCase());      }    });    url += "&amp;query=" + query.join("|");    if (token) {      url += "&amp;token=" + token;    }    $http.get(url).then(function handleResponse(response) {      vm.places = vm.places.concat(response.data.results);      token = response.data.next_page_token;      if (!response.data.next_page_token) {        vm.canLoad = false;      }      $scope.$broadcast("scroll.infiniteScrollComplete");      $ionicLoading.hide();    });  };  $scope.$on("$ionicView.beforeEnter", function() {    var previous = $ionicHistory.forwardView();    if (!previous || previous.stateName != "place") {      token = "";      vm.canLoad = false;      vm.places = [];      vm.load();    }  });});</pre><p>Во-первых, мы изменили способ создания URL-адреса для нашего API для перехода к загрузке запрошенных типов. Если вы сравните это с предыдущей версией, то заметите что в используется <code class="inline">angular.forEach</code>, чтобы перебрать каждый тип и добавить его в URL.</p><p>Мы также изменили способ работы системы <code class="inline">$ionicLoading</code>. Вместо запуска сразу, когда контроллер запускается изначально, мы запускаем его в любое время, когда вызывается метод <code class="inline">vm.load()</code>. Это важно, потому что контроллер будет кэшироваться и не будет перезагружать данные по умолчанию.</p><p>Самым большим изменением является обработчик события <code class="inline">$ionicView.beforeEnter</code>. Это событие срабатывает до того, как представление вот-вот станет следующим активным видом и позволит нам сделать некоторые настройки. Мы используем <code class="inline">$ionicHistory.forwardView()</code> Чтобы получить информацию о последнем просмотре, в котором находился пользователь.</p><p>Если это первая загрузка, тогда он будет пустым, иначе он вернет некоторые данные о последнем состоянии. Затем мы проверяем, было ли предыдущее состояние состоянием места, и если да, то мы используем список результатов кэширования. Кроме того, поскольку мы имеем менее 10 состояний, мы знаем, что состояние всегда будет храниться в памяти.</p><p>В противном случае он сбросит кешированные значения и инициирует новую загрузку данных. Это означает, что когда я вернусь к просмотру мест после перехода к настройкам, он перезагрузит данные. В зависимости от дизайна вашего приложения вы, вероятно, захотите разработать различные условные правила для обработки кэширования и перезагрузки.</p><p><span>Служба истории</span> предоставляет дополнительную информацию, такую как весь стек истории, возможность изменения истории, сведения о текущем состоянии и многое другое. Вы можете использовать эту службу для точной настройки поведения во время навигации в приложении.</p><p>Мы собираемся сделать две другие небольшие настройки в нашем шаблоне мест. Откройте <strong>www/views/places/places.html</strong> и измените заголовок на <strong>Локальные Места</strong>.</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-view view-title="Local Places" hide-back-button="true"&gt;</pre><p>Затем обновите бесконечный элемент прокрутки с помощью еще одного атрибута, <code class="inline">immediate-check</code>, чтобы предотвратить бесконечный компонент прокрутки от загрузки данных одновременно с начальной загрузкой. Это существенно предотвращает дублирование запросов на получение большего количества данных.</p><pre class="brush: html noskimlinks noskimwords">&lt;ion-infinite-scroll on-infinite="vm.load()" ng-if="vm.canLoad" immediate-check="false"&gt;&lt;/ion-infinite-scroll&gt;</pre><p>На данный момент мы создали довольно солидное приложение, имеющее довольно приятный набор функций. Мы завершим эту серию одниой последней учебной статьей о Cordova  и интеграции с некоторыми функциями устройства, такими как доступ к данным GPS.</p><h2>Заключение</h2><p>Навигация с помощью Ionic всегда начинается с объявления некоторых состояний. Как мы видели в этом руководстве, предоставление этой навигации может быть сделано несколькими способами. Это то, что мы рассмотрели в этом уроке:</p><ul><li>Компоненты бокового меню упрощают создание одного или двух боковых меню, которые могут быть активированы по требованию или при свайпе.</li> <li>Вкладки могут быть с состоянием и без. В закладках с состоянием могут быть отдельные виды с отдельными навигационными историями.</li> <li>Вкладки имеют множество опций настройки для отображения значков и текста.</li> <li>Кнопка переключения - это компонент CSS, который работает как флажок, но предназначен для мобильных устройств.</li> <li>Вы можете использовать службу <code class="inline">$ionicHistory</code>, чтобы узнать больше о навигационной истории приложения для максимальной настройки его поведения.</li> </ul>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Ionic" href="https://norma-studio.github.io/article5/220825237-nachinaem-rabotat-s-ionic-navigatsiya" class="tm-article-body__tags-item-link">Ionic</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
35856</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
621</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
