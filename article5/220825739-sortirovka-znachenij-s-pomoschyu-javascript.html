
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Сортировка значений с помощью JavaScript
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Сортировка значений с помощью JavaScript
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Сортировка значений с помощью JavaScript
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Сортировка значений с помощью JavaScript
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Списки и таблицы часто являются лучшим способом отображения данных в Интернете; но вам не придется беспокоиться о том, чтобы сортировать эту информацию вручную. В сегодняшнем учебнике мы будем создавать плагин jQuery, который поместит всех ваших уток подряд с легкостью JavaScript!...">
<meta property="og:description" content="Списки и таблицы часто являются лучшим способом отображения данных в Интернете; но вам не придется беспокоиться о том, чтобы сортировать эту информацию вручную. В сегодняшнем учебнике мы будем создавать плагин jQuery, который поместит всех ваших уток подряд с легкостью JavaScript!...">
<meta name="twitter:description" content="Списки и таблицы часто являются лучшим способом отображения данных в Интернете; но вам не придется беспокоиться о том, чтобы сортировать эту информацию вручную. В сегодняшнем учебнике мы будем создавать плагин jQuery, который поместит всех ваших уток подряд с легкостью JavaScript!...">
<meta property="aiturec:description" content="Списки и таблицы часто являются лучшим способом отображения данных в Интернете; но вам не придется беспокоиться о том, чтобы сортировать эту информацию вручную. В сегодняшнем учебнике мы будем создавать плагин jQuery, который поместит всех ваших уток подряд с легкостью JavaScript!...">
<meta property="og:image" content="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta property="aiturec:image" content="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta name="twitter:image" content="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta property="vk:image" content="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript.html" title="Сортировка значений с помощью JavaScript
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Сортировка значений с помощью JavaScript
... | envatomarket.ru | norma-studio.github.io" title="Сортировка значений с помощью JavaScript
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64533ghhjgjj.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript.html" class="tm-user-info__username" title="
С. Парфенов" aria-label="
С. Парфенов">
С. Парфенов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Сортировка значений с помощью JavaScript
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript" class="tm-article-snippet__hubs-item-link"><span>Web Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript.html" />
    <link itemprop="image" href="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg">
    <meta itemprop="headline name" content="Сортировка значений с помощью JavaScript
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Списки и таблицы часто являются лучшим способом отображения данных в Интернете; но вам не придется беспокоиться о том, чтобы сортировать эту информацию вручную. В сегодняшнем учебнике мы будем создавать плагин jQuery, который поместит всех ваших уток подряд с легкостью JavaScript!...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Списки и таблицы часто являются лучшим способом отображения данных в Интернете; но вам не придется беспокоиться о том, чтобы сортировать эту информацию вручную. В сегодняшнем учебнике мы будем создавать плагин jQuery, который поместит всех ваших уток подряд с легкостью JavaScript!...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>Списки и таблицы часто являются лучшим способом отображения данных в Интернете; но вам не придется беспокоиться о том, чтобы сортировать эту информацию вручную. В сегодняшнем учебнике мы будем создавать плагин jQuery, который поместит всех ваших уток подряд с легкостью JavaScript!</p><p><!--more--></p> <div class="tutorial_image"> <span><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_src_nm.jpg" class="lazy07" alt="Сортировка значений с помощью JavaScript..." title="Сортировка значений с помощью JavaScript..." width="50" height="50"></span><br><span><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://net.tutsplus.com/wp-content/themes/nettuts/site_images/button_demo_nm.jpg" class="lazy07" alt="Сортировка значений с помощью JavaScript..." title="Сортировка значений с помощью JavaScript..." width="50" height="50"></span> </div> <h2>Предисловие</h2> <p>Итак, как именно сортировка работает в JavaScript? Это не слишком сложно: любой объект массива имеет метод сортировки. Если вы не передадите ему никаких параметров, он преобразует объекты в массив в строки, сортирует их в псевдо-алфавитном порядке и возвращает назад. Обычно это выглядит ужасно; рассмотрите сортировку чисел 0 - 10 в алфавитном порядке. Вы получите следующее: [0, 1, 10, 2, 3, 4, 5, 6, 7, 8, 9]. К счастью, мы можем передать функцию методу сортировки. Эта функция должна принимать два параметра (два элемента для сравнения): затем она будет возвращать 0, если они равны, отрицательное число, если первый параметр имеет приоритет, или положительное число если второй параметр должен быть первым. Таким образом, цифры на самом деле - самая простая вещь для сортировки «вручную»: </p> <pre class="brush: js noskimlinks noskimwords">numberArray.sort(function(a, b) {    return a - b});</pre> <p>Очевидно, что это вернет 0, если числа равны, отрицательное число, если <code>a</code> должно быть первым, и положительное число, если <code>b</code> должно быть первым. </p> <p>Мы рассмотрим сортировку нескольких разных типов данных, в нескольких форматах; но все это будет намного полезнее, если мы обернем ее в плагин jQuery, так что начнем с создания этой оболочки!</p> <h2>Плагин-оболочка</h2> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=599/net/uploads/legacy/498_js/plugin.png" alt="Сортировка значений с помощью JavaScript..." title="Сортировка значений с помощью JavaScript..." width="50" height="50"></div> <p>Если вы не знакомы с написанием плагинов jQuery, посмотрите скринкаст «Джеффри Вэй» «<span>Вы все еще не можете создать плагин jQuery?</span>» Он определенно вам поможет чувствовать себя удобнее, работая с jQuery! (истинное признание: я бы никогда не написал плагин). </p> <p>Мы создадим наш плагин, называемый datasort, таким образом: мы передадим ему массив элементов для сортировки; мы можем указать четыре параметра.</p> <ul><li>datatype (тип данных, которые вы сортируете)</li> <li>sortElement (дочерний элемент, который вы хотите сортировать по желанию)</li> <li>sortAttr (атрибут, который вы хотите сортировать, по желанию)</li> <li>reverse (направление, в котором они должны сортироваться)</li> </ul><p>Таким образом, полностью модифицированный вызов к нашему плагину может выглядеть следующим образом:</p> <pre class="brush: js noskimlinks noskimwords">$("ul.names li).datasort({      datatype    : "alpha",    sortElement : "span.first",    sortAttr    : "rel",    reverse     : true    });</pre> <p>Вот оболочка плагина:</p> <pre class="brush: js noskimlinks noskimwords">(function ($) {  $.fn.datasort = function(options) {    var defaults = {    //set the default parameter values          datatype    : "alpha",          sortElement : false,          sortAttr    : false,          reverse     : false          },    // combine the default and user"s parameters, overriding defaults        settings = $.extend({}, defaults, options),         datatypes = {},        base = {},        that = this;    if (typeof settings.datatype === "string") {      that.sort(datatypes[settings.datatype]);    }    if (typeof settings.datatype === "function") {      that.sort(settings.datatype);    }    if(settings.reverse) {      that = $($.makeArray(this).reverse());    }    $.each(that, function(index, element) { that.parent().append(element); });  };})(jQuery);</pre> <p>Итак, вот как это будет работать: мы будем устанавливать все переменные в начале. Затем, если параметр datatype является строкой, мы найдем соответствующую функцию сортировки в объекте datatypes и отсортируем его; если параметр datatype является функцией, мы будем сортировать ей. Наконец, если для параметра reverse установлено значение true, мы изменим порядок отсортированных элементов (поскольку объекты jQuery не являются истинными массивами JavaScript, функция reverse не будет работать на них, поэтому мы можем использовать $.makeArray( ), чтобы превратить одно в другое, а затем, как только все будет в обратном порядке, мы снова обернем это в jQuery!).</p> <h2>Немного черновой работы</h2> <p>На самом низком уровне вы можете сортировать практически любые типы данных одним из двух способов: в алфавитном порядке и численно. Давайте создадим эти две функции как свойства вашего базового объекта.</p> <pre class="brush: js noskimlinks noskimwords">base = {  alpha : function(a, b) {    a = a.toUpperCase();    b = b.toUpperCase();    return (a &lt; b) ? -1 : (a &gt; b) : 1 : 0;    //ternary operator: condition ? returnIfTrue : returnIfFalse  },  number : function(a, b) {    a = parseFloat(a);    b = parseFloat(b);    return a - b;  }},</pre> <p>Довольно просто, да? Просто нормализовать два значения, сравнить и вернуть. Сложная часть - синтаксический анализ данных, которые мы хотим отправить этим функциям; вот что мы будем делать сейчас. Однако есть еще одна вещь.</p> <p>При сортировке элементов в массиве мы, возможно, не хотим сортировать просто по тексту самого элемента. Для этого используются параметры sortElement и sortAttr нашего плагина. Например, мы, скорее всего, захотим отсортировать строки таблицы на основе определенного столбца ячеек таблицы. В этом случае мы будем использовать $("table tr").datasort({sortElement: "td.price"}). Или, возможно, мы хотим отсортировать список изображений по их атрибутам alt: $("ul li").datasort({sortElement: "img", sortAttr: "alt"}). Для всего этого нам нужно добавить еще одну функцию к нашему базовому объекту:</p> <pre class="brush: js noskimlinks noskimwords">base = {  alpha : function (a, b) { ... },  number : function (a, b) { ... },  extract : function (a, b) {  var get = function (i) {      var o = $(i);      if (settings.sortElement) {        o = o.children(settings.sortElement);      }      if (settings.sortAttr) {        o = o.attr(settings.sortAttr);      } else {        o = o.text();      }      return o;    };    return {      a : get(a),      b : get(b)    };  }},</pre> <p>Это может показаться сложным, но на самом деле это не так. Мы просто создаем объект jQuery с каждым элементом; если параметр sortElement установлен, мы используем метод children() для получения нужных элементов. Затем, если setAttr установлен, мы получаем его значение; если нет, мы получаем текст элемента.  Мы установили все это для внутренней функции и возвращаем объект с двумя свойствами; эти свойства являются значениями, которые мы должны проанализировать и отправить в соответствующую функцию базовой сортировки.</p> <p>Вероятно, это было похоже на большую подготовительную работу, но то, что мы действительно делали, - это абстрагирование как можно большего количества кода. Таким образом, будет намного меньше дублирования, потому что важные действия были объединены как функции.</p> <h2>Сортировка слов и чисел</h2> <p>Мы наконец здесь: интересная часть! Мы начнем с создания двух простых функций для нашего объекта datatypes. Они будут просто передавать значения в base.extract(), а затем передавать эти возвращаемые значения в соответствующий класс сортировки.</p> <pre class="brush: js noskimlinks noskimwords">datatypes = {  alpha : function (a, b) {    var o = base.extract(a, b);    return base.alpha(o.a, o.b);  },  number : function(a, b) {    var o = base.extract(a, b);    for (var e in o) {      o[e] = o[e].replace(/[$]?(-?\d+.?\d+)/, "\$1");    }    return base.number(o.a, o.b);  },},</pre> <p>Наш алфавитный сортировщик должен быть очевиден. Сортировщик чисел делает немного больше: перед передачей извлеченных значений он вырезает знак доллара спереди. Я сохранил это регулярное выражение простым, но вы могли бы разобрать много разных форматов здесь, если бы хотели получить что-то более сложное. Давайте уже опробуем наш плагин; создайте базовую страницу html:</p> <pre class="brush: html noskimlinks noskimwords">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;  &lt;meta charset="utf-8" /&gt;  &lt;title&gt;Data Sorting&lt;/title&gt;  &lt;style type="text/css"&gt;  ul, table {    display:table;    float:left;    background:#ececec;    margin:10px;    padding:0;    border:1px solid #ccc;  }  li, tr {    margin:0;    padding:8px;    border-top:1px solid #fff;    border-bottom:1px solid #ccc;    list-style-type:none;  }  li:first-child { border-top:0 }  li:last-child { border-bottom:0 }  &lt;/style&gt;&lt;/head&gt;&lt;body&gt;  &lt;table class="a"&gt;    &lt;thead&gt;      &lt;tr&gt;        &lt;th rel="alpha" class="first"&gt;First Name&lt;/th&gt;        &lt;th rel="alpha" class="last"&gt;Last Name&lt;/th&gt;      &lt;/tr&gt;    &lt;/thead&gt;    &lt;tbody&gt;      &lt;tr&gt;&lt;td class="first"&gt;Jeffrey&lt;/td&gt; &lt;td class="last"&gt;Way&lt;/td&gt;&lt;/tr&gt;      &lt;tr&gt;&lt;td class="first"&gt;Sean&lt;/td&gt; &lt;td class="last"&gt;Hodge&lt;/td&gt;&lt;/tr&gt;      &lt;tr&gt;&lt;td class="first"&gt;Adam&lt;/td&gt; &lt;td class="last"&gt;Miller&lt;/td&gt;&lt;/tr&gt;      &lt;tr&gt;&lt;td class="first"&gt;Ian&lt;/td&gt; &lt;td class="last"&gt;Yates&lt;/td&gt;&lt;/tr&gt;      &lt;tr&gt;&lt;td class="first"&gt;Adrian&lt;/td&gt; &lt;td class="last"&gt;Try&lt;/td&gt;&lt;/tr&gt;      &lt;tr&gt;&lt;td class="first"&gt;Caleb&lt;/td&gt; &lt;td class="last"&gt;Aylsworth&lt;/td&gt;&lt;/tr&gt;    &lt;/tbody&gt;  &lt;/table&gt;  &lt;ul class="n"&gt;  &lt;li&gt;4.09&lt;/li&gt;  &lt;li&gt;4.10&lt;/li&gt;  &lt;li&gt;67.8&lt;/li&gt;  &lt;li&gt;100&lt;/li&gt;  &lt;li&gt;-98&lt;/li&gt;  &lt;li&gt;67.7&lt;/li&gt;  &lt;li&gt;23&lt;/li&gt;  &lt;/ul&gt;   &lt;ul class="curr"&gt;    &lt;li&gt;$299.66&lt;/li&gt;    &lt;li&gt;$299.57&lt;/li&gt;    &lt;li&gt;$0.14&lt;/li&gt;    &lt;li&gt;$80.00&lt;/li&gt;  &lt;/ul&gt;  &lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" /&gt;&lt;/script&gt;  &lt;script src="jquery.datasort.js" /&gt;&lt;/script&gt;  &lt;script type="text/javascript"&gt;    $("table.a tbody tr").datasort({sortElement : "td.last"});    $("ul.n li").datasort({datatype: "number", reverse: true});    $("ul.curr li").datasort({ datatype: "number" });  &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</pre> <p>Я включил таблицу и два списка (и я кратко их описал). Обратите внимание на наши вызовы плагинов: мы используем тип данных по умолчанию для таблицы, но сортируем по ячейкам таблицы с классом last; попробуйте изменить это на «td.first». Затем мы сортируем списки численно и меняем один из них. Вот доказательство наших трудов:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/legacy/498_js/alphaNumber.png" alt="Сортировка значений с помощью JavaScript..." title="Сортировка значений с помощью JavaScript..." width="50" height="50"></div> <p>Довольно приятно, но это были относительно простые ценности; что, если мы хотим иметь возможность сортировать несколько форматов для одного типа?</p> <h2>Сортировка дат</h2> <p>Существует множество способов записи дат, что делает их довольно сложными для анализа для сортировки. Однако мы можем охватить большинство из них следующим образом:</p> <pre class="js noskimlinks noskimwords" name="code">date : function(a, b) {  var o = base.extract(a, b);  for (var e in o) {  o[e] = o[e].replace(/-/g, "")             .replace(/january|jan/i, "01")             .replace(/february|feb/i, "02")             .replace(/march|mar/i, "03")             .replace(/april|apr/i, "04")             .replace(/may/i, "05")             .replace(/june|jun/i, "06")             .replace(/july|jul/i, "07")             .replace(/august|aug/i, "08")             .replace(/september|sept|sep/i, "09")             .replace(/october|oct/i, "10")             .replace(/november|nov/i, "11")             .replace(/december|dec/i, "12")             .replace(/(\d{2}) (\d{2}), (\d{4})/, "\$3\$1\$2")             .replace(/(\d{2})\/(\d{2})\/(\d{4})/, "\$3\$2\$1");  }  return base.number(o.a, o.b);},</pre> <p>Итак, что мы здесь делаем? Во-первых, вот логика: если все даты отформатированы YYYYMMDD, они будут корректно сортироваться с численной сортировкой. Наш парсер может сортировать следующие форматы даты:</p> <ul><li>YYYY-MM-DD</li> <li>YYYYMMDD</li> <li>DD/MM/YYYY</li> <li>month DD, YYYY</li> </ul><p>Сначала мы вырезаем тире, что делает YYYY-MM-DD готовыми к парсингу. Затем мы заменяем имя месяца или аббревиатуру на его числовое значение. Наконец, мы должны переместить числа для DD/MM/YYYY и month DD, YYYY. Вот что делают последние два выражения. Чтобы попробовать, вставьте этот список в наш HTML:</p> <pre class="brush: html noskimlinks noskimwords">&lt;ul class="date"&gt;  &lt;li&gt;2009-10-06&lt;/li&gt;  &lt;li&gt;sept 25, 1995&lt;/li&gt;  &lt;li&gt;1990-06-18&lt;/li&gt;  &lt;li&gt;20100131&lt;/li&gt;  &lt;li&gt;June 18, 2009&lt;/li&gt;  &lt;li&gt;02/11/1993&lt;/li&gt;  &lt;li&gt;15941219&lt;/li&gt;  &lt;li&gt;1965-08-05&lt;/li&gt;  &lt;li&gt;1425-12-25&lt;/li&gt;&lt;/ul&gt;</pre> <p>И вызовите это следующим образом:</p> <pre class="brush: js noskimlinks noskimwords">    $("ul.date li").datasort({datatype: "date"});</pre> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=390/net/uploads/legacy/498_js/date.png" alt="Сортировка значений с помощью JavaScript..." title="Сортировка значений с помощью JavaScript..." width="50" height="50"></div> <p>Является ли это идеальным парсером даты? Ни в коем случае; мы не можем сортировать DD/MM/YY, потому что нет способа узнать, в каком веке это происходит. Кроме того, мы не можем отличить DD/MM/YY и MM/DD/YY, поэтому нам просто нужно выбрать один. </p> <h2>Сортировка времени</h2> <p>Сортировка значений времени должна быть одним из самых сложных заданий для сортировки: мы должны иметь возможность принимать 12-часовое время, 24-часовое время и значения с или без тегов AM/PM и секунды. Я думаю, что проще отсортировать время по алфавиту, хотя оно и содержит только числа. Почему? Рассмотрим эти две временные метки: 00:15:37 и 12:15. Первый должен быть первым, но если мы отсортируем их по номеру, они будут проанализированы как плавающие, и в итоге появятся 1537 и 1215. Теперь второе значение будет первым. Кроме того, при сортировке в алфавитном порядке нам не нужно вынимать двоеточия (parseFloat() уберет их). Итак, вот как это делается.</p> <pre class="brush: js noskimlinks noskimwords">time : function(a, b) {  var o = base.extract(a, b),      afternoon = /^(.+) PM$/i;  for (var e in o) {    o[e] = o[e].split(":");    var last = o[e].length - 1;    if(afternoon.test(o[e][last])) {      o[e][0] = (parseInt(o[e][0]) + 12).toString();      o[e][last] = o[e][last].replace(afternoon, "\$1");    }    if(parseInt(o[e][0]) &lt; 10 &amp;&amp; o[e][0].length === 1) {      o[e][0] = "0" + o[e][0];    }    o[e][last] = o[e][last].replace(/^(.+) AM$/i, "\$1");    o[e] = o[e].join("");  }  return base.alpha(o.a, o.b);}</pre> <p>Давайте рассмотрим это по строкам. </p> <pre class="brush: js noskimlinks noskimwords">  var o = base.extract(a, b),      afternoon = /^(.+) PM$/i;</pre> <p>Начнем с наших переменных: извлеченных значений и регулярного выражения для проверки метки PM. </p> <pre class="brush: js noskimlinks noskimwords">  for (var e in o) {    o[e] = o[e].split(":");    var last = o[e].length - 1;    if(afternoon.test(o[e][last])) {      o[e][0] = (parseInt(o[e][0]) + 12).toString();      o[e][last] = o[e][last].replace(afternoon, "\$1");    }</pre> <p>Затем мы начнем цикл for, пройдя каждое из значений, которые мы сортируем; во-первых, мы разбиваем его на массив в двоеточиях. Мы создаем простой способ добраться до последних элементов массива: нашу «последнюю» переменную. Затем мы проверяем наше регулярное выражение PM на последнем элементе нашего массива; если он возвращает true, это значение имеет тег PM. Поэтому мы добавим 12 к первому элементу в нашем массиве, который будет значением часа; мы делаем это, потому что нам нужны все значения, которые будут отформатированы в формате 24 часов. (Обратите внимание, что для этого мы должны преобразовать его в число, добавить 12, а затем вернуть его обратно в строке). Наконец, мы снова используем регулярное выражение PM, чтобы удалить эту метку из последнего элемента массива.</p> <pre class="brush: js noskimlinks noskimwords">    if(parseInt(o[e][0]) &lt; 10 &amp;&amp; o[e][0].length === 1) {      o[e][0] = "0" + o[e][0];    }   o[e][last] = o[e][last].replace(/^(.+) AM$/i, "\$1");    o[e] = o[e].join("");}return base.alpha(o.a, o.b);</pre> <p>В этом последнем фрагменте мы проверяем значение часа для двух условий: оно меньше 10? и имеет ли строка только один символ? Это важно, потому что значение типа 08 будет анализироваться как 8 и быть меньше 10; но мы пытаемся увидеть, нужно ли нам добавить ноль к началу. Если строка имеет только один символ, то мы добавляем нуль, поэтому 3 становится 03. Это будет приводить числа в порядок!</p> <p>Перед присоединением к массиву мы удалим любые метки AM. Так что теперь это...</p> <pre class="brush: html noskimlinks noskimwords">&lt;ul class="time"&gt;  &lt;li&gt;1:15:47&lt;/li&gt;  &lt;li&gt;3:45 PM&lt;/li&gt;  &lt;li&gt;12:00:17&lt;/li&gt;  &lt;li&gt;06:56&lt;/li&gt;  &lt;li&gt;19:39&lt;/li&gt;  &lt;li&gt;4:32 AM&lt;/li&gt;  &lt;li&gt;00:15:36&lt;/li&gt;&lt;/ul&gt;</pre> <p>... можно сортировать с этим... </p> <pre class="js noskimlinks noskimwords" name="code">$("ul.time li").datasort({datatype: "time"});</pre> <p>И готово! Вот плоды нашего труда:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/net/uploads/legacy/498_js/time.png" class="lazy07" alt="Сортировка значений с помощью JavaScript..." title="Сортировка значений с помощью JavaScript..." width="50" height="50"></div> <h2>Дополнительные случайные значения</h2> <p>Мы создали наш плагин jQuery, чтобы пользователи могли передавать функции сортировки в качестве параметра типа данных. Это позволяет нам легко расширять плагин, хотя у нас нет доступа к базовому «классу» из вызова плагина. Мы можем легко написать функцию для сортировки псевдо-рейтингов:</p> <pre class="brush: js noskimlinks noskimwords">$("ul.rating li").datasort({datatype: function(a, b) {      var o  = {      a : $(a).text(),      b : $(b).text()       }      for (var e in o) {        o[e] = o[e].replace(/poor/i, 0)                   .replace(/satisfactory/i, 1)                   .replace(/good/i, 2)                   .replace(/excellent/i, 3);      }      return o.a - o.b;    }});</pre> <p>Это использует простейшие регулярные выражения для сортировки списка:</p> <pre class="brush: html noskimlinks noskimwords">&lt;ul class="rating"&gt;  &lt;li&gt;Good&lt;/li&gt;  &lt;li&gt;Excellent&lt;/li&gt;  &lt;li&gt;Poor&lt;/li&gt;  &lt;li&gt;Satisfactory&lt;/li&gt;&lt;/ul&gt;</pre> <h2>Итог!</h2> <p>Теперь вы знаете: сортировка значений в JavaScript действительно не так сложна, как вы могли бы подумать. Вы можете представить, что это полезно для сортировки таблицы с чем-то вроде этого:</p> <pre class="js noskimlinks noskimwords" name="code">$("table#myTable thead th").toggle(  function() {    var $this = $(this);    $("table#myTable tbody tr").datasort({      datatype: $this.attr("rel"),      sortElement: "td." + $this.attr("class")    });  },   function() {    var $this = $(this);    $("table#myTable tbody tr").datasort({      datatype: $this.attr("rel"),       sortElement: "td." + $this.attr("class"),      reverse: true       });  });</pre> <p>(Попробуйте заменить код jQuery для таблицы в первом примере этим!)</p> <p>Конечно, мы могли бы улучшить этот плагин; например, мы могли бы проверить его атрибут <code>rel</code> atttribute для типа данных, если он не указан как параметр, и использовать по умолчанию alpha, если нет <code>rel</code>. Но это уже не относится к сортировке. </p> <p>В общем, для сортировки с JavaScript мы выполняем следующие шаги:</p> <ol><li>Определите различные форматы, которые вы хотите сортировать.</li> <li>Определите, в каком формате вы хотите сортировать.</li> <li>Сортируйте массив элементов с методом sort(), передавая функцию, которая преобразует два элемента в желаемый формат, прежде чем сравнивать их</li> </ol><p>Есть ли еще какой тип данных для добавления в наш плагин? Есть лучший способ сортировки? Давайте обсуждать это в комментариях!</p> <ul class="webroundup"><li>Следуйте за нами в <span>Твиттере</span> или подпишитесь на <span>Nettuts + RSS Feed</span> для лучших учебных пособий по веб-разработке в Интернете.</li> </ul><p> <br></p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825739-sortirovka-znachenij-s-pomoschyu-javascript" class="tm-article-body__tags-item-link">Web Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
31957</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
594</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
