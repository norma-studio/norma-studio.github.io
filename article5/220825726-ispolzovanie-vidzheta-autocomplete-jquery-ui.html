
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Использование виджета Autocomplete jQuery UI... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Использование виджета Autocomplete jQuery UI... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Использование виджета Autocomplete jQuery UI... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Использование виджета Autocomplete jQuery UI... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="В этом руководстве мы будем рассматривать один из новых компонентов jQuery UI 1.8 – виджет Autocomplete. Текстовые поля с автозаполнением могут быть популярным выбором посетителей вашего сайта, поскольку благодаря им введение информации значительно упрощается. Они могут быть использованы, например, при реализации полей для поиска продукта или тогда...">
<meta property="og:description" content="В этом руководстве мы будем рассматривать один из новых компонентов jQuery UI 1.8 – виджет Autocomplete. Текстовые поля с автозаполнением могут быть популярным выбором посетителей вашего сайта, поскольку благодаря им введение информации значительно упрощается. Они могут быть использованы, например, при реализации полей для поиска продукта или тогда...">
<meta name="twitter:description" content="В этом руководстве мы будем рассматривать один из новых компонентов jQuery UI 1.8 – виджет Autocomplete. Текстовые поля с автозаполнением могут быть популярным выбором посетителей вашего сайта, поскольку благодаря им введение информации значительно упрощается. Они могут быть использованы, например, при реализации полей для поиска продукта или тогда...">
<meta property="aiturec:description" content="В этом руководстве мы будем рассматривать один из новых компонентов jQuery UI 1.8 – виджет Autocomplete. Текстовые поля с автозаполнением могут быть популярным выбором посетителей вашего сайта, поскольку благодаря им введение информации значительно упрощается. Они могут быть использованы, например, при реализации полей для поиска продукта или тогда...">
<meta property="og:image" content="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img1.jpg">
<meta property="aiturec:image" content="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img1.jpg">
<meta name="twitter:image" content="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img1.jpg">
<meta property="vk:image" content="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img1.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img1.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui.html" title="Использование виджета Autocomplete jQuery UI... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Использование виджета Autocomplete jQuery UI... | envatomarket.ru | norma-studio.github.io" title="Использование виджета Autocomplete jQuery UI... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64535356345.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui.html" class="tm-user-info__username" title="
В. Чендылов" aria-label="
В. Чендылов">
В. Чендылов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Использование виджета Autocomplete jQuery UI...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui" class="tm-article-snippet__hubs-item-link"><span>Web Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui.html" />
    <link itemprop="image" href="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img1.jpg">
    <meta itemprop="headline name" content="Использование виджета Autocomplete jQuery UI... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="В этом руководстве мы будем рассматривать один из новых компонентов jQuery UI 1.8 – виджет Autocomplete. Текстовые поля с автозаполнением могут быть популярным выбором посетителей вашего сайта, поскольку благодаря им введение информации значительно упрощается. Они могут быть использованы, например, при реализации полей для поиска продукта или тогда...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">В этом руководстве мы будем рассматривать один из новых компонентов jQuery UI 1.8 – виджет Autocomplete. Текстовые поля с автозаполнением могут быть популярным выбором посетителей вашего сайта, поскольку благодаря им введение информации значительно упрощается. Они могут быть использованы, например, при реализации полей для поиска продукта или тогда...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p>В этом руководстве мы будем рассматривать один из новых компонентов jQuery UI 1.8 – виджет Autocomplete. Текстовые поля с автозаполнением могут быть популярным выбором посетителей вашего сайта, поскольку благодаря им введение информации значительно упрощается. Они могут быть использованы, например, при реализации полей для поиска продукта или тогда, когда посетитель сайта должен ввести название страны, города или же чего-либо еще, что может служить выбором из общепринятого набора данных. Помимо того, что Autocomplete jQuery UI популярен среди посетителей, он также популярен и среди разработчиков, поскольку его легко использовать, а также он обладает богатыми функциональными возможностями и гибкостью.</p><p><!--more--></p> <p>Я не являюсь ярым поклонником Facebook, мне намного больше нравится Twitter (кстати, <span>@danwellman</span>), однако одна из возможностей Facebook, которая мне действительно нравится, – обмен сообщениями, благодаря которой вы можете отправлять сообщение другу или друзьям. Мне нравится, как в этой сети используется возможность автозаполнения для облегчения ввода имен ваших друзей и как форматируются имена сразу после выбора и добавления в поле "to", например: у каждого имени имеется ссылка close (* закрыть. Здесь и далее примеч. пер.), за счет которой имя можно легко удалить без необходимости выбора какого-либо текста.</p> <p>В данном руководстве мы будем использовать виджет jQuery UI Autocomplete для имитации этой черты системы обмена сообщениями Facebook. Однако, мы не будем рассматривать собственно реализацию отправления сообщений. Ниже представлено то, что мы будем создавать:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img1.jpg" class="lazy07" alt="Использование виджета Autocomplete jQuery UI..." title="Использование виджета Autocomplete jQuery UI..." width="50" height="50"></div> <hr><h2> Шаг 1: Начало работы</h2> <p>Нам необходимо будет создать пользовательский вариант загрузки jQuery UI, при котором у нас будут только необходимые нам компоненты; воспользуйтесь конструктором для формирования варианта загрузки на <span>http://jqueryui.com/download</span>. Нам необходимы будут следующие компоненты:</p> <ul><li>Core</li> <li>Widget</li> <li>Position</li> </ul><p>Также нам будет необходим сам виджет Autocomplete, так что убедитесь, что в разделе Components слева отмечены как вышеперечисленные компоненты, так и Autocomplete. Используйте тему по умолчанию (UI Lightness) и убедитесь, что справа выбрана версия 1.8.</p> <p>Сразу после скачивания создайте новую папку на вашем компьютере и назовите ее <strong>autocomplete</strong>. Затем откройте архив и скопируйте папки <strong>css </strong>и <strong>js </strong>в только что созданную вами папку. После этого у вас будут иметься все необходимые для нашего примера файлы библиотеки, включая файл самой jQuery, так что его не нужно скачивать отдельно.</p> <hr><h2> Шаг 2: HTML–код, на основе которого будем работать с виджетом</h2> <p>Давайте рассмотрим в первую очередь код HTML <strong>&lt;form&gt;</strong>:</p> <pre class="brush: html noskimlinks noskimwords">&lt;div id="formWrap"&gt;  &lt;form id="messageForm" action="#"&gt;&lt;fieldset&gt;&lt;legend&gt;New message form&lt;/legend&gt;&lt;span&gt;New Message&lt;/span&gt;&lt;label id="toLabel"&gt;To:&lt;/label&gt;&lt;div id="friends" class="ui-helper-clearfix"&gt;&lt;input id="to" type="text"&gt;&lt;/div&gt;&lt;label&gt;Subject:&lt;/label&gt;&lt;input id="subject" name="subject" type="text"&gt;&lt;label&gt;Message:&lt;/label&gt;&lt;textarea id="message" name="message" rows="5" cols="50"&gt;&lt;/textarea&gt;&lt;button type="button" id="cancel"&gt;Cancel&lt;/button&gt;&lt;button type="submit" id="send"&gt;Send&lt;/button&gt;&lt;/fieldset&gt;&lt;/form&gt;&lt;/div&gt;</pre> <p>Это довольно стандартная форма; у нас имеется внешний контейнер <strong>&lt;div&gt;</strong>, который мы можем использовать для оформления формы, и <strong>&lt;input&gt;</strong>, к которому будет подключен Autocomplete, внутри элемента<strong> &lt;div&gt;</strong>; мы зададим стилевое оформление для <strong>&lt;input&gt;</strong> таким образом, что он будет отчасти скрыт, и для <strong>&lt;div&gt;</strong> так, что он будет выглядеть подобно остальным полям формы. Мы задаем для контейнера <strong>&lt;input&gt;</strong> имя класса <strong>ui-helper-clearfix</strong>, чтобы воспользоваться этим вспомогательным классом во фреймворке CSS jQuery UI.</p> <p>Также нам необходимо добавить ссылки на файлы, которые мы извлекли из архива jQuery UI, а также на нашу таблицу стилей; следующие ссылки должны располагаться в теге<strong> &lt;head&gt;</strong> страницы:</p> <pre class="brush: html noskimlinks noskimwords">&lt;link rel="stylesheet" type="text/css" href="css/ui-lightness/jquery-ui-1.8.custom.css"&gt;&lt;link rel="stylesheet" type="text/css" href="css/autocomplete.css"&gt;</pre> <p>Следующие ссылки должны располагаться в конце тега  <strong>&lt;body&gt;</strong>:</p> <pre class="noskimlinks noskimwords">&lt;script type="text/javascript" src="js/jquery-1.4.2.min.js"&gt;&lt;/script&gt;&lt;script type="text/javascript" src="js/jquery-ui-1.8.custom.min.js"&gt;&lt;/script&gt;</pre> <hr><h2> Шаг 3: Задаем стилевое оформление для формы</h2> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img2.jpg" class="lazy07" alt="Использование виджета Autocomplete jQuery UI..." title="Использование виджета Autocomplete jQuery UI..." width="50" height="50"></div> <p>Мы используем в этом руководстве очень простое нейтральное стилевое оформление, большая часть правил которого приводится лишь в качестве примера. Очень немногие из стилевых правил тут необходимы, и большинство при необходимости можно заменить. Следующий код CSS используется в таблице стилей <strong>autocomplete.css</strong> (весь код для стилевого оформления jQuery UI находится в таблице стилей <strong>jquery-ui-1.8.custom.css</strong>):</p> <pre class="brush: css noskimlinks noskimwords">#formWrap {padding:10px; position:absolute; float:left; background-color:#000;background:rgba(0,0,0,.5); -moz-border-radius:10px;-webkit-border-radius:10px; border-radius:10px;}#messageForm { width:326px; border:1px solid #666; background-color:#eee;}#messageForm fieldset {padding:0; margin:0; position:relative; border:none;background-color:#eee;}#messageForm legend { visibility:hidden; height:0; }#messageForm span {display:block; width:326px; padding:10px 0; margin:0 0 20px;text-indent:20px; background-color:#bbb;border-bottom:1px solid #333;font:18px Georgia, Serif; color:#fff;}#friends {width:274px; padding:3px 3px 0; margin:0 auto;border:1px solid #aaa; background-color:#fff; cursor:text;}#messageForm #to {width:30px; margin:0 0 2px 0; padding:0 0 3px;position:relative; top:0; float:left; border:none;}#messageForm input, #messageForm textarea {display:block; width:274px; padding:3px; margin:0 auto 20px;border:1px solid #aaa;}#messageForm label {display:block; margin:20px 0 3px; text-indent:22px;font:bold 11px Verdana, Sans-serif;color:#666;}#messageForm #toLabel { margin-top:0; }#messageForm button { float:right; margin:0 0 20px 0; }#messageForm #cancel { margin-right:20px; }#friends span {display:block; margin:0 3px 3px 0; padding:3px 20px 4px 8px;position:relative; float:left; background-color:#eee;border:1px solid #333; -moz-border-radius:7px;-webkit-border-radius:7px; border-radius:7px; color:#333;font:normal 11px Verdana, Sans-serif;}#friends span a {position:absolute; right:8px; top:2px; color:#666;font:bold 12px Verdana, Sans-serif; text-decoration:none;}#friends span a:hover { color:#ff0000; }.ui-menu .ui-menu-item { white-space:nowrap; padding:0 10px 0 0; }</pre> <p>Для того чтобы получить замечательную прозрачную границу формы со скругленными углами мы используем правило <strong>RGBa </strong>CSS3 и правила <strong>-moz-border-radius</strong>, <strong>-webkit-border-radius</strong> и <strong>border-radius</strong>; большинство популярных браузеров (включая Firefox, Safari, Chrome и Opera) сейчас поддерживают эти правила. IE не поддерживает никакие из них (* сейчас (2018) уже поддерживает), и хотя можно воспользоваться свойством filter для реализации простейшей прозрачности, для реализации скругленных углов нужно будет использовать изображения. В этом примере потенциал прозрачности <strong>RGBa </strong>далеко не раскрыт; однако этот тип формы в своей полной реализации скорее всего использовался бы в качестве компонента модального окна (* блокирует взаимодействие пользователя с приложением, инициирующим диалог; в графическом интерфейсе пользователя (GUI) - дочернее окно (child window) для взаимодействия пользователя с приложением: оно служит для получения информации от приложения или для ввода запрашиваемых данных и выбора опций; поэтому модальное окно часто называется диалоговым (dialog box, modal dialog). Если открывается модальное окно, то возврат управления приложению может произойти только после реакции пользователя. B Windows могут открываться только модальные окна, относящиеся к одному и тому же приложению;), которое располагалось бы поверх собственно содержимого страницы.</p> <p>Для контейнера <strong>&lt;div&gt;</strong> вокруг поля <strong>&lt;input&gt;</strong>, к которому будет подключено текстовое поле Autocomplete, задано такое же позиционирование и стилевое оформление, как и для элементов <strong>&lt;input&gt;</strong>, однако у <strong>&lt;input&gt;</strong> внутри этого контейнера удалена граница таким образом, что он скрыт. Также мы сужаем его ширину и задаем значением его свойства float left. Это делается для того, чтобы при добавлении отформатированных имен получателей к <strong>&lt;div&gt;</strong> <strong>&lt;input&gt;</strong>  не переполнял и не увеличивал высоту <strong>&lt;div&gt; </strong>без надобности.</p> <p>Также мы задаем стилевое оформление для имен получателей, которые будут добавляться к <strong>&lt;div&gt; </strong>в качестве элементов <strong>&lt;span&gt;</strong>, содержащих ссылку. Их оформление в целом задано таким образом, чтобы соответствовать оформлению базовой теме, а также для них заданы скругленные углы. Важно, что эти элементы являются блочными и плавающими, благодаря чему они корректно выстраиваются. Также нам необходимо переписать некоторые правила стилевого оформления Autocomplete, применяемые от темы jQuery UI, которую используем; благодаря последнему селектору просто предотвращается переход слов отдельных предложений в меню на новую строку (* текст располагается на одной и той же линии, пока не встретится тег &lt;br&gt;), что происходит из-за того, что мы сделали <strong>&lt;input&gt;</strong>, с которым они связаны, очень небольшим.</p> <p>На данном этапе форма должна выглядеть следующим образом:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img2.jpg" class="lazy07" alt="Использование виджета Autocomplete jQuery UI..." title="Использование виджета Autocomplete jQuery UI..." width="50" height="50"></div> <hr><h2> Шаг 4: Подключаем Autocomplete</h2> <p>Далее нам необходимо подключить к <strong>&lt;input&gt;</strong> внутри <strong>&lt;div&gt; </strong>виджет Autocomplete; для этого мы можем использовать следующий скрипт:</p> <pre class="brush: js noskimlinks noskimwords">&lt;script type="text/javascript"&gt;$(function(){//attach autocomplete$("#to").autocomplete({//define callback to format resultssource: function(req, add){//pass request to server$.getJSON("friends.php?callback=?", req, function(data) {//create array for response objectsvar suggestions = [];//process response$.each(data, function(i, val){suggestions.push(val.name);});//pass array to callbackadd(suggestions);});},//define select handlerselect: function(e, ui) {//create formatted friendvar friend = ui.item.value,span = $("&lt;span&gt;").text(friend),a = $("&lt;a&gt;").addClass("remove").attr({href: "javascript:",title: "Remove " + friend}).text("x").appendTo(span);//add friend to friend divspan.insertBefore("#to");},//define select handlerchange: function() {//prevent "to" field being updated and correct position$("#to").val("").css("top", 2);}});});&lt;/script&gt;</pre> <p>Виджет подключается к <strong>&lt;input&gt;</strong> при помощи метода <strong>autocomplete()</strong>. Мы предоставляем литерал объекта в качестве аргумента для метода, в котором происходит настройка опции <strong>source </strong>и обработчиков для событий <strong>select </strong>и <strong>change</strong>.</p> <p>Опция <strong>source </strong>используется для сообщения виджету, откуда брать предложения для меню Autocomplete. Мы используем в качестве значения этой опции функцию, которая принимает два аргумента: первый – буква, введенная в <strong>&lt;input&gt;</strong>, второй – функция обратного вызова, которая используется для возвращения предложений обратно виджету.</p> <p>В этой функции мы используем метод jQuery"s <strong>getJSON() </strong>для передачи буквы файлу PHP на серверной стороне. В файле PHP буква будет использоваться для извлечения подходящих вариантов получателей из базы данных MySql. Мы используем функцию обратного вызова JSONP (* JSON with Padding, или JSON-P – JSON с набивкой; дополнение к базовому формату JSON. Он предоставляет способ запросить данные с сервера, находящегося на другом домене — операцию, запрещённую в типичных веб-браузерах из-за политики ограничения домена) для обработки возвращенных сервером данных; для функции обратного вызова, которую передаем в качестве второго аргумента в опцию source, необходимо, чтобы данные передавались в виде массива, так что мы сначала создаем пустой массив и затем используем метод <strong>each() </strong>jQuery для обработки каждого элемента в массиве JSON, возвращенном сервером. Мы просто проводим итерацию по всем элементам в этом массиве и добавляем каждое предложение в наш новый массив. Сразу после создания нашего нового массива мы передаем его в функцию обратного вызова, чтобы виджет отобразил его элементы в меню.</p> <p>Далее мы определяем обработчик для собственного события Autocomplete <strong>select</strong>; эта функция будет выполняться виджетом каждый раз при выборе предложения из меню Autocomplete. В эту функцию автоматически передаются два параметра: объект события и объект <strong>ui</strong>, содержащий выбранное пользователем предложение. Мы используем эту функцию для форматирования имени получателя и добавления его к <strong>&lt;div&gt;</strong>. Мы просто создаем элемент <strong>&lt;span&gt;</strong> для помещения текста и якорь, который можно использовать для удаления имени получателя. После создания отформатированного получателя мы просто вставляем его сразу перед замаскированным <strong>&lt;input&gt;</strong>.</p> <p>Наконец, мы добавляем обработчик для события <strong>change</strong>; эта функция будет вызываться каждый раз при изменении значения <strong>&lt;input&gt;</strong>, к которому подключен Autocomplete. Мы просто используем ее для удаления значения из <strong>&lt;input&gt;</strong>, поскольку мы уже добавили отформатированную версию имени получателя к нашему контейнеру <strong>&lt;div&gt;</strong>. Курсор выглядит немного высоковато после добавления отформатированного имени получателя к <strong>&lt;div&gt;</strong>, поэтому мы также используем этот обработчик, чтобы подкорректировать этот момент.</p> <p>Это и все настройки, которые нам необходимо выполнить для этой конкретной реализации виджета, однако нам нужно добавить еще несколько дополнительных функций, чтобы подкорректировать еще некоторые моменты. После метода <strong>autocomplete()</strong> добавьте следующий код:</p> <pre class="brush: js noskimlinks noskimwords">//add click handler to friends div$("#friends").click(function(){//focus "to" field$("#to").focus();});//add live handler for clicks on remove links$(".remove", document.getElementById("friends")).live("click", function(){//remove current friend$(this).parent().remove();//correct "to" field positionif($("#friends span").length === 0) {$("#to").css("top", 0);}});</pre> <p>Элемент <strong>&lt;input&gt;</strong>, к которому подключен наш виджет Autocomplete, частично скрыт, и его контейнер <strong>&lt;div&gt; </strong>оформлен таким образом, что выглядит, как и другие поля формы; для удачного осуществления нашей уловки мы добавляем обработчик события click к контейнеру <strong>&lt;div&gt;</strong> таким образом, что при нажатии где-либо внутри него  фокус переходит собственно к <strong>&lt;input&gt;</strong>. Визуально и функционально <strong>&lt;div&gt;</strong> теперь должен быть неотличимым от обычного поля.</p> <p>Также нам необходимо обрабатывать нажатия по якорю, который добавляется к каждому отформатированному получателю; мы используем метод jQuery <strong>live()</strong> (* работает как для существующих, так и для будущих элементов, соответствующих селектору), поскольку эти элементы могут как существовать, так и нет на странице в каждый момент времени и это проще осуществить, чем подключение обработчика каждый раз при создании одного из этих якорей. Также нам необходимо обрабатывать нажатия по якорю, который добавляется к каждому отформатированному получателю; мы используем метод jQuery live() (* работает как для существующих, так и для будущих элементов, соответствующих селектору), поскольку эти элементы могут как существовать, так и нет на странице в каждый момент времени и это проще осуществить, чем подключение обработчика каждый раз при создании одного из этих якорей.</p> <hr><h2> Шаг 5: Дополнительный код и ресурсы</h2> <p>Я использовал базу данных MySql, в которой содержится таблица со всеми именами получателей, и следующий файл PHP для получения данных, отправленных при помощи метода <strong>getJSON()</strong>, и извлечения подходящих имен получателей из базы данных:</p> <pre class="brush: js noskimlinks noskimwords">&lt;?php//connection information$host = "localhost";$user = "root";$password = "your_mysql_password_here";$database = "test";$param = $_GET["term"];//make connection$server = mysql_connect($host, $user, $password);$connection = mysql_select_db($database, $server);//query the database$query = mysql_query("SELECT * FROM friends WHERE name REGEXP "^$param"");//build array of resultsfor ($x = 0, $numrows = mysql_num_rows($query); $x &lt; $numrows; $x++) {$row = mysql_fetch_assoc($query);    $friends[$x] = array("name" =&gt; $row["name"]);}//echo JSON to page$response = $_GET["callback"] . "(" . json_encode($friends) . ")";echo $response;mysql_close($server);?&gt;</pre> <p>Для того чтобы запустить доступные для скачивания файлы примера, вам необходим будет локальный веб-сервер для разработчиков с установленным и настроенным PHP, а также MySql и соответствующая база данных с таблицей. При введении буквы в поле "to" она отправляется на сервер и используется для извлечения всех имен, начинающихся с этой буквы. Затем подходящие имена отправляются обратно странице в формате JSON и отображаются в меню с предлагаемыми вариантами:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://s3.amazonaws.com/nettuts/618_jqueryAutocomplete/img3.jpg" class="lazy07" alt="Использование виджета Autocomplete jQuery UI..." title="Использование виджета Autocomplete jQuery UI..." width="50" height="50"></div> <p>В этом руководстве было показано, как сымитировать форму Facebook для отправки сообщений, а именно: способ добавления друзей в качестве получателей к форме для отправки сообщений при помощи Autocomplete и метод форматирования имен друзей сразу после их добавления таким образом, что их можно легко удалить. Форма нашего примера собственно ничего не делает, но для того, чтобы на самом деле отправить форму, нам потребовалось бы передать содержимое формы файлу на сервере при помощи запроса AJAX (* Asynchronous JavaScript And XML – асинхронный JavaScript + XML), который можно легко добавить в обработчике для события submit, которое генерируется при нажатии кнопки для отправки формы.</p> <p>Имена получателей должны были бы, конечно же, как-то опознаваться серверной частью приложения, и вероятно были бы привязаны к адресам электронной почты, хранящимся в базе данных. Нам потребовалось бы получить текстовое содержимое всех элементов <strong>&lt;span&gt;</strong> перед отправкой данных на сервер, хотя с этим проблем возникнуть не должно было бы.</p> <p>Виджет Autocomplete jQuery UI облегчает подключение к какому угодно источнику данных и содержит богатый набор обработчиков событий, которым мы можем предоставить функции для реагирования на вводимый в соответствующие поля текст или выбираемые в меню предложения. Стилевое оформление виджета задано при помощи фреймворка CSS jQuery UI, который позволяет настраивать множество аспектов дизайна, и может быть легко изменено так, чтобы соответствовать вашей существующей теме сайта. В общем, это великолепный виджет, который легко использовать и который обладает замечательными функциональными возможностями.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825726-ispolzovanie-vidzheta-autocomplete-jquery-ui" class="tm-article-body__tags-item-link">Web Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
44834</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
357</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
