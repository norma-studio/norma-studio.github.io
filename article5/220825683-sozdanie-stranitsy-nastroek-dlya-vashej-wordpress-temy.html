
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Создание страницы настроек для вашей WordPress-темы
... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Создание страницы настроек для вашей WordPress-темы
... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Создание страницы настроек для вашей WordPress-темы
... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Создание страницы настроек для вашей WordPress-темы
... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Создание собственной темы для WordPress - отличный способ придать вашему блогу или другому веб-сайту WordPress оригинальный образ. Но даже самая приятная тема не будет такой приятная, если для мелких изменений вам нужно лезть под капот и редактировать HTML или PHP-код темы. Особенно, когда это платящий клиент, использующий вашу тему. К счастью в Wo...">
<meta property="og:description" content="Создание собственной темы для WordPress - отличный способ придать вашему блогу или другому веб-сайту WordPress оригинальный образ. Но даже самая приятная тема не будет такой приятная, если для мелких изменений вам нужно лезть под капот и редактировать HTML или PHP-код темы. Особенно, когда это платящий клиент, использующий вашу тему. К счастью в Wo...">
<meta name="twitter:description" content="Создание собственной темы для WordPress - отличный способ придать вашему блогу или другому веб-сайту WordPress оригинальный образ. Но даже самая приятная тема не будет такой приятная, если для мелких изменений вам нужно лезть под капот и редактировать HTML или PHP-код темы. Особенно, когда это платящий клиент, использующий вашу тему. К счастью в Wo...">
<meta property="aiturec:description" content="Создание собственной темы для WordPress - отличный способ придать вашему блогу или другому веб-сайту WordPress оригинальный образ. Но даже самая приятная тема не будет такой приятная, если для мелких изменений вам нужно лезть под капот и редактировать HTML или PHP-код темы. Особенно, когда это платящий клиент, использующий вашу тему. К счастью в Wo...">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/1.jpg">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/1.jpg">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/1.jpg">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/1.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/1.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy.html" title="Создание страницы настроек для вашей WordPress-темы
... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Создание страницы настроек для вашей WordPress-темы
... | envatomarket.ru | norma-studio.github.io" title="Создание страницы настроек для вашей WordPress-темы
... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/ded38a8520cf75a955c11fc92a1a403e.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy.html" class="tm-user-info__username" title="
В. Самсонов" aria-label="
В. Самсонов">
В. Самсонов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Создание страницы настроек для вашей WordPress-темы
...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Theme Development" href="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy" class="tm-article-snippet__hubs-item-link"><span>Theme Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/1.jpg">
    <meta itemprop="headline name" content="Создание страницы настроек для вашей WordPress-темы
... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Создание собственной темы для WordPress - отличный способ придать вашему блогу или другому веб-сайту WordPress оригинальный образ. Но даже самая приятная тема не будет такой приятная, если для мелких изменений вам нужно лезть под капот и редактировать HTML или PHP-код темы. Особенно, когда это платящий клиент, использующий вашу тему. К счастью в Wo...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Создание собственной темы для WordPress - отличный способ придать вашему блогу или другому веб-сайту WordPress оригинальный образ. Но даже самая приятная тема не будет такой приятная, если для мелких изменений вам нужно лезть под капот и редактировать HTML или PHP-код темы. Особенно, когда это платящий клиент, использующий вашу тему. К счастью в Wo...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



 <p>Создание собственной темы для <strong>WordPress</strong> - отличный способ придать вашему блогу или другому веб-сайту WordPress оригинальный образ. Но даже самая приятная тема не будет такой приятная, если для мелких изменений вам нужно лезть под капот и редактировать HTML или PHP-код темы. Особенно, когда это платящий клиент, использующий вашу тему. К счастью в WordPress, процесс создания <strong>страницы настроек</strong> для вашей темы в WordPress совсем не сложный, и после прочтения этого урока вы сможете создать ее в самые кратчайшие сроки!</p> <p><!--more--></p> <hr><h2> <span>Шаг 1</span> Решение о том, какие настройки необходимы</h2> <p> Все это начинается с необходимости: чтобы создать четкую и полезную страницу настроек, вам нужно выяснить, что можно будет изменить, и оставить все остальное. Каждый новый параметр, добавляемый в меню администратора, усложняет интерфейс пользователя и повышает сложность использования темы. Вот почему лучше быть осторожным и вручную выбирать параметры, которые будут часто меняться, и не учитывать мелкие настройки, которые могут быть легко изменены с помощью одного файла внутри темы.</p> <p> Еще один вопрос, который следует иметь в виду: «Кто будет менять эти настройки?» Если пользователь знаком с PHP и WordPress, можно ожидать что у него не будет проблем с вложением Google Analytics в код, но вы не должны требовать этого от графического дизайнера, не говоря уже о писателе, который даже не должен ничего знать о HTML и CSS.</p> <p> Общие идеи для определения объектов в настройках темы:</p> <ul><li>Код отслеживания Google Analytics на сайте</li> <li>Количество боковых панелей и их позиционирование (слева, справа, может быть, даже вверх и вниз) </li> <li>Ширина страницы</li> <li>Содержимое вашего футера</li> <li>Параметры для функций, характерных для темы, например, пользовательские форматы тизеров.</li> </ul><p> После того, как вы собрали список функций темы, которые вы хотите контролировать на странице настроек, вы почти готовы перейти к реализации. Прежде чем вы перейдете и создадите страницу настроек, вы можете сэкономить время, убедившись, что уже не существует функции WordPress для настройки, которую вы собираетесь реализовать. Виджеты, пользовательские меню, пользовательские фоны и изображения заголовков - все это полезные инструменты для настройки вашей темы с гораздо меньшим количеством работы, чем требуется для создания собственных настроек. Тем не менее, это темы для другого учебника.</p> <h3>Настройки, созданные в этом учебнике</h3> <p> В этом учебном пособии мне пришла в голову главная страница темы, состоящая из сетки с различным количеством выбранных постов, которые можно выбрать, отредактировать и переупорядочить администратором с помощью страницы пользовательских настроек.</p> <p> Элементы главной страницы в редакторе будут представлены в виде списка элементов, к которым новые могут быть добавлены с помощью JavaScript и jQuery.</p> <p> Мне нравится просматривать страницу администратора в панели администратора WordPress при разработке HTML-кода, поэтому я обычно начинаю с привязки страницы настроек к WordPress и только затем перехожу к конструированию содержимого страницы. Поэтому на следующем шаге мы создаем заглушку для страницы настроек и подключим ее к WordPress.</p> <hr><h2> <span>Шаг 2</span> Подключение страницы настроек к WordPress</h2> <p> Создание страницы настроек начинается с создания функции, которая настраивает меню и подключает его к действию <code>admin_menu</code>. Это сообщает WordPress о том, чтобы вызвать вашу функцию, когда нужно будет создать меню, чтобы все было сделано в нужное время. Добавьте этот код в файл <code>functions.php</code> вашей темы:</p> <pre class="brush: php noskimlinks noskimwords">function setup_theme_admin_menus() {    // We will write the function contents very soon.}// This tells WordPress to call the function named "setup_theme_admin_menus"// when it"s time to create the menu pages.add_action("admin_menu", "setup_theme_admin_menus");</pre> <p> Теперь мы добавим код для создания страниц настроек внутри только что созданной функции.</p> <p> При создании страницы настроек вы можете либо добавить страницу в качестве подменю в одну из существующих групп настроек, либо создать собственное меню верхнего уровня.</p> <p> Добавление подменю выполняется с помощью функции <code><span>add_submenu_page</span></code>:</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php add_submenu_page($parent_slug, $page_title, $menu_title, $capability, $menu_slug, $function) ?&gt;</pre> <ul><li> <code>$parent_slug</code> - уникальный идентификатор страницы верхнего меню, к которому это подменю добавляется как дочернее.</li> <li> <code>$page_title</code> - название добавляемой страницы</li> <li> <code>$menu_title</code> - это название, отображаемое в меню (часто более короткая версия <code>$page_title</code> </li> <li> <code>$capability</code> - минимальные требования для пользователя для доступа к этому меню.</li> <li> <code>$menu_slug</code> - уникальный идентификатор создаваемого меню</li> <li> <code>$function</code> - это имя функции, которая вызывается для обработки (и визуализации) этой страницы меню</li> </ul><p>Если вы решите добавить страницу меню в качестве подменю в одну из групп WordPress, вы можете использовать следующие значения в качестве параметра <code>$parent_slug</code>:</p> <ul><li>Панель инструментов: index.php </li> <li>Сообщения: <code>edit.php</code> </li> <li>Медиа: <code>upload.php</code> </li> <li>Ссылки: <code>link-manager.php</code> </li> <li>Страницы: <code>edit.php?post_type=page</code> </li> <li>Комментарии: <code>edit-comments.php</code> </li> <li>Внешний вид: <code>themes.php</code> </li> <li>Плагины: <code>plugins.php</code> </li> <li>Пользователи: <code>users.php</code> </li> <li>Инструменты: <code>tools.php</code> </li> <li>Настройки: <code>options-general.php</code> </li> </ul><p> Группа Appearance выглядит хорошим кандидатом для размещения нашей страницы настроек. Попробуем ее и создадим нашу первую страницу настроек. Вот обновленная версия нашей функции настройки меню:</p> <pre class="brush: php noskimlinks noskimwords">function setup_theme_admin_menus() {    add_submenu_page("themes.php",         "Front Page Elements", "Front Page", "manage_options",         "front-page-elements", "theme_front_page_settings"); }</pre> <p> Для этого нам еще нужно создать функцию <code>theme_front_page_settings</code>. Вот она в самой простой форме:</p> <pre class="brush: php noskimlinks noskimwords">function theme_front_page_settings() {    echo "Hello, world!";}</pre> <p> И вот как это выглядит в действии:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/1.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Нам также необходимо проверить, что у пользователя есть права, необходимые для редактирования страницы настроек. Для этого добавьте следующий код в начале функции страницы настроек:</p> <pre class="brush: php noskimlinks noskimwords">// Check that the user is allowed to update optionsif (!current_user_can("manage_options")) {    wp_die("You do not have sufficient permissions to access this page.");}</pre> <p> Теперь, если пользователь, которому не разрешено управлять параметрами, попадает на страницу настроек, он не увидит ничего, кроме сообщения «У вас недостаточно прав для доступа к этой странице».</p> <p> Если вашей теме нужны несколько страниц настроек, это может смутить пользователя, когда придется искать их, разбросанных по всей структуре меню. В этом случае создание собственной группы настроек облегчает пользователю темы поиск всех страниц меню для темы.</p> <p> Чтобы добавить свою собственную группу настроек, вам нужно создать страницу меню верхнего уровня и связать страницы подменю с ней. Вот новая версия нашей функции настройки меню. Функция <code><span>add_menu_page</span></code>, используемая для создания меню верхнего уровня, похожа на <code>add_submenu_page</code>, за исключением того, что она не принимает параметр <code>$parent_slug</code>.</p> <pre class="brush: php noskimlinks noskimwords">function setup_theme_admin_menus() {    add_menu_page("Theme settings", "Example theme", "manage_options",         "tut_theme_settings", "theme_settings_page");          add_submenu_page("tut_theme_settings",         "Front Page Elements", "Front Page", "manage_options",         "front-page-elements", "theme_front_page_settings"); }// We also need to add the handler function for the top level menufunction theme_settings_page() {    echo "Settings page";}</pre> <p> Если вы проверите код и обновите панель администратора WordPress, вы увидите, что ваша новая группа меню появится в нижней части списка меню:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://cdn.tutsplus.com/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/2.jpg" class="lazy07" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Но пока что-то не совсем корректно. Щелчок по элементу верхнего меню не приведет вас к меню «Главная страница», а к странице меню «Пример темы». Это не согласуется с тем, как функционируют другие меню WordPress, поэтому давайте сделаем еще одну вещь: изменив атрибут <code>$menu_slug</code> в вызове <code>add_submenu_page</code> на то же значение, что и в меню верхнего уровня, мы можем связать два меню, чтобы выбор верхнего меню выбирал меню главной страницы:</p> <pre class="brush: php noskimlinks noskimwords">function setup_theme_admin_menus() {    add_menu_page("Theme settings", "Example theme", "manage_options",         "tut_theme_settings", "theme_settings_page");        add_submenu_page("tut_theme_settings",         "Front Page Elements", "Front Page", "manage_options",         "tut_theme_settings", "theme_front_page_settings"); }function theme_settings_page() {}</pre> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" data-src="https://cdn.tutsplus.com/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/3.jpg" class="lazy07" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Теперь выглядит получше. Если вы хотите улучшить внешний вид своей группы меню, есть две необязательные поля в функции <code>add_menu_page</code>, которые вы найдете полезными. Просто добавьте значения после имени функции в вызове метода:</p> <ul><li> <code>$icon_url</code> указывает URL-адрес значка для меню верхнего уровня.</li> <li> <code>$position</code> определяет позицию вашей группы меню в списке меню. Чем выше значение, тем ниже положение в меню.</li> </ul><hr><h2> <span>Шаг 3</span> Создание HTML формы для страниц настроек</h2> <p> Теперь, когда мы создали страницу настроек, и она корректно отображается в боковом меню, пришло время начать добавлять контент. Итак, вернемся к списку настроек, которые мы имели в виду, и создадим страницу для их редактирования.</p> <p> В этом уроке нам нужно поле для определения того, сколько элементов должно быть указано в одной строке, и список для определения фактических элементов. Чтобы начать с более легкого, давайте создадим текстовое поле для количества элементов в одной строке. Отредактируйте функцию страницы настроек:</p> <pre class="brush: php noskimlinks noskimwords">function theme_front_page_settings() {?&gt;    &lt;label for="num_elements"&gt;        Number of elements on a row:    &lt;/label&gt;         &lt;input type="text" name="num_elements" /&gt;&lt;?php}</pre> <p> Когда вы перезагрузите страницу настроек, вы увидите первое поле настроек:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/4.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Чтобы наша страница настроек легко вписалась в WordPress, лучше всего использовать классы и стили CSS, которые WordPress использует на своих собственных страницах настроек. Хороший способ изучить эти трюки - это просто пойти и проанализировать исходный код WordPress.</p> <p> Самое главное - обернуть страницу настроек с помощью <code>div</code> с классом «<code>wrap</code>». Внутри этого элемента <code>div</code> вы можете использовать многие предопределенные стили, такие как заголовки, кнопки и поля формы. Начнем с оформления названия нашей страницы настроек:</p> <ul><li>Мы создадим заголовок <code>h2</code> для страницы (вы можете использовать теги заголовков от <code>h2</code> до <code>h6</code> для создания заголовков разных размеров.)</li> <li>Перед заголовком мы покажем значок страницы настроек темы. (Вы можете использовать предопределенные значки WordPress с помощью функции <code>screen_icon</code>. Функция может принимать один из следующих параметров: <code>index</code>, <code>edit</code>, <code>upload</code>, <code>link-manager</code>, <code>pages</code>, <code>comments</code>, <code>themes</code>, <code>plugins</code>, <code>users</code>, <code>tools</code> или <code>options-general</code>.)</li> <li>Мы поместим элемент <code>input</code> в форму и таблицу с классом <code>form-table</code>.</li> </ul><pre class="brush: php noskimlinks noskimwords">function theme_front_page_settings() {?&gt;    &lt;div class="wrap"&gt;        &lt;?php screen_icon("themes"); ?&gt; &lt;h2&gt;Front page elements&lt;/h2&gt;        &lt;form method="POST" action=""&gt;            &lt;table class="form-table"&gt;                &lt;tr valign="top"&gt;                    &lt;th scope="row"&gt;                        &lt;label for="num_elements"&gt;                            Number of elements on a row:                        &lt;/label&gt;                     &lt;/th&gt;                    &lt;td&gt;                        &lt;input type="text" name="num_elements" size="25" /&gt;                    &lt;/td&gt;                &lt;/tr&gt;            &lt;/table&gt;        &lt;/form&gt;    &lt;/div&gt;&lt;?php}</pre> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/5.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Затем пришло время начать добавлять элементы.</p> <p> Чтобы сделать это, мы будем использовать <span>jQuery</span>, поскольку он упрощает работу, чем если бы мы писали JavaScript с нуля, и поставляется в комплекте с WordPress. Если вы раньше использовали jQuery, нужно иметь в виду только одну вещь: нотация <code>$</code>, которую вы обычно используете с jQuery, не работает в WordPress - вам нужно ввести целое слово <code>jQuery</code>.</p> <p> Во-первых, мы создадим элемент для редактирования параметров для одного блока главной страницы, который будет служить шаблоном для элементов, добавленных пользователем. Добавьте этот код прямо между закрывающим тегом таблицы и закрывающим тегом формы сразу после него.</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php $posts = get_posts(); ?&gt;&lt;li class="front-page-element" id="front-page-element-placeholder"&gt;    &lt;label for="element-page-id"&gt;Featured post:&lt;/label&gt;    &lt;select name="element-page-id"&gt;        &lt;?php foreach ($posts as $post) : ?&gt;            &lt;option value="&lt;?php echo $post-&lt;ID; ?&gt;"&gt;                &lt;?php echo $post-&lt;post_title; ?&gt;            &lt;/option&gt;        &lt;?php endforeach; ?&gt;    &lt;/select&gt;    &lt;a href="#"&gt;Remove&lt;/a&gt;&lt;/li&gt;</pre> <p> Теперь это выглядит так:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/6.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Теперь, когда у нас есть наш шаблон, пришло время скрыть его и создать JavaScript для его использования, чтобы создавать новые строки для постов на странице настроек. Установите стиль для элемента <code>li</code>  в значение  <code>display:none;</code></p> <pre class="brush: php noskimlinks noskimwords">&lt;li class="front-page-element" id="front-page-element-placeholder" style="display:none"&gt;</pre> <p> Затем мы создадим список для хранения элементов главной страницы по мере их добавления и ссылку, которую пользователь нажмет, чтобы добавить новые элементы. Я повторяю весь HTML, чтобы вы могли четко видеть, куда идут изменения:</p> <pre class="brush: php noskimlinks noskimwords">&lt;div class="wrap"&gt;    &lt;?php screen_icon("themes"); ?&gt; &lt;h2&gt;Front page elements&lt;/h2&gt;    &lt;form method="POST" action=""&gt;        &lt;table class="form-table"&gt;            &lt;tr valign="top"&gt;                &lt;th scope="row"&gt;                    &lt;label for="num_elements"&gt;                        Number of elements on a row:                    &lt;/label&gt;                &lt;/th&gt;                &lt;td&gt;                    &lt;input type="text" name="num_elements" size="25" /&gt;                &lt;/td&gt;            &lt;/tr&gt;                        &lt;/table&gt;        &lt;h3&gt;Featured posts&lt;/h3&gt;        &lt;ul id="featured-posts-list"&gt;        &lt;/ul&gt;              &lt;input type="hidden" name="element-max-id" /&gt;        &lt;a href="#" id="add-featured-post"&gt;Add featured post&lt;/a&gt;       &lt;/form&gt;        &lt;li class="front-page-element" id="front-page-element-placeholder"         style="display:none;"&gt;        &lt;label for="element-page-id"&gt;Featured post:&lt;/label&gt;        &lt;select name="element-page-id"&gt;            &lt;?php foreach ($posts as $post) : ?&gt;                &lt;option value="&lt;?php echo $post-&gt;ID; ?&gt;"&gt;                    &lt;?php echo $post-&gt;post_title; ?&gt;                &lt;/option&gt;            &lt;?php endforeach; ?&gt;        &lt;/select&gt;        &lt;a href="#"&gt;Remove&lt;/a&gt;    &lt;/li&gt;&lt;/div&gt;</pre> <p> В реальной жизни хорошей практикой будет поместить ваш JavaScript-код в отдельный файл, но для того, чтобы сделать этот учебник немного легче, я добавляю JavaScript в ту же функцию с помощью HTML выше, прямо перед <code>wrap</code> div:</p> <pre class="brush: js noskimlinks noskimwords">&lt;script type="text/javascript"&gt;    var elementCounter = 0;    jQuery(document).ready(function() {                   jQuery("#add-featured-post").click(function() {            var elementRow = jQuery("#front-page-element-placeholder").clone();            var newId = "front-page-element-" + elementCounter;                           elementRow.attr("id", newId);            elementRow.show();                           var inputField = jQuery("select", elementRow);            inputField.attr("name", "element-page-id-" + elementCounter);                             var labelField = jQuery("label", elementRow);            labelField.attr("for", "element-page-id-" + elementCounter);             elementCounter++;            jQuery("input[name=element-max-id]").val(elementCounter);                            jQuery("#featured-posts-list").append(elementRow);                           return false;        });             });&lt;/script&gt;</pre> <p> JavaScript-код выше создает функцию, которая вызывается, когда пользователь щелкает ссылку с идентификатором <code>add-featured-post</code>. Эта функция клонирует элемент списка шаблонов, который мы создали ранее, и обновляет его поля, чтобы иметь уникальные идентификаторы и имена. Таким образом, все они будут корректно отправлены с формой, когда пользователь нажмет кнопку отправить. Переменная <code>elementCounter</code> содержит следующий идентификатор для добавления. Она также сохраняется в скрытом поле, поэтому, когда форма отправляется, мы знаем, сколько элементов страницы нужно ожидать.</p> <p> Если вы нажмете ссылку «Добавить пост» пару раз, вы увидите, что в список добавлены элементы:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/7.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Но когда вы нажимаете на ссылку remove, вы заметите, что ничего не происходит. Давайте добавим функцию для удаления элементов из списка:</p> <pre class="brush: php noskimlinks noskimwords">function removeElement(element) {    jQuery(element).remove();}</pre> <p> Нам также нужно вызвать функцию. Добавьте следующий код перед инкрементом <code>elementCounter</code>.</p> <pre class="brush: php noskimlinks noskimwords">var removeLink = jQuery("a", elementRow).click(function() {    removeElement(elementRow);     return false;});</pre> <p> Прежде чем перейти к сохранению формы, нужно еще кое-что сделать. Мы будем использовать плагин jQuery <span>ui.sortable</span>, чтобы сделать элементы страницы сортируемыми, перетаскивая их друг на друга. Чтобы включить функцию сортировки, нам нужно будет подключить соответствующий файл JavaScript (который также поставляется вместе с WordPress). Это можно сделать, добавив следующую строку кода в конец <code>functions.php</code>:</p> <pre class="brush: php noskimlinks noskimwords">if (is_admin()) {    wp_enqueue_script("jquery-ui-sortable");}</pre> <p> Затем мы добавим следующий JavaScript перед (или после) <code>jQuery("#add-featured-post").click</code> определенным выше.</p> <pre class="brush: js noskimlinks noskimwords">jQuery("#featured-posts-list").sortable( {    stop: function(event, ui) {        var i = 0;        jQuery("li", this).each(function() {            setElementId(this, i);                                i++;        });                            elementCounter = i;        jQuery("input[name=element-max-id]").val(elementCounter);    }});</pre> <p> Этот фрагмент делает список отсортированным и добавляет событие, которое вызывается всякий раз, когда пользователь заканчивает сортировку. Обработчик событий обновляет все идентификаторы элементов, чтобы новый порядок сохранялся также при сохранении формы (это станет яснее после реализации сохранения). При написании этого обработчика я заметил, что код для установки идентификатора для содержимого шаблона дублировался в двух местах, поэтому я реорганизовал его в свою собственную функцию, которую я разместил прямо перед строчкой с <code>jQuery(document).ready()</code>:</p> <pre class="brush: js noskimlinks noskimwords">function setElementId(element, id) {    var newId = "front-page-element-" + id;                             jQuery(element).attr("id", newId);                                  var inputField = jQuery("select", element);    inputField.attr("name", "element-page-id-" + id);                     var labelField = jQuery("label", element);    labelField.attr("for", "element-page-id-" + id); }</pre> <p> После добавления новых элементов, их сортировкой и удалением, пришло время перейти к сохранению данных. Но перед этим добавьте кнопку отправки прямо перед закрывающим тегом формы.</p> <pre class="brush: php noskimlinks noskimwords">&lt;p&gt;    &lt;input type="submit" value="Save settings" class="button-primary"/&gt;&lt;/p&gt;</pre> <hr><h2> <span>Шаг 4</span> Сохранение формы</h2> <p> Страница настроек выглядит хорошо, но чего-то не хватает: она ничего не делает. Пришло время сохранить некоторые данные. WordPress обеспечивает легкую систему для сохранения настроек темы и плагина в качестве пар ключ-значение в базе данных с использованием двух функций: <code><span>get_option</span></code> и <code><span>update_option</span></code>. Данные, хранящиеся с использованием этих функций, могут быть простыми, как например числовое значение или сложными, как массив, вложенный несколько раз.</p> <p> Обработка формы выполняется в той же функции, которая отображает форму. Чтобы узнать, была ли форма отправлена или нет, мы добавим скрытое поле, <code>update_settings</code> в форму и затем проверим, было ли это поле отправлено или нет в функции обработки.</p> <pre class="brush: php noskimlinks noskimwords">if (isset($_POST["update_settings"])) {    // Do the saving}</pre> <p> Скрытое поле, которое входит в форму, выглядит следующим образом:</p> <pre class="brush: php noskimlinks noskimwords">&lt;input type="hidden" name="update_settings" value="Y" /&gt;</pre> <p> Начнем с сохранения более простой настройки <code>num_elements</code>. Мы экранируем атрибута, чтобы убедиться, что пользователь не отправляет вредоносный контент в теги HTML, а затем сохраняет его в хранилище настроек WordPress. При использовании <code>update_option</code> нам не нужно беспокоиться о том, была ли эта настройка уже сохранена или нет.</p> <pre class="brush: php noskimlinks noskimwords">$num_elements = esc_attr($_POST["num_elements"]);update_option("theme_name_num_elements", $num_elements);</pre> <p> Прежде чем перейти к сохранению списка, давайте добавим текущее значение <code>num_elements</code> в форму настроек, чтобы пользователь всегда видел, какое значение он ввел, прежде чем принимать решение о следующем значении. Это также поможет нам проверить, действительно ли значение было сохранено.</p> <pre class="brush: php noskimlinks noskimwords">&lt;input type="text" name="num_elements" value="&lt;?php echo $num_elements;?&gt;" size="25" /&gt;</pre> <p> И для случаев, когда мы еще ничего не сохранили, нам нужно будет загрузить текущее значение из параметров, поэтому давайте добавим этот кусок кода, который будет выполнен, когда форма еще не была отправлена.</p> <pre class="brush: php noskimlinks noskimwords">$num_elements = get_option("theme_name_num_elements");</pre> <p> Когда форма сохраняется, важно уведомить пользователя, чтобы она не оставляла сомнений в том, произошло что-то или нет. Итак, давайте сделаем простое сообщение о том, что «<em>Настройки сохранены</em>». сразу после <code>update_option</code>:</p> <pre class="brush: php noskimlinks noskimwords">?&gt;    &lt;div id="message" class="updated"&gt;Settings saved&lt;/div&gt;&lt;?php</pre> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/8.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Затем сохраним элементы передней страницы. Наибольшее значение id в элементах страницы передается как <code>element-max-id</code>, поэтому мы можем взять это значение и перебрать элементы до этого идентификатора, сохранив их данные в массиве в правильном порядке:</p> <pre class="brush: php noskimlinks noskimwords">$front_page_elements = array();        $max_id = esc_attr($_POST["element-max-id"]);for ($i = 0; $i &lt; $max_id; $i ++) {    $field_name = "element-page-id-" . $i;    if (isset($_POST[$field_name])) {        $front_page_elements[] = esc_attr($_POST[$field_name]);    }}        update_option("theme_name_front_page_elements", $front_page_elements);</pre> <p> Это сохраняет данные, но нам все равно нужно подставить значения на странице настроек. Итак, давайте сделаем то же самое, что и в поле <code>num_elements</code> и загрузим параметры по умолчанию в начале функции:</p> <pre class="brush: php noskimlinks noskimwords">$front_page_elements = get_option("theme_name_front_page_elements");</pre> <p> И затем, отобразим существующие элементы при построении формы:</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php $element_counter = 0; foreach ($front_page_elements as $element) : ?&gt;    &lt;li class="front-page-element" id="front-page-element-&lt;?php echo $element_counter; ?&gt;"&gt;        &lt;label for="element-page-id-&lt;?php $element_counter; ?&gt;"&gt;Featured post:&lt;/label&gt;        &lt;select name="element-page-id-&lt;?php $element_counter; ?&gt;"&gt;                            &lt;?php foreach ($posts as $post) : ?&gt;            &lt;?php $selected = ($post-&gt;ID == $element) ? "selected" : ""; ?&gt;            &lt;option value="&lt;?php echo $post-&gt;ID; ?&gt;" &lt;?php echo $selected; ?&gt;&gt;                &lt;?php echo $post-&gt;post_title; ?&gt;            &lt;/option&gt;        &lt;?php endforeach; ?&gt;                    &lt;/select&gt;        &lt;a href="#" onclick="removeElement(jQuery(this).closest(".front-page-element"));"&gt;Remove&lt;/a&gt;    &lt;/li&gt;           &lt;?php $element_counter++; endforeach; ?&gt;</pre> <p> Нам также нужно установить начальное значение для переменной <code>elementCounter</code>, используемой в JavaScript, установив начальное значение скрытого поля в PHP и прочитав его при инициализации переменной в JavaScript:</p> <pre class="brush: php noskimlinks noskimwords">&lt;input type="hidden" name="element-max-id" value="&lt;?php echo $element_counter; ?&gt;" /&gt;</pre> <p> И часть JavaScript:</p> <pre class="brush: js noskimlinks noskimwords">var elementCounter = jQuery("input[name=element-max-id]").val();</pre> <hr><h2> Шаг 5 Использование настроек внутри темы</h2> <p> Сохранение и отображение значений настроек в пределах области администрирования готово, но на самом деле важно, как вы их используете для настройки темы, поэтому теперь мы подошли к точке, где пришло время принять наши настройки и сделать с ними что-то классное.</p> <p> С этого момента изменения попадают в <code>index.php</code> вместо <code>functions.php</code>. Сначала мы рассмотрим параметры переменных:</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php    $num_elements = get_option("theme_name_num_elements");    $elements = get_option("theme_name_front_page_elements");?&gt;</pre> <p> Давайте пройдемся по списку <code>$elements</code>, сгруппируем их в строки с блоками <code>$num_elements</code> в каждом.</p> <pre class="brush: php noskimlinks noskimwords">&lt;div id="front-page-element-container"&gt;    &lt;div class="front-page-element-row"&gt;        &lt;?php foreach($elements as $post_id) : ?&gt;            &lt;?php if ($num == $num_elements) : ?&gt;                &lt;/div&gt;                &lt;div class="front-page-element-row"&gt;            &lt;?php endif; ?&gt;            &lt;!-- Render element here --&gt;                            &lt;?php endforeach; ?&gt;    &lt;/div&gt;&lt;/div&gt;</pre> <p> И затем, используя данные, сохраненные для каждого элемента, мы заполним вышеописанную часть элемента:</p> <pre class="brush: php noskimlinks noskimwords">&lt;?php $element_post = get_post($post_id); ?&gt;&lt;div class="front-page-element"&gt;    &lt;div class="thumbnail-image"&gt;        &lt;?php if (has_post_thumbnail($post_id)) : ?&gt;            &lt;?php echo get_the_post_thumbnail($post_id, "tutorial-thumb-size"); ?&gt;        &lt;?php endif; ?&gt;        &lt;a class="title" href="&lt;?php echo get_permalink($post_id); ?&gt;"&gt;&lt;?php echo $element_post-&gt;post_title;?&gt;&lt;/a&gt;    &lt;/div&gt;&lt;/div&gt;</pre> <p> С несколькими элементами это выглядит примерно так:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/9.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Все еще довольно таки скучно. Посты не имеют уменьшенных изображений, и для них нет стиля. Чтобы они выглядели лучше, давайте сначала добавим поддержку миниатюр изображений. Это делается путем подключения новой функции, которая настраивает возможности темы, которая будет вызываться сразу после загрузки темы.</p> <pre class="brush: php noskimlinks noskimwords">function setup_theme_features() {    if (function_exists("add_theme_support")) {        add_theme_support("post-thumbnails");    }    if (function_exists("add_image_size")) {        add_image_size("tutorial-thumb-size", 200, 200, true);    }}add_action("after_setup_theme", "setup_theme_features");</pre> <p> Функция, <code>setup_theme_features</code> включает миниатюры сообщений, используя функцию WordPress <code><span>add_theme_support</span></code>, так что WordPress добавляет эту функциональность на страницу сохранения постов. На странице поста мы можем добавить одно изображение в виде эскиза, нажав «<em>Использовать изображение</em>» на странице загрузки изображения после загрузки фотографии.</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/10.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Функция также определяет новый тип размера изображения, <code>tutorial-thumb-size</code>, который используется при получении эскиза поста в коде рендеринга.</p> <p> После выбора отображаемого изображения сохраните изменения и перезагрузите страницу. Выглядит более интересно:</p> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/11.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <p> Наконец, мы добавим несколько стилей в <code>style.css</code>, вот теперь тема имеет настраиваемое отображение постов:</p> <pre class="brush: css noskimlinks noskimwords">.front-page-element-row {    overflow: auto;}.front-page-element {    float: left;    margin: 10px 10px 10px 10px;    padding: 0px;    width: 200px;    height: 200px;    }.thumbnail-image {      width: 200px;    height: 200px;    background: #eee;    position: relative;}.thumbnail-image .title {    position: absolute;    bottom: 20px;    display: block;    background: #000;    color: #fff;    padding: 10px;    font-family: Arial;    font-size: 12pt;    text-decoration: none;    }</pre> <div class="tutorial_image"><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" border="0" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/wp/uploads/legacy/017_SettingsPageForTheme/settings-for-theme/12.jpg" alt="Создание страницы настроек для вашей WordPress темы..." title="Создание страницы настроек для вашей WordPress темы..." width="50" height="50"></div> <hr><h2> <span>Заключение</span> </h2> <p> Теперь мы создали страницу настроек для кастомной темы. Хотя тема еще далека от завершения, но я надеюсь, что это введение заставило вас начать работу с добавлением настроек и настраиваемых элементов в ваше следующую тему WordPress.</p> 

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Theme Development" href="https://norma-studio.github.io/article5/220825683-sozdanie-stranitsy-nastroek-dlya-vashej-wordpress-temy" class="tm-article-body__tags-item-link">Theme Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
40452</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
630</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
