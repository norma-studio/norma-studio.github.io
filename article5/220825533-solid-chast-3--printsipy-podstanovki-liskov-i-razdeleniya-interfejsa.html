
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Единственность ответственности, Открытость/закрытость, Подстановка Лисков, Разделение интерфейсов и Инверсия зависимостей. Пять принципов, которыми необходимо руководствоваться при написании кода....">
<meta property="og:description" content="Единственность ответственности, Открытость/закрытость, Подстановка Лисков, Разделение интерфейсов и Инверсия зависимостей. Пять принципов, которыми необходимо руководствоваться при написании кода....">
<meta name="twitter:description" content="Единственность ответственности, Открытость/закрытость, Подстановка Лисков, Разделение интерфейсов и Инверсия зависимостей. Пять принципов, которыми необходимо руководствоваться при написании кода....">
<meta property="aiturec:description" content="Единственность ответственности, Открытость/закрытость, Подстановка Лисков, Разделение интерфейсов и Инверсия зависимостей. Пять принципов, которыми необходимо руководствоваться при написании кода....">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/template_method1.png">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/template_method1.png">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/template_method1.png">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/template_method1.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/template_method1.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa.html" title="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса... | envatomarket.ru | norma-studio.github.io" title="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/64535356345.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa.html" class="tm-user-info__username" title="
В. Чендылов" aria-label="
В. Чендылов">
В. Чендылов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa" class="tm-article-snippet__hubs-item-link"><span>PHP</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/template_method1.png">
    <meta itemprop="headline name" content="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Единственность ответственности, Открытость/закрытость, Подстановка Лисков, Разделение интерфейсов и Инверсия зависимостей. Пять принципов, которыми необходимо руководствоваться при написании кода....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Единственность ответственности, Открытость/закрытость, Подстановка Лисков, Разделение интерфейсов и Инверсия зависимостей. Пять принципов, которыми необходимо руководствоваться при написании кода....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p><span>Единственность ответственности</span>, <span>Открытость/закрытость</span>, <em>Подстановка Лисков, Разделение интерфейсов</em> и Инверсия зависимостей. Пять принципов, которыми необходимо руководствоваться при написании кода.</p> <p>Так как оба принципа Подстановки Лисков и Разделения интерфейсов довольно легко определить и проиллюстрировать, в этом уроке мы поговорим о них вместе. </p> <h2>Принцип Подстановки Лисков</h2> <blockquote> <p>Производный класс никогда не должен ломать определение родительского класса.</p> </blockquote> <p>Концепция этого принципа впервые была представлена Барборой Лисков на конференции в 1987 году и позже опубликована в печати вместе с Джанет Винг в 1994 году. Оригинальное определение звучит следующим образом:</p> <blockquote> <p>Пусть q(x) применимо к объектам x типа T. Тогда q(y) должно быть применимо для объектов y типа S где S является подтипом T.</p> </blockquote> <p>Позже в публикации о SOLID принципах <span>Роберта С. Мартина</span> в его книге <span>Гибкая Разработка, Принципы, Шаблоны, Практики</span> и затем переизданная для языка C# версия <span>Гибкие Принципы, Шаблоны и практики в C#</span>, определение стало известно как Принцип Подстановки Лисков. </p> <p>Это приводит нас к определению Роберта С. Мартина:</p> <blockquote> <p>Подтипы должны быть заменяемы для базового типа.</p> </blockquote> <p>Проще говоря, подкласс может менять методы родительского класса только так, чтобы не ломать существующий функционал с точки зрения клиента. Вот простой пример, демонстрирующий эту концепцию.</p> <pre class="brush: php noskimlinks noskimwords">class Vehicle {  function startEngine() {// Default engine start functionality}function accelerate() {// Default acceleration functionality}}</pre> <p>Дан класс <code>Vehicle</code> - он может быть абстрактным - и две реализации:</p> <pre class="brush: php noskimlinks noskimwords">class Car extends Vehicle {function startEngine() {$this-&gt;engageIgnition();parent::startEngine();}private function engageIgnition() {// Ignition procedure}}class ElectricBus extends Vehicle {function accelerate() {$this-&gt;increaseVoltage();$this-&gt;connectIndividualEngines();}private function increaseVoltage() {// Electric logic}private function connectIndividualEngines() {// Connection logic}}</pre> <p>Клиентский класс должен иметь возможность использовать любой из этих классов если он может использовать класс <code>Vehicle</code>.</p> <pre class="brush: php noskimlinks noskimwords">class Driver {function go(Vehicle $v) {$v-&gt;startEngine();$v-&gt;accelerate();}}</pre> <p>Что приводит нас к простой реализации паттерна проектирования Шаблонного Метода, который мы использовали в уроке про Принцип Открытости/закрытости.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/template_method1.png" alt="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." title="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." width="50" height="50"><br></figure><p>Основываясь на нашем предыдущем опыте с Принципом Открытости/закрытости мы можем заключить, что Принцип Подстановки Лисков с ним прочно связан. Фактически, "нарушение подстановки Лисков есть скрытое нарушение открытости/закрытости" (Роберт С. Мартин), и  паттерн проектирования Шаблонного Метода - это классический пример имплементации принципа подстановки Лисков.</p> <h2>Классический пример нарушения принципа</h2> <p>Чтобы окончательно все проиллюстрировать, мы обратимся к классическому примеру, так как он довольно выразительный и легко понимаемый.</p> <pre class="brush: php noskimlinks noskimwords">class Rectangle {private $topLeft;private $width;private $height;public function setHeight($height) {$this-&gt;height = $height;}public function getHeight() {return $this-&gt;height;}public function setWidth($width) {$this-&gt;width = $width;}public function getWidth() {return $this-&gt;width;}}</pre> <p>Мы начнем с простой геометрической фигуры <code>Rectangle</code>. Это простой объект данных с сеттерами и гетерами <code>with</code> и  <code>height</code>. Представьте, что наше приложение уже работает у нескольких клиентов. Теперь им нужен новый функционал. Им нужна возможность управлять квадратом.</p> <p>В реальной жизни, в геометрии, квадрат - это специфическая форма прямоугольника. Поэтому мы можем реализовать класс <code>Square</code> как расширение класса <code>Rectangle</code>. Часто говорят, что производный класс является родительским классом и это выражение подтверждает принцип Лисков, по крайней мере на первый взгляд.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/net/uploads/2014/01/SquareRect.png" class="lazy07" alt="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." title="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." width="50" height="50"><br></figure><p>Однако действительно ли <code>Square</code> это <code>Rectangle</code> в программировании?</p> <pre class="brush: php noskimlinks noskimwords">class Square extends Rectangle {public function setHeight($value) {$this-&gt;width = $value;$this-&gt;height = $value;}public function setWidth($value) {$this-&gt;width = $value;$this-&gt;height = $value;}}</pre> <p>Квадрат - это прямоугольник у которого ширина и высота равны, поэтому у нас вышла такая странная реализация выше. Мы можем переписать оба сеттера, чтобы они присваивали как высоту так как ширину. Но как это повлияет на клиентский код?</p> <pre class="brush: php noskimlinks noskimwords">class Client {function areaVerifier(Rectangle $r) {$r-&gt;setWidth(5);$r-&gt;setHeight(4);if($r-&gt;area() != 20) {throw new Exception("Bad area!");}return true;}}</pre> <p>Вполне возможно, что у клиента есть класс, который проверяет площадь и выбрасывает исключение в случае ошибки.</p> <pre class="brush: php noskimlinks noskimwords">function area() {return $this-&gt;width * $this-&gt;height;}</pre> <p>Конечно у нас есть метод в классе <code>Rectangle</code>, который считает площадь.</p> <pre class="brush: php noskimlinks noskimwords">class LspTest extends PHPUnit_Framework_TestCase {function testRectangleArea() {$r = new Rectangle();$c = new Client();$this-&gt;assertTrue($c-&gt;areaVerifier($r));}}</pre> <p>И мы создали простой тест где мы отправляем пустой объект прямоугольника в метод проверки площади, чтобы тест прошел. Если наш класс <code>Square</code> определен верно, его отправка в клиентский <code>areaVerifier()</code> не должен сломать функционал. В конце концов <code>Square</code> это <code>Rectangle</code> с математической точки зрения. Однако как на самом деле?</p> <pre class="brush: php noskimlinks noskimwords">function testSquareArea() {$r = new Square();$c = new Client();$this-&gt;assertTrue($c-&gt;areaVerifier($r));}</pre> <p>Простой тест все сломал. Когда мы запустим этот тест, будет выброшено исключение.</p> <pre class="brush: bash noskimlinks noskimwords">PHPUnit 3.7.28 by Sebastian Bergmann.Exception : Bad area!#0 /paht/: /.../.../LspTest.php(18): Client-&gt;areaVerifier(Object(Square))#1 [internal function]: LspTest-&gt;testSquareArea()</pre> <p>Поэтому класс <code>Square</code> это не <code>Rectangle</code>. Он ломает законы геометрии. Он падает и нарушает Принцип Подстановки Лисков.</p> <p>Я особенно люблю этот пример, так как он не только нарушает Лисков но и демонстрирует, что объектно-ориентированное программирование не про сопоставление реальных объектов виртуальным. Каждый объект в нашей программе должен быть абстракцией над концепцией. Если мы попытаемся сопоставить один к одному реальные объекты с объектами в программе, то мы практически всегда потерпим неудачу.</p> <h2>Принцип разделения интерфейса</h2> <p>Принцип Единственности ответственности - это про акторы и высокоуровневую архитектуру. Принцип открытости/закрытости про дизайн классов и расширение функционала. Принцип подстановки Лисков про субтипы и наследование. Принцип разделения интерфейса же про бизнес-логику и клинтскую коммуникацию.</p> <p>Во всех модульных приложениях должен быть какой-то интерфейс, через который клиент может им управлять. Это могут быть как просто объявленные интерфейсы или другие классические объекты реализуемые паттернами, как например Фасад. Не важно какое решение используется. У них всегда одно и то же назначение: коммуникация с клиентским кодом о том как работать с модулем. Эти интерфейсы могут находиться между модулями в одном приложении или проекте или между проектом и сторонней библиотекой, обслуживающей другой проект. Опять же, не имеет никакого значения. Общение есть общение и клиент есть клиент, никак не касаются индивида, пишущего код.</p> <p>Итак, как мы должны определить эти интерфейсы? Мы можем подумать о нашем модуле и обнажить весь функционал, который хотим предложить.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://cdn.tutsplus.com/net/uploads/2014/01/hugeInterface.png" class="lazy07" alt="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." title="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." width="50" height="50"><br></figure><p>Выглядит как не плохое начало. Отличный способ определить что мы хотим реализовать в нашем модуле. Или нет? Такой старт может привести нас к одному из двух возможных реализаций:</p> <ul><li>Большие классы <code>Car</code> или <code>Bus</code> реализуют все методы интерфейса <code>Vehicle</code>. Размеры таких классов скажут нам избегать их любой ценой.</li> <li>Или много мелких классов, как <code>LightsControl</code>, <code>SpeedControl</code> или <code>RadioCD</code>, которые реализуют весь интерфейс но обеспечивают что-то полезное только для чего-то конкретного.</li> </ul><p>Очевидно, что ни одно и решений не приемлемо для реализации нашей бизнес-логики.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/specializedImplementationInterface.png" alt="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." title="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." width="50" height="50"><br></figure><p>Можно пойти другим путем. Разбить интерфейс на части, ограниченными конкретной реализацией. Это поможет использовать не большие классы, которые заботятся о собственном интерфейсе. Объекты, реализующие эти интересы будут использоваться разными типами транспортных средств, например автомобиль, как в примере выше. Автомобиль будет использовать реализации но зависеть от интерфейсов. Поэтому схема ниже может быть более выразительна.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/carUsingInterface.png" alt="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." title="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." width="50" height="50"><br></figure><p>Но это фундаментально меняет наше восприятие архитектуры. <code>Car</code> становится клиентом а не реализацией. Мы все еще хотим предоставить нашим клиентам пути использовать весь модуль, будучи определенным типом транспортного средства.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/oneInterfaceManyClients.png" alt="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." title="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." width="50" height="50"><br></figure><p>Предположим мы решили проблему реализации и у нас есть стабильная бизнес-логика. Проще всего предоставить единый интерфейс о всеми реализациями и дать клиентам, в нашем случае <code>BusStation</code>, <code>HighWay</code>, <code>Driver</code> и тд. использовать все что они захотят из реализации интерфейса. Это переносит выбор ответственности на клиента. Такое решение можно найти во многих старых приложениях.</p> <blockquote> <p>Принцип разделения интерфейса утверждает, что клиент не должен зависеть от методов, которые он не использует.</p> </blockquote> <p>Однако это решение имеет свои проблемы. Теперь все клиенты зависят ото всех методов. Почему <code>BusStation</code> должен зависеть от состояния света автобуса или радиостанций, выбранных водителем? Не должен. Но что если он все же зависит? Имеет ли это значение? Если мы подумаем о принципе идинственности ответственности, этот принцип является ближайшим родственником, Если <code>BusStation</code> зависит от множества индивидуальных имплементаций, которые он даже не использует, могут понадобится изменения, если какие-то из индивидуальных имплементация изменятся. Это особенно заметно для компилируемых языков, однако и здесь мы может увидеть как изменения в <code>LightControl</code> влияют на <code>BusStation</code>. Такие вещи никогда не должны происходить.</p> <p>Интерфейсы принадлежат их клиентам, а не реализациям. Таким образом, мы всегда должны проектировать их так, чтобы они отвечали запросам клиентов. Иногда мы точно знаем наших клиентов, иногда нет. Но когда это возможно, мы должны разбить наши интерфейсы на много маленьких, чтобы они лучше удовлетворяли конкретным нуждам клиентов.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2014/01/segregatedInterfaces.png" alt="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." title="SOLID: Часть 3 - Принципы Подстановки Лисков и Разделения интерфейса..." width="50" height="50"><br></figure><p>Конечно, это приведет нас к некоторой проблеме повтора кода. Но запомните! Интерфейсы это лишь план имен функций. Здесь нет никаких реализаций или какой-либо логики. Поэтому повторы кода минимальны и управляемы.</p> <p>Тогда мы имеем отличное преимущество для наших клиентов использовать только то, что им действительно нужно. В некоторых случаях клиентам необходимо несколько интерфейсов, что является нормой, до тех пор пока они используют все методы интерфейсов, от которых зависят.</p> <p>Другой хороший трюк заключается в том, что в нашей бизнес-логике единичный класс может реализовать несколько интерфейсов, если надо. Поэтому мы можем предоставить единую имплементацию для всех общих методов между интерфейсами. Разделенные интерфейсы также вынудят нас думать о коде больше с точки зрения клиента, что в свою очередь приведет к слабой связанности и простому тестированию. Мы сделаем наш код не только лучше для клиента но и проще для самих себя, для понимания, тестирования и реализации.</p> <h2>Заключение</h2> <p>Подстановка Лисков учит нас почему реальность не может быть сопоставлена с программными объектами и как субтипы должны уважать родителей. Мы так же осветили другие принципы, которые уже знаем.</p> <p>Разделение интерфейсов учит нас уважать клиентов больше чем нам казалось необходимо. Уважение их нужд делает наш код луше а нашу жизнь как программистов проще.</p> <p>Спасибо за ваше время.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="PHP" href="https://norma-studio.github.io/article5/220825533-solid-chast-3--printsipy-podstanovki-liskov-i-razdeleniya-interfejsa" class="tm-article-body__tags-item-link">PHP</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
38862</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
686</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
