
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>Как создать To-Do приложение с помощью Polymer и Cordova... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Как создать To-Do приложение с помощью Polymer и Cordova... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="Как создать To-Do приложение с помощью Polymer и Cordova... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="Как создать To-Do приложение с помощью Polymer и Cordova... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content="Еще в ранние дни Android, когда еще не было хороших фреймворков для пользовательского интерфейса, и большинство устройств Android были недостаточно мощными, создание гибридных приложений-приложений, разработанных с использованием веб-технологий, таких как HTML5, CSS и JavaScript, было действительно плохой идеей....">
<meta property="og:description" content="Еще в ранние дни Android, когда еще не было хороших фреймворков для пользовательского интерфейса, и большинство устройств Android были недостаточно мощными, создание гибридных приложений-приложений, разработанных с использованием веб-технологий, таких как HTML5, CSS и JavaScript, было действительно плохой идеей....">
<meta name="twitter:description" content="Еще в ранние дни Android, когда еще не было хороших фреймворков для пользовательского интерфейса, и большинство устройств Android были недостаточно мощными, создание гибридных приложений-приложений, разработанных с использованием веб-технологий, таких как HTML5, CSS и JavaScript, было действительно плохой идеей....">
<meta property="aiturec:description" content="Еще в ранние дни Android, когда еще не было хороших фреймворков для пользовательского интерфейса, и большинство устройств Android были недостаточно мощными, создание гибридных приложений-приложений, разработанных с использованием веб-технологий, таких как HTML5, CSS и JavaScript, было действительно плохой идеей....">
<meta property="og:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/362/posts/25434/final_image/tA.png">
<meta property="aiturec:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/362/posts/25434/final_image/tA.png">
<meta name="twitter:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/362/posts/25434/final_image/tA.png">
<meta property="vk:image" content="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/362/posts/25434/final_image/tA.png">
<meta property="og:type" content="article">
<link image_src="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/362/posts/25434/final_image/tA.png">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova.html" title="Как создать To-Do приложение с помощью Polymer и Cordova... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="Как создать To-Do приложение с помощью Polymer и Cordova... | envatomarket.ru | norma-studio.github.io" title="Как создать To-Do приложение с помощью Polymer и Cordova... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/645343435.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova.html" class="tm-user-info__username" title="
Н. Аяцков" aria-label="
Н. Аяцков">
Н. Аяцков</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>Как создать To-Do приложение с помощью Polymer и Cordova...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Cordova" href="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova" class="tm-article-snippet__hubs-item-link"><span>Cordova</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova.html" />
    <link itemprop="image" href="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads/users/362/posts/25434/final_image/tA.png">
    <meta itemprop="headline name" content="Как создать To-Do приложение с помощью Polymer и Cordova... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content="Еще в ранние дни Android, когда еще не было хороших фреймворков для пользовательского интерфейса, и большинство устройств Android были недостаточно мощными, создание гибридных приложений-приложений, разработанных с использованием веб-технологий, таких как HTML5, CSS и JavaScript, было действительно плохой идеей....">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody">Еще в ранние дни Android, когда еще не было хороших фреймворков для пользовательского интерфейса, и большинство устройств Android были недостаточно мощными, создание гибридных приложений-приложений, разработанных с использованием веб-технологий, таких как HTML5, CSS и JavaScript, было действительно плохой идеей....</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<h2>Введение</h2><p>Еще в ранние дни Android, когда еще не было хороших фреймворков для пользовательского интерфейса, и большинство устройств Android были недостаточно мощными, создание гибридных приложений-приложений, разработанных с использованием веб-технологий, таких как HTML5, CSS и JavaScript, было действительно плохой идеей.</p> <p>По сравнению с нативными приложениями они выглядели заметно хуже и плохо работали. Однако те дни давно миновали. Сегодня большинство мобильных устройств могут запускать гибридные приложения без особых усилий, и есть много фреймворков, которые позволяют вам отлично макетировать внешний вид ваше приложения для Android. Поэтому, если вы столкнулись с коротким дедлайном или работаете с небольшим бюджетом, переход на гибридный путь уже не такая уж и плохая идея.</p> <p>В этом уроке я покажу вам, как создать простой, гибридный список дел для Android. Интерфейс приложения будет соответствовать спецификации material дизайна от Google, родному внешнему виду Android Lollipop и Marshmallow. Для этого мы будем использовать <span>Polymer</span>, <span>Polymer paper elements</span> и <span>Apache Cordova</span>.</p> <h2>Предпосылки</h2> <p>Чтобы следовать, вам понадобятся:</p> <ul><li>Последняя версия<span> Android SDK</span> </li> <li>Последняя версия <span>Node.js</span> </li> <li>Android-устройство или эмулятор под управлением Android 5.0 или более поздней версии</li> <li>Базовое понимание HTML5, CSS и JavaScript</li> </ul><p>Если вы новичок в Cordova, то найдите время, чтобы прочитать это <span>введение</span> от Вернера-Бел Анчета. Это введение должно прибавить вам скорости.</p> <h2>1. Зачем использовать Polymer?</h2> <p>Polymer - это фреймворк, который позволяет быстро создавать пользовательские веб-компоненты, полимерные элементы. Используя элементы Polymer, вы можете сделать свои веб-приложения более модульными, а ваш будет легче повторно использовать. После создания элемент может использоваться так же, как и другие теги HTML на HTML-страницах. Например, если вы создали пользовательский элемент с именем <strong>my-elemen</strong>t, его можно использовать на любой HTML-странице, используя следующий код:</p> <pre class="brush: html noskimlinks noskimwords">&lt;my-element&gt;&lt;/my-element&gt;</pre> <p>Более того, используя платформу Polymer, вы можете использовать функции привязки данных, которые она предоставляет, чтобы сделать ваш код JavaScript более простым и менее подверженным ошибкам.</p> <h2>2. Что такое Polymer Paper Elements?</h2> <p>Paper элементы - это полимерные элементы, которые были созданы в соответствии с material дизайном. Они могут использоваться как альтернативы обычным элементам HTML. Например, если вы хотите добавить кнопку на свою страницу, вы можете использовать элемент <code class="inline">paper-button</code>. Код для этого выглядит так:</p> <pre class="brush: html noskimlinks noskimwords">&lt;paper-button&gt; Click Me! &lt;/paper-button&gt;</pre> <p>Аналогичным образом, если вы хотите добавить карточку или кнопку плавающего действия, вы можете использовать <code class="inline">paper-card</code> или <code class="inline">paper-fab</code>. Я уверен, что вы сейчас начинаете понимать полезность элементов Polymer и Paper.</p> <h2>3. Что такое Apache Cordova?</h2> <p>Приложение, созданное с использованием элементов Polymer и Polymer, в основном представляет собой набор файлов HTML, CSS и JavaScript. Это означает, что для запуска требуется браузер. Тем не менее, оно может работать внутри веб-представления, собственного элемента пользовательского интерфейса, который ведет себя как безымянный браузер.</p> <p>Apache Cordova - это среда, которая позволяет создавать собственное приложение, содержащее веб-представление, и указывать страницы HTML, которые вы хотите отобразить. В этом уроке мы будем использовать Apache Cordova для запуска приложения списка дел на устройствах Android.</p> <h2>4. Настройка веб-проекта</h2> <p>Чтобы ускорить разработку и упростить отладку, большинство разработчиков начинают создавать свои гибридные приложения в качестве веб-приложений. Мы будем делать то же самое. Начнем с создания приложения списка дел в виде обычного веб-проекта, который может запускаться в браузере.</p> <p>Создайте новый каталог для проекта и назовите его <strong>todoWebApp</strong>.</p> <pre class="brush: bash noskimlinks noskimwords">mkdir ~/todoWebApp</pre> <p>Чтобы управлять зависимостями проекта, мы будем использовать <span>Bower</span>. Если вы не установили Bower, используйте <code class="inline">npm</code> для его глобальной установки.</p> <pre class="brush: bash noskimlinks noskimwords">sudo npm install -g bower</pre> <p>После установки Bower перейдите в каталог проекта и используйте команду <code class="inline">bower</code> для установки элементов Paper Polymer, а также необходимых зависимостей.</p> <pre class="brush: bash noskimlinks noskimwords">cd ~/todoWebAppbower install PolymerElements/paper-elements</pre> <p>Это завершает настройку веб-проекта.</p> <h2>5. Создание пользовательского полимерного элемента</h2> <p>Теперь создадим пользовательский элемент Polymer, содержащий код как для макета, так и для функциональности веб-приложения списка дел. Начните с создания нового файла и назовите его <strong>tasks-list.html</strong>.</p> <h3>Шаг 1: Импорт элементов Paper</h3> <p>Каждый Paper элемент, используемый в компоновке настраиваемого элемента, должен быть импортирован отдельно. Чтобы создать интерфейс веб-приложения, мы будем использовать следующие элементы:</p> <ul><li> <code class="inline">paper-toolbar</code> для создания панели инструментов</li> <li> <code class="inline">paper-button</code> для создания различных кнопок</li> <li> <code class="inline">paper-fab</code> для создания кнопки с плавающим действием</li> <li> <code class="inline">paper-listbox</code> для создания списка, содержащего задачи</li> <li> <code class="inline">paper-item</code> для создания отдельных задач внутри списка</li> <li> <code class="inline">paper-checkbox</code> для создания флажков, которые пользователь может выставить, чтобы отметить задачи как завершенные</li> <li> <code class="inline">paper-icon-button</code> для рисования кнопок с иконками</li> <li> <code class="inline">paper-input</code> для рисования текстового поля, которое пользователь может использовать для ввода имени задачи</li> <li> <code class="inline">paper-dialog</code> для создания модального диалога</li> <li> <code class="inline">iron-icons</code> для рисования иконок</li> </ul><p>Кроме того, для использования функциональных возможностей связывания данных, предоставляемых Polymer, нам придется импортировать саму оболочку Polymer. Добавьте в файл следующий код:</p> <pre class="brush: html noskimlinks noskimwords">&lt;link rel="import" href="bower_components/polymer/polymer.html"/&gt;&lt;link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html"/&gt;&lt;link rel="import" href="bower_components/paper-button/paper-button.html"/&gt;&lt;link rel="import" href="bower_components/paper-fab/paper-fab.html"/&gt;&lt;link rel="import" href="bower_components/paper-listbox/paper-listbox.html"/&gt;&lt;link rel="import" href="bower_components/paper-item/paper-item.html"/&gt;&lt;link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html"/&gt;&lt;link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html"/&gt;&lt;link rel="import" href="bower_components/paper-input/paper-input.html"/&gt;&lt;link rel="import" href="bower_components/paper-dialog/paper-dialog.html"/&gt;&lt;link rel="import" href="bower_components/iron-icons/iron-icons.html"/&gt;</pre> <h3>Шаг 2: Создание DOM</h3> <p>Полимерные элементы можно рассматривать как HTML-страницы. Подобно HTML-страницам, элементы Polymer имеют собственное дерево DOM, содержащее различные теги для элементов пользовательского интерфейса, теги <code class="inline">style</code> для стилизации и теги <code class="inline">script</code> для кода JavaScript.</p> <p>Чтобы создать DOM, мы должны использовать тег <code class="inline">dom-module</code> и установить его атрибут <code class="inline">id</code> для имени элемента. Давайте назовем этот элемент <strong>tasks-list</strong>. Обратите внимание, что имя должно содержать дефис.</p> <pre class="brush: html noskimlinks noskimwords">&lt;dom-module id="tasks-list"&gt;&lt;/dom-module&gt;</pre> <h3>Шаг 3: Создание макета</h3> <p>Создание макета с использованием элементов Polymer так же просто, как создание макета с использованием HTML-элементов, только теги будут немного разные. Однако вы должны убедиться, что все детали макета находятся внутри тега <code class="inline">template</code>.</p> <p>Вот код, который вы можете добавить в <code class="inline">dom-module</code>, чтобы создать макет приложения списка дел:</p> <pre class="brush: html noskimlinks noskimwords">&lt;template&gt;  &lt;!-- Create a toolbar/actionbar --&gt;        &lt;paper-toolbar&gt;            &lt;div class="title"&gt; My Tasks &lt;/div&gt;        &lt;/paper-toolbar&gt;        &lt;div&gt;&lt;!-- Create a list of tasks --&gt;            &lt;paper-listbox&gt;                &lt;template is="dom-repeat" items="{{ tasks }}"&gt;&lt;!-- Create an individual task --&gt;                    &lt;paper-item&gt;                        &lt;paper-checkbox checked="{{ item.isComplete }}"                             class="flex-11 taskBox" on-change="toggleTask"&gt;                                {{ item.taskName }}                        &lt;/paper-checkbox&gt;                                                    &lt;paper-icon-button                            icon="delete"                            class="flex-1"                            style="color: gray"                            on-click="deleteTask"&gt;                        &lt;/paper-icon-button&gt;                                        &lt;/paper-item&gt;                &lt;/template&gt;            &lt;/paper-listbox&gt;&lt;!-- Create a floating action button --&gt;            &lt;paper-fab icon="add"                       style="position:absolute; bottom: 30px; right:24px"                       on-click="showAddTaskDialog"&gt;            &lt;/paper-fab&gt;&lt;!-- Create a modal dialog --&gt;            &lt;paper-dialog id="addTaskDialog" modal&gt;                &lt;paper-input label="What do you have to do?" value="{{ latestTaskName }}"&gt;&lt;/paper-input&gt;                &lt;div class="buttons"&gt;                    &lt;paper-button dialog-dismiss&gt;Cancel&lt;/paper-button&gt;                    &lt;paper-button on-click="addTask"&gt;Add&lt;/paper-button&gt;                &lt;/div&gt;            &lt;/paper-dialog&gt;        &lt;/div&gt;&lt;/template&gt;</pre> <p>Это может показаться большим количеством кода, но если вы знакомы с выражениями HTML и handlebars, вы обнаружите, что он довольно интуитивно понятен.</p> <p>Как вы можете видеть, теги элементов Polymer можно свободно использовать вместе с тегами HTML, а встроенные стили можно использовать для настройки их внешнего вида.</p> <p>Добавление прослушивателя событий в тег элемента Polymer аналогично добавлению одного в тег HTML. В приведенном выше коде мы использовали два типа прослушивателей событий, прослушиватели <code class="inline">on-click</code>, чтобы обнаруживать нажатые кнопки и прослушиватели <code class="inline">on-change</code>, чтобы обнаружить изменения в состояниях флажков.</p> <p>Вы также заметили, что помимо элементов Polymer и HTML-тегов мы использовали хелпер <code class="inline">dom-repeat</code> у тега <code class="inline">template</code>. Если вы еще не догадались об этом, он работает как оператор <code class="inline">for</code> и может использоваться для прокрутки всех элементов массива. В нашем макете он используется для создания отдельных задач, относящихся к массиву задач.</p> <h3>Шаг 4: Регистрация элемента</h3> <p>Прежде чем мы сможем использовать пользовательский элемент Polymer в HTML-страницах, мы должны зарегистрировать его, используя функцию <code class="inline">Polymer</code>. Эта функция ожидает один объект JavaScript, который содержит функции и свойства элемента. По крайней мере, объект должен иметь свойство <code class="inline">is</code>, определяющее имя настраиваемого элемента.</p> <p>Добавьте тег <code class="inline">script</code> после тега <code class="inline">template</code> и добавьте к нему следующий код:</p> <pre class="brush: javascript noskimlinks noskimwords">Polymer({    is: "tasks-list",// more code goes here});</pre> <h3>Шаг 5: Инициализация элемента</h3> <p>В макете нашего элемента мы использовали два свойства внутри выражений дескриптора, <code class="inline">tasks</code> и <code class="inline">lastTaskName</code>. Однако элемент еще не обладает этими свойствами. Чтобы добавить и инициализировать их, мы должны использовать <code class="inline">ready</code> метод. На данный момент мы можем просто инициализировать <code class="inline">tasks</code> пустым массивом и <code class="inline">lastTaskName</code> пустой строкой.</p> <p>Добавьте следующий код после свойства <code class="inline">is</code>:</p> <pre class="brush: javascript noskimlinks noskimwords">ready: function() {    this.tasks = [];this.latestTaskName = "";},</pre> <h3>Шаг 6: Хранение, обновление и удаление данных</h3> <p>Чтобы навсегда сохранить задачи, которые пользователь добавляет в список дел, мы будем использовать локальное хранилище через объект <code class="inline">localStorage</code>. Давайте теперь напишем код для добавления задачи в локальное хранилище.</p> <p>В макете уже есть <code class="inline">paper-dialog</code>, в котором есть поле ввода, где пользователь может ввести имя задачи. Диалог по умолчанию закрыт, но это не то, что мы хотим. В прослушивателе <code class="inline">on-click</code> у кнопки плавающего действия вызовите <code class="inline">open</code> метод диалога, чтобы открыть его.</p> <pre class="brush: javascript noskimlinks noskimwords">showAddTaskDialog: function() {    this.$.addTaskDialog.open();},</pre> <p>Благодаря двусторонней привязке данных Polymer все, что пользователь вводит в <code class="inline">paper-input</code> диалогового окна, доступно сразу в свойстве <code class="inline">latestTaskName</code>. Поэтому внутри прослушивателя <code class="inline">on-click</code> кнопки «<strong>Добавить</strong>» мы можем просто добавить <code class="inline">lastTaskName</code> в <code class="inline">localStorage</code> с помощью метода <code class="inline">setItem</code>.</p> <p><code class="inline">LocalStorage</code> хранит данные в виде пар ключ-значение. Чтобы сохранить задачу, мы будем использовать имя задачи в качестве ключа и будет ли оно завершено или нет как значение. Поскольку <code class="inline">localStorage</code> работает только со строками (в настоящее время булевы не поддерживаются), мы сохраним «<strong>yes</strong>», если задача будет завершена, и <strong>no</strong> в противном случае.</p> <p>После того, как задача была добавлена, мы можем закрыть диалог, используя метод <code class="inline">close</code>.</p> <pre class="brush: javascript noskimlinks noskimwords">addTask: function() {// Store the new task as not completed    localStorage.setItem(this.latestTaskName, "no");// Reset latestTaskNamethis.latestTaskName="";// Close the dialog    this.$.addTaskDialog.close();// Update the list of tasks    this.updateTasks();},</pre> <p>Аналогично, когда пользователь проверяет или отменяет флажок, связанный с задачей, мы можем обновить значение, хранящееся в объекте <code class="inline">localStorage</code>, путем вызова метода <code class="inline">setItem</code>. Поскольку мы использовали хелпер <code class="inline">dom-repeat</code> у тега <code class="inline">template</code> для рисования отдельных элементов <code class="inline">paper-listbox</code> мы можем использовать объект <code class="inline">model</code>, присутствующий в событии <code class="inline">on-change</code>, чтобы получить имя задачи, связанной с этим флажком. Кроме того, перед тем, как сохранить его в <code class="inline">localStorage</code>, нам нужно преобразовать логическое значение <code class="inline">checked</code> флажков в состояние «yes» или «no».</p> <pre class="brush: javascript noskimlinks noskimwords">toggleTask: function(e) {// Get the name of the task    var taskName = e.model.item.taskName;// Convert true/false to yes/no    if(e.model.item.isComplete)        localStorage.setItem(taskName, "yes");    else        localStorage.setItem(taskName, "no");},</pre> <p>Если пользователь хочет удалить задачу, он может щелкнуть по <code class="inline">paper-icon-button</code>, связанной с этой задачей. Чтобы удалить задачу навсегда, вызовите метод <code class="inline">removeItem</code> объекта <code class="inline">localStorage</code> в прослушивателе <code class="inline">on-click</code> у <code class="inline">paper-icon-button</code>.</p> <pre class="brush: javascript noskimlinks noskimwords">deleteTask: function(e) {    var taskName = e.model.item.taskName;    localStorage.removeItem(taskName);// Update the list of tasks    this.updateTasks();},</pre> <h3>Шаг 7. Отображение задач</h3> <p>Возможно, вы заметили вызовы <code class="inline">updateTasks</code> в методах <code class="inline">addTask</code> и <code class="inline">deleteTask</code>. В методе <code class="inline">updateTasks</code> мы обновляем массив <code class="inline">tasks</code>, который мы инициализировали в методе <code class="inline">ready</code>, чтобы отразить содержимое объекта <code class="inline">localStorage</code>. Это необходимо, поскольку хелпер <code class="inline">dom-repeat</code> у <code class="inline">template</code> используемый для отображения списка задач, работает только с массивом.</p> <p>В массиве <code class="inline">tasks</code> мы используем объекты JSON для представления задач. Каждый объект JSON имеет два поля: <code class="inline">taskName</code> и <code class="inline">isComplete</code>. <code class="inline">TaskName</code> - это строка, содержащая имя задачи, а <code class="inline">isComplete</code> - логическое значение, указывающее, завершена ли задача.</p> <p>Чтобы позволить Polymer обнаруживать изменения в массиве <code class="inline">tasks</code>, вместо использования стандартных функций массива, мы должны использовать методы манипуляции массивом, присутствующие в элементе Polymer. На данный момент мы будем использовать метод <code class="inline">splice</code> для удаления всех элементов из массива за один раз и метод <code class="inline">push</code> для добавления элементов в массив.</p> <p>Следующий код создает метод <code class="inline">updateTasks</code>, который пробегает по всем элементам объекта <code class="inline">localStorage</code> и добавляет их в массив <code class="inline">tasks</code>.</p> <pre class="brush: javascript noskimlinks noskimwords">updateTasks: function() {// Empty the array    this.splice("tasks", 0);// Add items from localStorage    for(var taskName in localStorage) {        var task = {            taskName: taskName,            isComplete: localStorage.getItem(taskName) == "yes"        };        this.push("tasks", task);    }},</pre> <p>В настоящий момент массив <code class="inline">tasks</code> обновляется только тогда, когда пользователь добавляет или удаляет задачу. Чтобы отображать задачи сразу после открытия приложения, мы должны добавить вызов метода <code class="inline">updateTasks</code> внутри метода <code class="inline">ready</code>.</p> <p>Наш пользовательский Polymer элемент готов к использованию.</p> <h2>6. Использование пользовательского Polymer элемента</h2> <p>Давайте теперь создадим HTML-страницу и добавим к ней пользовательский элемент. Создайте новый файл, назовите его <strong>index.html</strong> и добавьте в него HTML теги <code class="inline">head</code> и <code class="inline">body</code>.</p> <p>Прежде чем использовать элемент, мы должны добавить тег <code class="inline">link</code> для импорта <strong>tasks-list.html</strong>. Кроме того, чтобы удалить отступы и поля, а также использовать гибкий макет, добавьте в тег <code class="inline">body</code> CSS классы <code class="inline">fullbleed</code>, <code class="inline">layout</code> и <code class="inline">vertical</code>. Поскольку эти классы CSS определяются элементом<code class="inline"> iron-flex-layout</code>, мы должны добавить тег <code class="inline">link</code> для его импорта.</p> <p>При наличии указанных выше имён мы можем добавить тег <code class="inline">tasks-list</code> в тег <code class="inline">body</code>. Теперь ваш файл должен выглядеть следующим образом:</p> <pre class="brush: html noskimlinks noskimwords">&lt;html&gt;    &lt;head&gt;        &lt;link rel="import" href="bower_components/iron-flex-layout/iron-flex-layout.html"/&gt;         &lt;link rel="import" href="./tasks-list.html"/&gt;    &lt;/head&gt;    &lt;body class="fullbleed layout vertical"&gt;&lt;!-- Use the custom Polymer element --&gt;        &lt;tasks-list&gt;&lt;/tasks-list&gt;    &lt;/body&gt;&lt;/html&gt;</pre> <h2>7. Запуск приложения в браузере</h2> <p>Наше настоящее веб-приложение списка задач готово. Поскольку для структуры Polymer нужен HTTP-сервер для запуска приложения, запустите его с помощью модуля <code class="inline">SimpleHTTPServer</code> Python внутри каталога проекта.</p> <pre class="brush: bash noskimlinks noskimwords">python -m SimpleHTTPServer</pre> <p>Теперь вы можете посетить <span>http://localhost:8000/</span> для использования своего приложения.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads%2Fusers%2F362%2Fposts%2F25434%2Fimage-1449086213425.png" alt="Как создать To-Do приложение с помощью Polymer и Cordova..." title="Как создать To-Do приложение с помощью Polymer и Cordova..." width="50" height="50"></figure><h2>8. Настройка проекта Cordova</h2> <p>Теперь, когда нам удалось успешно запустить приложение в браузере, пришло время преобразовать его в приложение для Android, вставив его в проект Cordova.</p> <p>Это означает, что сначала нам нужно глобально установить интерфейс командной строки Cordova (интерфейс командной строки) с помощью <code class="inline">npm</code>:</p> <pre class="brush: bash noskimlinks noskimwords">sudo npm install -g cordova</pre> <p>Чтобы создать новый проект Cordova, мы можем использовать команду <code class="inline">create cordova</code>. В качестве аргументов команда ожидает имя каталога, в котором должен быть создан проект Cordova, идентификатор <span>имени домена приложения</span> и имя приложения.</p> <p>Чтобы внедрить наш веб-проект внутри проекта Cordova, нам также необходимо включить опцию <code class="inline">copy-from</code> и указать местоположение веб-проекта.</p> <p>Следующая команда создает проект Cordova для приложения под названием <strong>To-do</strong> внутри каталога <strong>todo</strong> и содержит веб-проект, расположенный в <strong>todoWebApp</strong>:</p> <pre class="brush: bash noskimlinks noskimwords">cordova create todo com.tutsplus.code.hathi.todoapp "To-do" --copy-from=/home/me/todoWebApp</pre> <p>Проект Cordova, который мы только что создали, пока еще не поддерживает платформу. Чтобы добавить поддержку платформы Android, перейдите в каталог <strong>todo</strong> и используйте команду <code class="inline">cordova platform</code>.</p> <pre class="brush: bash noskimlinks noskimwords">cd todocordova platform add android</pre> <h2>9. Запуск приложения</h2> <p>Не написав ни одной строки кода наш проект Cordova уже готов к работе. Давайте построим его с помощью команды <code class="inline">corova build</code>. Прежде чем продолжить, убедитесь, что значение переменной окружения <code class="inline">ANDROID_HOME</code> установлено в местоположение Android SDK.</p> <pre class="brush: bash noskimlinks noskimwords">export ANDROID_HOME=/home/me/Android/Sdk/cordova build android</pre> <p>Если сборка завершится неудачно, показывая что файл <code class="inline">web-animations.min.js.gz</code> не может быть добавлен к APK, попытайтесь удалить файл и попробовать снова собрать проект.</p> <pre class="brush: bash noskimlinks noskimwords">rm -f ./www/bower_components/web-animations-js/web-animations.min.js.gzcordova build android</pre> <p>Как только сборка завершится успешно, разверните приложение на своем Android-устройстве, используя команду <code class="inline">cordova run</code>.</p> <pre class="brush: bash noskimlinks noskimwords">cordova run android</pre> <p>Теперь вы должны увидеть приложение, запущенное на вашем устройстве.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cms-assets.tutsplus.com/cdn-cgi/image/width=600/uploads%2Fusers%2F362%2Fposts%2F25434%2Fimage-1449085450344.png" alt="Как создать To-Do приложение с помощью Polymer и Cordova..." title="Как создать To-Do приложение с помощью Polymer и Cordova..." width="50" height="50"></figure><h2>Заключение</h2> <p>В этом уроке вы узнали, как использовать элементы Polymer и Polymer Paper для создания веб-приложения списка задач. Вы также узнали, как встраивать веб-приложение в проект Cordova, чтобы он работал как гибридное приложение на устройствах Android. Несмотря на то, что мы сосредоточены только на платформе Android, вы также можете запустить приложение на устройстве iOS без каких-либо изменений кода. Чтобы сделать эту работу, вам нужно снова использовать команду <code class="inline">cordova platform</code>, чтобы добавить поддержку платформы iOS.</p> <p>Чтобы узнать, как создавать более сложные интерфейсы с использованием Polymer, я хотел бы направить вас к <span>документации Polymer</span>.</p>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Cordova" href="https://norma-studio.github.io/article5/220825300-kak-sozdat-to-do-prilozhenie-s-pomoschyu-polymer-i-cordova" class="tm-article-body__tags-item-link">Cordova</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
41463</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
455</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
