
<!DOCTYPE html>
<html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>OAuth 2.0 - что в нем хорошее и плохое... | envatomarket.ru | norma-studio.github.io</title>
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="OAuth 2.0 - что в нем хорошее и плохое... | envatomarket.ru | norma-studio.github.io">
<meta name="twitter:title" content="OAuth 2.0 - что в нем хорошее и плохое... | envatomarket.ru | norma-studio.github.io">
<meta name="aiturec:title" content="OAuth 2.0 - что в нем хорошее и плохое... | envatomarket.ru | norma-studio.github.io">
<meta name="description" content=" В мире, где доминируют социальные сети,
трудно встретить клиентское приложение, которое вы использовали для доступа к
ограниченным ресурсам на каком-либо другом сервере, например, вы могли
использовать веб-приложение (например, NY Times) для совместного использования
интересная новостная статья о вашей стене Facebook или разговор об этом. Или вы м...">
<meta property="og:description" content=" В мире, где доминируют социальные сети,
трудно встретить клиентское приложение, которое вы использовали для доступа к
ограниченным ресурсам на каком-либо другом сервере, например, вы могли
использовать веб-приложение (например, NY Times) для совместного использования
интересная новостная статья о вашей стене Facebook или разговор об этом. Или вы м...">
<meta name="twitter:description" content=" В мире, где доминируют социальные сети,
трудно встретить клиентское приложение, которое вы использовали для доступа к
ограниченным ресурсам на каком-либо другом сервере, например, вы могли
использовать веб-приложение (например, NY Times) для совместного использования
интересная новостная статья о вашей стене Facebook или разговор об этом. Или вы м...">
<meta property="aiturec:description" content=" В мире, где доминируют социальные сети,
трудно встретить клиентское приложение, которое вы использовали для доступа к
ограниченным ресурсам на каком-либо другом сервере, например, вы могли
использовать веб-приложение (например, NY Times) для совместного использования
интересная новостная статья о вашей стене Facebook или разговор об этом. Или вы м...">
<meta property="og:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/webserverflow.jpg">
<meta property="aiturec:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/webserverflow.jpg">
<meta name="twitter:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/webserverflow.jpg">
<meta property="vk:image" content="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/webserverflow.jpg">
<meta property="og:type" content="article">
<link image_src="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/webserverflow.jpg">
<meta property="og:locale" content="ru_RU"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="robots" content="all">
<meta name="author" content="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe.html">
<meta name="copyright" lang="ru" content="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe.html">
<link rel="canonical" href="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe.html">
<meta property="og:url" content="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe.html">
<meta name="twitter:site" content="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe.html">
<meta name="twitter:creator" content="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe.html">

<meta name="apple-mobile-web-app-status-bar-style" content="#303b44"><meta name="msapplication-TileColor" content="#629FBC">
<link rel="shortcut icon" type="image/ico" sizes="64x64" href="https://norma-studio.github.io//norma-logo-64.png">
<link rel="shortcut icon" href="https://norma-studio.github.io//favicon.ico" type="image/x-icon">
<style>body{opacity: 0;}</style>
<meta name="yandex-verification" content="da91da9b0b6d5dba"><meta name="google-site-verification" content="_BCz7bv6IKv32EI5NSdb9dPwP4PnhlsToVoSOpbZlZI"></head><body>
<div id="app"><div class="tm-layout__wrapper"><div></div>
<header id="extop" class="tm-header"><div class="tm-page-width"><div class="tm-header__container">

<span class="tm-header__logo-wrap"><a aria-label="norma-studio.github.io" href="https://norma-studio.github.io/" class="tm-header__logo tm-header__logo_ru" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге norma-studio.github.io">norma-studio.github.io</a></span><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title><svg id="arrow-down" viewBox="0 0 24 24"><path d="m6.47 9.47c.293-.293.768-.293 1.061 0l4.47 4.47 4.47-4.47c.293-.293.768-.293 1.061 0s.293.768 0 1.061l-5 5c-.293.293-.768.293-1.061 0l-5-5c-.293-.293-.293-.768 0-1.061z"></path></svg></svg></button></div></div><a aria-label="Написать нам" href="https://wa.me/79603570433?text=https://norma-studio.github.io/_Добрый_день" class="tm-header__become-author-btn" title="Подборка эксклюзивных материалов о создании и продвижении сайтов, дизайне сайтов и интернет-маркетинге. Как создать и продвигать сайт, как выбрать дизайн сайта и интернет-стратегию, как защитить свои права в интернете, как продать контент для сайтов? Все ответы в блоге envatomarket.ru.">Написать нам</a><div class="tm-feature tm-header__feature tm-feature_variant-inline"></div></div></div></header>

<div class="tm-layout">
<main class="tm-layout__container"><div class="tm-page"><div class="tm-page-width"><div class="tm-page__wrapper">
<div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down">
<div class="tm-page-article__body data-container" style="background-color: #f0f0f0;" id="data-container">


<article class="tm-page-article__content tm-page-article__content_inner" style="background-color: #fff;">
<!-- article-header -->
<div class="tm-page-article__head-wrapper"><div class="tm-article-snippet tm-page-article__snippet">

<div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a aria-label="author-image" href="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe.html" title="OAuth 2.0 - что в нем хорошее и плохое... | envatomarket.ru | norma-studio.github.io" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="OAuth 2.0 - что в нем хорошее и плохое... | envatomarket.ru | norma-studio.github.io" title="OAuth 2.0 - что в нем хорошее и плохое... | envatomarket.ru | norma-studio.github.io" height="24" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/i3/654345654.webp" width="24" class="tm-entity-image__pic lazy07"></div></a><span class="tm-user-info__user">
<a href="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe.html" class="tm-user-info__username" title="
А. Кузнецов" aria-label="
А. Кузнецов">
А. Кузнецов</a>
</span></span><span class="tm-article-snippet__datetime-published"><time datetime="2023-12-09T15:24:38.000Z" title="22023-12-09, 19:24"> 09.12.2023</time></span></div></div>
<h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1" itemprop="name"><span><span>OAuth 2.0 - что в нем хорошее и плохое...</span></span></h1>
<div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe" class="tm-article-snippet__hubs-item-link"><span>Code</span></a></span><span class="tm-article-snippet__hubs-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe" class="tm-article-snippet__hubs-item-link"><span>Web Development</span></a></span><br></div></div>

<div itemscope itemtype="https://schema.org/Article" style="display:none;">
    <link itemprop="mainEntityOfPage" href="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe.html" />
    <link itemprop="image" href="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/webserverflow.jpg">
    <meta itemprop="headline name" content="OAuth 2.0 - что в нем хорошее и плохое... | envatomarket.ru | norma-studio.github.io">
    <meta itemprop="description" content=" В мире, где доминируют социальные сети,
трудно встретить клиентское приложение, которое вы использовали для доступа к
ограниченным ресурсам на каком-либо другом сервере, например, вы могли
использовать веб-приложение (например, NY Times) для совместного использования
интересная новостная статья о вашей стене Facebook или разговор об этом. Или вы м...">
    <meta itemprop="author" content="norma-studio.github.io">
    <meta itemprop="datePublished" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <meta itemprop="dateModified" datetime="2023-12-09T15:24:38.000Z" content="09.12.2023">
    <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
        <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <img class="lazy07" itemprop="url image" src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-src="https://envatomarket.ru/apple-touch-icon-120.ico" alt="Шаблоны сайтов | Лендинги" title="Шаблоны сайтов | Лендинги" style="display:none;"/>
        </div>
        <meta itemprop="name" content="https://norma-studio.github.io/">
        <meta itemprop="telephone" content="">
        <meta itemprop="address" content="Россия">
    </div>
    <p>Интро</p>
    <span itemprop="articleBody"> В мире, где доминируют социальные сети,
трудно встретить клиентское приложение, которое вы использовали для доступа к
ограниченным ресурсам на каком-либо другом сервере, например, вы могли
использовать веб-приложение (например, NY Times) для совместного использования
интересная новостная статья о вашей стене Facebook или разговор об этом. Или вы м...</span>
</div>


<!-- article-body -->

<div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2">



<p> В мире, где доминируют социальные сети,трудно встретить клиентское приложение, которое вы использовали для доступа кограниченным ресурсам на каком-либо другом сервере, например, вы моглииспользовать веб-приложение (например, NY Times) для совместного использованияинтересная новостная статья о вашей стене Facebook или разговор об этом. Или вы могли использовать приложениеiPhone Quora, которое обращается к вашему профилю Facebook или Google+ инастраивает результаты на основе ваших данных профиля, например, предлагаядобавить/пригласить других пользователей в Quora на основе списка ваших друзей.Вопрос в том, как эти приложения получают доступ к вашему Facebook, Twitter илиGoogle+ и как они могут получить доступ к вашим конфиденциальным данным? Прежде чем они смогут это сделать, онидолжны предоставить на сервер ресурсов некоторую форму учетных данных иразрешений на авторизацию. </p><p><!--more--></p> <hr><h2>Введение в OAuth 2.0 </h2> <blockquote class="pullquote"> <p>OAuth часто называют<span> ключом доступа вИнтернете</span>. </p> </blockquote> <p> Теперь было бы <em>хорошо </em>не распространяться,чтобы не делиться своими учетными данными Facebook или Google с любым сторонним клиентским приложением, которое нужно знать только вашим друзьям, поскольку оно не только предоставляет неограниченный и нежелательный доступ к вашей учетной записи, но также имеет присущая слабость, связанная с паролями. Здесь <span>OAuth </span>вступает в игру, посколькуон описывает структуру делегирования доступа/авторизации, которую можно использовать без необходимости совместного использования паролей. По этой причине OAuth часто описывается как <span>ключ доступа в Интернете</span>. Его можно рассматривать как специальный ключ, который позволяет получить доступ к ограниченным функциям и в течение ограниченного периода времени, не отдавая полный контроль, точно так же, как ключ для автомобиля позволяет автостоянке управлять автомобилем на коротком расстоянии, блокируя доступ к багажнику и встроенному сотовому телефону.</p> <p> Однако OAuth - это не новая концепция, астандартизация и общая разработка многих хорошо зарекомендовавших себяпротоколов. Также стоит отметить, что OAuth неограничивается только приложениями для социальных сетей, но обеспечиваетстандартизированный способ безопасного обмена информацией между различнымиприложениями, которые предоставляют свои API-интерфейсы другим приложениям. OAuth 2.0 имеет совершенно новую прозу иобратно не совместим со своей предшественницей. Сказав это, было бы неплохосначала прикрывать некоторый базовый словарный запас OAuth2.0, прежде чемпогрузиться в дальнейшие подробности.</p> <ul><li>  <b>Владелец ресурса:</b> объект, способныйпредоставлять доступ к защищенному ресурсу. В большинстве случаев это конечный пользователь.</li> <li>  <b>Клиент:</b> приложение, выполняющеезащищенные запросы ресурсов от имени владельца ресурса и с его авторизацией.Это может быть серверное, мобильное (собственное) или настольное приложение.</li> <li>  <b>Сервер ресурсов:</b> сервер, на которомразмещены защищенные ресурсы, способные принимать и отвечать на запросы защищенных ресурсов.</li> <li>  <b>Сервер авторизации:</b> сервер выдаётразрешения/токены доступа клиенту после успешной аутентификации владельца ресурса и получения авторизации.</li> <li>  <b>Токен доступа:</b> токены доступа - этоучетные данные, предоставленные клиентом серверу ресурсов для доступа к защищенным ресурсам. Обычно это строка, состоящая из определенной области действия, времени жизни и других атрибутов доступа, и она может самостоятельно содержать информацию авторизации поддающимся проверке образом. </li> <li>  <b>Обновить токен:</b> Хотя они несоответствуют спецификации, токены доступа имеют время истечения, которое может длиться от нескольких минут до нескольких часов. Как только токен доступа истек, клиент может запросить сервер авторизации на выпуск нового токена доступа с использованием токена обновления, выданного сервером авторизации. </li> </ul><h3>Что случилось с OAuth 1.0?</h3> <blockquote class="pullquote"> <p>Основным недостатком OAuth 1.0 былаприсущая сложность, необходимая для реализации спецификации.</p> </blockquote> <p> Не важно! Twitter по-прежнему отличноработает с OAuth 1.0 и <span>только начал поддерживать</span> небольшую часть спецификации 2.0. OAuth 1.0 был хорошо продуманнойспецификацией и позволял безопасно осуществлять обмен секретной информацией безнакладных расходов, налагаемых SSL. Причина, по которой мы нуждались вобновлении, в основном основывалась на сложности, связанной с внедрениемспецификации. Ниже перечислены некоторые области, в которых OAuth 1.0 неудалось произвести впечатление:</p> <ul><li>  <b>Регистрация каждого запроса:</b> Когдаклиент генерирует подписи по каждому запросу API и проверяет их на сервере каждый раз, когда запрос получен, он оказался серьезным препятствием для разработчиков, поскольку им приходилось анализировать, кодировать и сортировать параметры перед выполнением запроса. OAuth 2.0 устранил эту сложность, простоотправив токены через SSL, решив ту же проблему на сетевом уровне. OAuth 2.0 нетребует подписи. </li> <li>  <b>Адресация собственных приложений:</b> сразвитием собственных приложений для мобильных устройств OAuth 1.0 в Интернете выглядели неэффективными, требуя использования пользовательских агентов, таких как веб-браузер. OAuth 2.0 обеспечили больше потоков, специально подходящих для собственных применений. </li> <li>  <b>Четкое разделение ролей:</b> OAuth 2.0обеспечивает столь необходимое разделение ролей для авторизационного сервера,который аутентифицирует и авторизует клиента, а сервер API обработки ресурсов -для доступа к ограниченным ресурсам.</li> </ul><hr><h2>OAuth 2.0 глубже</h2> <p> Перед запуском протокола клиент должензарегистрироваться на сервере авторизации, указав его тип клиента, URL егоперенаправления (где он хочет перенаправить сервер авторизации после того, каквладелец ресурса предоставит или отклонит доступ) и любую другую информацию,требуемую сервером и, в свою очередь, предоставляется идентификатор клиента(client_id) и секрет клиента (client_secret). Этот процесс известен как «Регистрацияклиентов». После регистрации клиент может принять один из следующих потоков длявзаимодействия с сервером.</p> <h3>Различные потоки OAuth</h3> <p> OAuth 2.0 выводит пять новых потоков втаблицу и дает разработчикам гибкость для реализации любого из них взависимости от типа используемого клиента:</p> <ul><li>  <b>Поток User-Agent:</b> подходит для клиентов,обычно реализуемых в пользовательских агентах (например, клиенты, работающие внутри веб-браузера), используя язык сценариев, такой как JavaScript. В основном используется родными приложениями для мобильных или настольных компьютеров, используя встроенный или внешний браузер в качестве пользовательских приложений, агент для авторизации, и использует авторизацию <i>скрытого согласия</i>.</li> <li>  <b>Поток веб-сервера:</b> это использует согласие<i>авторизационного кода</i> и представляет собой поток, основанный на перенаправлении, который требует взаимодействия с пользовательским агентом конечного пользователя. Таким образом, он наиболее подходит для клиентов,которые являются частью приложений на базе веб-сервера, к которым обычно обращаются через веб-браузер. </li> <li>  <b>Поток имени пользователя и пароля:</b>используется только при высоком доверии между клиентом и владельцем ресурса и когда другие потоки не являются жизнеспособными, так как это связано с передачей учетных данных владельца ресурса. Примерами клиентов могут быть операционная система устройства или высоко приоритетное приложение. Это также можно использовать дляпереноса существующих клиентов с использованием протоколов HTTP Basic илиDigest Authentication в OAuth путем преобразования сохраненных учетных данных втокен доступа. </li> <li>  <b>Утверждение:</b> ваш клиент может представить утверждение, такое как SAML Assertion, на сервер авторизации в обмен на токен доступа. </li> <li>  <b>Поток клиентских учетных данных:</b> OAuth восновном используется для делегированного доступа, но есть случаи, когда клиент владеет ресурсом или уже получил делегированный доступ за пределами типичного потока OAuth. Здесь вы просто обмениваетесь учетными данными клиента для токена доступа. </li> </ul><p>Обсуждение каждого потока в деталяхвыходит за рамки этой статьи, и я предпочел бы рекомендовать прочитать <span>спецификацию </span>для подробной информации о потоке. Но чтобы понять, что происходит, давайте углубимся в один из наиболее используемых и поддерживаемых потоков: поток веб-сервера.</p> <h3>Поток веб-сервера</h3> <p> Поскольку это поток, основанный наперенаправлении, клиент должен иметь возможность взаимодействовать спользовательским агентом владельца ресурса (который в большинстве случаевявляется веб-браузером) и, следовательно, обычно подходит для веб-приложения.На приведенной ниже диаграмме показано, как конечный пользователь (или владелецресурса) использует клиентское приложение (веб- серверное приложение в этомслучае) для аутентификации и авторизации с сервера авторизации для доступа кресурсам, защищенным сервером ресурсов.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/webserverflow.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><h4>Аутентификация и авторизация клиента </h4> <p>Клиент от имени владельца ресурса инициирует поток путем перенаправления на конечную точку авторизации с параметром response_type в качестве <code>code</code>, идентификатором клиента, который получается при регистрации клиента, URL-адрес перенаправляется, запрашиваемый объем (необязательный) и локальный (если есть). Чтобы понять, как это работает, вотскриншот о том, как будет выглядеть типичный запрос/ответ: </p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/step1Request.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><p> Это обычно предоставляет владельцуресурса веб-интерфейс, где владелец может аутентифицировать и проверять, какиевсе разрешения, которые клиентское приложение может использовать от именивладельца.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/allowAccess.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><p> Предполагая, что владелец ресурса предоставляетдоступ клиенту, сервер авторизации перенаправляет пользовательский агентобратно клиенту с использованием ранее указанного URL-адреса перенаправлениявместе с кодом авторизации, как показано в ответе ниже.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/step1Response.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><h4>Код авторизации Exchange для токенов </h4> <p> Затем клиент <i>отправляет </i>в другуюконечную точку авторизации и отправляет код авторизации, полученный на предыдущем шаге, вместе с URL-адресом перенаправления, его идентификатором и секретным ключом клиента, полученным во время регистрации клиента, и параметромgrant_type должен быть установлен как <code>authorization_code</code>.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/step2Request.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><p> Затем сервер проверяет код авторизации ипроверяет, что URL-адрес перенаправления такой же, как на предыдущем шаге. Вслучае успеха сервер отвечает на токен доступа и, необязательно, токен обновления.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/step2Response.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><h4>Запросить ограниченные ресурсы с помощьютокенов доступа</h4> <p> Клиент теперь может использоватьAPI-интерфейсы, предоставляемые реализацией, и может запрашивать серверресурсов для ограниченного ресурса, пропуская маркер доступа в заголовке авторизациизапроса. Образец запроса CURL API Google Blogger для получения блога, учитываяего идентификатор, вот как это будет выглядеть: </p> <pre class="brush: bash noskimlinks noskimwords">  $ curl https://www.googleapis.com/blogger/v3/blogs/5223788876950011016 -H "Authorization: OAuth ya29.AHES6ZRTj1GNxAby81Es-p_YPWWNBAFRvBYVsYj2HZJfJHU"</pre> <p>Обратите внимание, что мы добавили токендоступа в качестве заголовка авторизации в запросе и также экранировали токен,включив его в одинарные кавычки, поскольку токен может содержать специальныесимволы. Имейте в виду, что экранирование маркерадоступа требуется только при использовании curl. Это приводит к отправкеследующего запроса:</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/step3Request.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><p> Затем сервер ресурсов проверяетпройденные учетные данные (токен доступа) и в случае успеха отвечает назапрошенную информацию.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/step3Response.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><p> Эти примеры любезно предоставлены<span>игровой площадкой OAuth2.0</span> и типичны для того, как Google реализует спецификацию. Различия могут наблюдаться при попытке одного и того же потока с другими провайдерами (например, Facebook или Salesforce), и здесь возникают проблемы взаимодействия, которые мы обсудим чуть позже.</p> <h3>Обновление токена доступа </h3> <p> Хотя это не предусмотрено спецификацией,но обычно токены доступа недолговечны и имеют время истечения срока действия.Поэтому, когда токен доступа истек, клиент отправляет токен обновления на сервер авторизации вместе с его идентификатором и секретом клиента и параметромgrant_type как <code>refresh_token</code>.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/step4Request.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><p>Затем сервер авторизации отвечает нановое значение для токена доступа.</p> <figure><img src="data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" class="lazy07" data-src="https://cdn.tutsplus.com/cdn-cgi/image/width=600/net/uploads/2013/07/step4Response.jpg" alt="OAuth 2.0 - что в нем хорошее и плохое..." title="OAuth 2.0 - что в нем хорошее и плохое..." width="50" height="50"><br></figure><p>Хотя существует механизм для отменывыданного токена обновления, но, как правило, токен обновления живет всегда идолжен быть защищен и обработан как секретное значение.</p> <hr><h2>Что случилось с OAuth 2.0?</h2> <h3>Хорошая вещь</h3> <p> Начиная с уровня принятия, OAuth 2.0,безусловно, является улучшеным по сравнению с его тайным предшественником.Экземпляры сообщества разработчиков, прерывающиеся при выполнении подписей 1.0,не являются неизвестными. OAuth 2.0 также предоставляет нескольконовых типов грантов, которые могут использоваться для поддержки многих случаевиспользования, таких как собственные приложения, но USP этой спецификацииявляется ее простой по сравнению с предыдущей версией.</p> <h3>Плохие моменты</h3> <p> В спецификации есть несколько короткихконцов, поскольку он не может правильно определить несколько требуемыхкомпонентов или оставить их до решений, которые необходимо решить, например:</p> <blockquote class="pullquote"> <p>Свободные концы в спецификации OAuth2.0, вероятно, производят широкий спектр несовместимых реализаций. </p> </blockquote> <ul><li>  <b>Взаимодействие:</b> добавление слишкомбольшого количества точек расширения в спецификации привело к реализации,которые несовместимы друг с другом, что означает, что вы не можете надеятьсянаписать общий фрагмент кода, который использует <i>Endpoint Discovery</i>, чтобыузнать о конечных точках, предоставляемых различными реализациями ивзаимодействовать с ними, скорее вам придется писать отдельные фрагменты кодадля Facebook, Google, Salesforce и т. д. Даже спецификация <span>признает этот отказ</span>как отказ от ответственности. </li> <li>  <b>Короткие живые токены:</b> спецификация неопределяет срок действия и объем выданных токенов. Реализация вольна иметьтокен навсегда. Хотя большинство реализацийпредоставляют нам краткосрочные токены доступа и токен обновления, которыеможно использовать для получения нового токена доступа.</li> <li>  <b>Безопасность:</b> спецификация просто «рекомендует»использование SSL/TLS при отправке токенов открытым текстом по проводу.Несмотря на то, что в каждой крупной реализации требовалось также иметьзащищенные конечные точки авторизации, требуется, чтобы клиент имел URL-адресбезопасного перенаправления, в противном случае злоумышленник будет слишкомлегко прослушивать коммуникацию и расшифровывать токены.</li> </ul><h3> Ужасный спам </h3> <p> Потребовалось IETF около 31 проекта версийи отставка ведущего автора/разработчика <span>Эрана Хаммера</span> из комитета, чтобыокончательно опубликовать <span>спецификацию</span>. Эран вызвал полемику, <span>назвав</span>спецификацию «<i>плохим протоколом и случаем смерти тысячей разрезов</i>».  По его словам, использованиетокенов-носителей (отправка токенов через SSL без их подписания или любаядругая проверка) над пользователем подписей (или MAC-токенов), используемых вOAuth 1.0 для подписи запроса, было плохим шагом и результатом разделенияинтересов между сетью и корпоративными сообществами.</p> <hr><h2>Заключительные примечания</h2> <p> Спецификация, несомненно, оставляетмного точек расширения в открытом доступе, что приводит к реализациям, которыевводят свои собственные параметры, в дополнение к тому, что уже специфицирует,и гарантирует, что реализации разных поставщиков не могут взаимодействоватьдруг с другом. Но, учитывая популярность и скоростьпринятия этой структуры, каждый крупный игрок в городе (Google, Twitter,Facebook, Salesforce, Foursquare, Github и т. д.) Реализует и настраивает еготак, как ему это подходит, OAuth далеко не провал. По факту, любоевеб-приложение, которое планирует выставлять свои API-интерфейсы другимвеб-приложениям, должно поддерживать определенную форму аутентификации иавторизации, а OAuth соответствует законопроекту.</p> <h3> Для дальнейшего чтения </h3> <ul><li><span>OAuth и дорога в ад</span></li> <li><span>OAuth – Введение</span></li> <li><span>RFC 5849 - спецификация OAuth1.0</span></li> <li><span>RFC 6749 - спецификация OAuth2.0</span></li> </ul>

</div></div>

<div class="tm-article-body__tags"><div class="tm-article-body__tags-links tm-article-body__tags-links2"><span class="tm-article-body__tags-title">Теги:</span><span class="tm-article-body__tags-item"><a aria-label="Code" href="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe" class="tm-article-body__tags-item-link">Code</a></span><span class="tm-article-body__tags-item"><a aria-label="Web Development" href="https://norma-studio.github.io/article5/220825564-oauth-20--chto-v-nem-horoshee-i-plohoe" class="tm-article-body__tags-item-link">Web Development</a></span></div></div></div></article>

<div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="v-portal" style="display:none;"></div></div><span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title><svg id="counter-views" viewBox="0 0 56 32"><path d="M28 0c18.368 0 28 13.81 28 16s-9.632 16-28 16c-18.368 0-28-13.81-28-16s9.632-16 28-16zm0 28.309c6.874 0 12.446-5.511 12.446-12.309s-5.572-12.309-12.446-12.309-12.446 5.511-12.446 12.309 5.572 12.309 12.446 12.309zM28 16c.084-1.721 5.596-3.019 4.284-4.352-2.429-2.468-6.317-2.521-8.684-.117s-2.314 6.354.116 8.821c2.429 2.468 6.317 2.521 8.683.117 1.089-1.106-4.47-3.008-4.399-4.469z"></path></svg></svg><span class="tm-icon-counter__value">
30299</span></span><button aria-label="Добавить в закладки" title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item" onclick="return addBookmark(this);"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title><svg id="counter-favorite" viewBox="0 0 12 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 0C0.734784 0 0.48043 0.105357 0.292893 0.292893C0.105357 0.48043 0 0.734784 0 1V15C0 15.3603 0.193793 15.6927 0.507301 15.8702C0.82081 16.0477 1.20556 16.0429 1.5145 15.8575L6 13.1662L10.4855 15.8575C10.7944 16.0429 11.1792 16.0477 11.4927 15.8702C11.8062 15.6927 12 15.3603 12 15V1C12 0.447715 11.5523 0 11 0H1Z"></path></svg></svg></span><span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
675</span></button><div title="Поделиться" class="tm-sharing tm-data-icons__item">
<button aria-label="sharing" type="button" class="tm-sharing__button sharer button btn5242" data-sharer="vk" data-url="none"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button></div><div class="v-portal" style="display:none;"></div></div></div>
</div>

<div class="tm-page-article__additional-blocks wr55"></div>
<!-- pagination -->
 </div></div>
<!-- sidebar -->
<div class="tm-page__sidebar"><div id="572480" class="tm-layout-sidebar">

<div class="tm-sexy-sidebar tm-sexy-sidebar_stick-top wr54" style="margin-top: 0px;">
<section class="tm-block tm-block_spacing-bottom wr12a"></section>
<section class="tm-block tm-block_spacing-bottom wr12">

</section>
</div></div></div></div></div></div></main></div><div id="exbottom" class="tm-footer wr56"></div></div><div class="vue-portal-target"></div></div>
<link rel="stylesheet" href="../style.css">
<script src="../jquery-3.7.0.min.js"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y9PLTD9XQE"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-Y9PLTD9XQE");</script><script>(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(63258550, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true});</script><noscript><div><img src="https://mc.yandex.ru/watch/63258550" style="position:absolute; left:-9999px;" alt="" /></div></noscript></body></html>
